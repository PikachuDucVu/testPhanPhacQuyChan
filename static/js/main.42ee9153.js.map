{"version":3,"file":"static/js/main.42ee9153.js","mappings":"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","sources":["../node_modules/events/events.js","../node_modules/fastbitset/FastBitSet.js","../node_modules/flat-ecs/lib/Archetype.js","../node_modules/flat-ecs/lib/Component.js","../node_modules/flat-ecs/lib/ComponentMapper.js","../node_modules/flat-ecs/lib/EntityIteratingSystem.js","../node_modules/flat-ecs/lib/EntitySystem.js","../node_modules/flat-ecs/lib/Inject.js","../node_modules/flat-ecs/lib/InjectMapper.js","../node_modules/flat-ecs/lib/System.js","../node_modules/flat-ecs/lib/World.js","../node_modules/flat-ecs/lib/index.js","../node_modules/gdxts/dist/lib/Animation.js","../node_modules/gdxts/dist/lib/AssetManager.js","../node_modules/gdxts/dist/lib/BitmapFont.js","../node_modules/gdxts/dist/lib/BitmapFontCache.js","../node_modules/gdxts/dist/lib/BitmapFontData.js","../node_modules/gdxts/dist/lib/BoundingBox.js","../node_modules/gdxts/dist/lib/Camera.js","../node_modules/gdxts/dist/lib/Game.js","../node_modules/gdxts/dist/lib/Glyph.js","../node_modules/gdxts/dist/lib/GlyphLayout.js","../node_modules/gdxts/dist/lib/GlyphRun.js","../node_modules/gdxts/dist/lib/InputHandler.js","../node_modules/gdxts/dist/lib/Matrix4.js","../node_modules/gdxts/dist/lib/Mesh.js","../node_modules/gdxts/dist/lib/NumberUtils.js","../node_modules/gdxts/dist/lib/PolygonBatcher.js","../node_modules/gdxts/dist/lib/Shader.js","../node_modules/gdxts/dist/lib/ShapeRenderer.js","../node_modules/gdxts/dist/lib/Sprite.js","../node_modules/gdxts/dist/lib/Texture.js","../node_modules/gdxts/dist/lib/TextureAtlas.js","../node_modules/gdxts/dist/lib/TextureRegion.js","../node_modules/gdxts/dist/lib/Utils.js","../node_modules/gdxts/dist/lib/Vector2.js","../node_modules/gdxts/dist/lib/Vector3.js","../node_modules/gdxts/dist/lib/Viewport.js","../node_modules/gdxts/dist/lib/ViewportInputHandler.js","../node_modules/gdxts/dist/lib/index.js","../node_modules/hxdaedalus-js/hxDaedalus.js","../node_modules/walkable/index.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/@babel/runtime/helpers/get.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/bump-ts/src/helpers/generic/assertIsPositiveNumber.ts","../node_modules/bump-ts/src/constants.ts","../node_modules/bump-ts/src/helpers/generic/nearest.ts","../node_modules/bump-ts/src/rect.ts","../node_modules/bump-ts/src/grid.ts","../node_modules/bump-ts/src/helpers/generic/assertType.ts","../node_modules/bump-ts/src/helpers/generic/assertIsRect.ts","../node_modules/bump-ts/src/helpers/world/responses.ts","../node_modules/bump-ts/src/helpers/world/sortByTiAndDistance.ts","../node_modules/bump-ts/src/index.ts","../node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js","component/Health.ts","component/Movable.ts","component/PathFinding.ts","component/Pursuit.ts","component/Spartial.ts","Constant.ts","ChangeMapSystem.ts","enemy/EnemyProcessingSystem.ts","enemy/EnemyRenderSystem.ts","enemy/EnemySpawningSystem.ts","MapRenderingSystem.ts","MovementSystem.ts","ObstaclesSystem.ts","PathFindingSystem.ts","component/Damage.ts","player/PlayerMovementSystem.ts","player/PlayerRenderSystem.ts","player/skill/BulletProcessingSystem.ts","player/skill/BulletRenderSystem.ts","player/skill/BulletSpawningSystem.ts","PursuitSystem.ts","index.ts"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * FastBitSet.js : a fast bit set implementation in JavaScript.\n * (c) the authors\n * Licensed under the Apache License, Version 2.0.\n *\n * Speed-optimized BitSet implementation for modern browsers and JavaScript engines.\n *\n * A BitSet is an ideal data structure to implement a Set when values being stored are\n * reasonably small integers. It can be orders of magnitude faster than a generic set implementation.\n * The FastBitSet implementation optimizes for speed, leveraging commonly available features\n * like typed arrays.\n *\n * Simple usage :\n *  // var FastBitSet = require(\"fastbitset\");// if you use node\n *  var b = new FastBitSet();// initially empty\n *  b.add(1);// add the value \"1\"\n *  b.has(1); // check that the value is present! (will return true)\n *  b.add(2);\n *  console.log(\"\"+b);// should display {1,2}\n *  b.add(10);\n *  b.array(); // would return [1,2,10]\n *\n *  var c = new FastBitSet([1,2,3,10]); // create bitset initialized with values 1,2,3,10\n *  c.difference(b); // from c, remove elements that are in b\n *  var su = c.union_size(b);// compute the size of the union (bitsets are unchanged)\n * c.union(b); // c will contain all elements that are in c and b\n * var s1 = c.intersection_size(b);// compute the size of the intersection (bitsets are unchanged)\n * c.intersection(b); // c will only contain elements that are in both c and b\n * c = b.clone(); // create a (deep) copy of b and assign it to c.\n * c.equals(b); // check whether c and b are equal\n *\n *   See README.md file for a more complete description.\n *\n * You can install the library under node with the command line\n *   npm install fastbitset\n */\n'use strict';\n\nfunction isIterable(obj) {\n  if (obj == null) {\n    return false;\n  }\n  return obj[Symbol.iterator] !== undefined;\n}\n\n// you can provide an iterable\nfunction FastBitSet(iterable) {\n  this.words = []\n  if (isIterable(iterable)) {\n    for (var key of iterable) {\n      this.add(key);\n    }\n  }\n}\n\n// Add the value (Set the bit at index to true)\nFastBitSet.prototype.add = function(index) {\n  this.resize(index);\n  this.words[index >>> 5] |= 1 << index ;\n};\n\n// If the value was not in the set, add it, otherwise remove it (flip bit at index)\nFastBitSet.prototype.flip = function(index) {\n  this.resize(index);\n  this.words[index >>> 5] ^= 1 << index ;\n};\n\n// Remove all values, reset memory usage\nFastBitSet.prototype.clear = function() {\n  this.words = []\n};\n\n// Set the bit at index to false\nFastBitSet.prototype.remove = function(index) {\n  this.resize(index);\n  this.words[index  >>> 5] &= ~(1 << index);\n};\n\n// Return true if no bit is set\nFastBitSet.prototype.isEmpty = function(index) {\n  var c = this.words.length;\n  for (var  i = 0; i < c; i++) {\n    if (this.words[i] !== 0) return false;\n  }\n  return true;\n};\n\n// Is the value contained in the set? Is the bit at index true or false? Returns a boolean\nFastBitSet.prototype.has = function(index) {\n  return (this.words[index  >>> 5] & (1 << index)) !== 0;\n};\n\n// Tries to add the value (Set the bit at index to true), return 1 if the\n// value was added, return 0 if the value was already present\nFastBitSet.prototype.checkedAdd = function(index) {\n  this.resize(index);\n  var word = this.words[index  >>> 5]\n  var newword = word | (1 << index)\n  this.words[index >>> 5] = newword\n  return (newword ^ word) >>> index\n};\n\n\n// Reduce the memory usage to a minimum\nFastBitSet.prototype.trim = function(index) {\n  var nl = this.words.length\n  while ((nl > 0) && (this.words[nl - 1] === 0)) {\n      nl--;\n  }\n  this.words = this.words.slice(0,nl);\n};\n\n\n// Resize the bitset so that we can write a value at index\nFastBitSet.prototype.resize = function(index) {\n  var count = (index + 32) >>> 5;// just what is needed\n  for(var i = this.words.length; i < count; i++) this.words[i] = 0;\n};\n\n// fast function to compute the Hamming weight of a 32-bit unsigned integer\nFastBitSet.prototype.hammingWeight = function(v) {\n  v -= ((v >>> 1) & 0x55555555);// works with signed or unsigned shifts\n  v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\n  return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;\n};\n\n\n// fast function to compute the Hamming weight of four 32-bit unsigned integers\nFastBitSet.prototype.hammingWeight4 = function(v1,v2,v3,v4) {\n  v1 -= ((v1 >>> 1) & 0x55555555);// works with signed or unsigned shifts\n  v2 -= ((v2 >>> 1) & 0x55555555);// works with signed or unsigned shifts\n  v3 -= ((v3 >>> 1) & 0x55555555);// works with signed or unsigned shifts\n  v4 -= ((v4 >>> 1) & 0x55555555);// works with signed or unsigned shifts\n\n  v1 = (v1 & 0x33333333) + ((v1 >>> 2) & 0x33333333);\n  v2 = (v2 & 0x33333333) + ((v2 >>> 2) & 0x33333333);\n  v3 = (v3 & 0x33333333) + ((v3 >>> 2) & 0x33333333);\n  v4 = (v4 & 0x33333333) + ((v4 >>> 2) & 0x33333333);\n\n  v1 = v1 + (v1 >>> 4) & 0xF0F0F0F;\n  v2 = v2 + (v2 >>> 4) & 0xF0F0F0F;\n  v3 = v3 + (v3 >>> 4) & 0xF0F0F0F;\n  v4 = v4 + (v4 >>> 4) & 0xF0F0F0F;\n  return (( (v1 + v2 + v3 + v4) * 0x1010101) >>> 24);\n};\n\n// How many values stored in the set? How many set bits?\nFastBitSet.prototype.size = function() {\n  var answer = 0;\n  var c = this.words.length;\n  var w = this.words;\n  var i = 0;\n  for (; i < c; i++) {\n    answer += this.hammingWeight(w[i]);\n  }\n  return answer;\n};\n\n// Return an array with the set bit locations (values)\nFastBitSet.prototype.array = function() {\n  var answer = new Array(this.size());\n  var pos = 0 | 0;\n  var c = this.words.length;\n  for (var k = 0; k < c; ++k) {\n    var w =  this.words[k];\n    while (w != 0) {\n      var t = w & -w;\n      answer[pos++] = (k << 5) + this.hammingWeight((t - 1) | 0);\n      w ^= t;\n    }\n  }\n  return answer;\n};\n\n\n// Return an array with the set bit locations (values)\nFastBitSet.prototype.forEach = function(fnc) {\n  var c = this.words.length;\n  for (var k = 0; k < c; ++k) {\n    var w =  this.words[k];\n    while (w != 0) {\n      var t = w & -w;\n      fnc((k << 5) + this.hammingWeight((t - 1) | 0));\n      w ^= t;\n    }\n  }\n};\n\n// Creates a copy of this bitmap\nFastBitSet.prototype.clone = function() {\n  var clone = Object.create(FastBitSet.prototype);\n  clone.words = this.words.slice();\n  return clone;\n};\n\n// Check if this bitset intersects with another one,\n// no bitmap is modified\nFastBitSet.prototype.intersects = function(otherbitmap) {\n  var newcount = Math.min(this.words.length,otherbitmap.words.length);\n  for (var k = 0 | 0; k < newcount; ++k) {\n    if ((this.words[k] & otherbitmap.words[k]) !== 0) return true;\n  }\n  return false;\n};\n\n// Computes the intersection between this bitset and another one,\n// the current bitmap is modified  (and returned by the function)\nFastBitSet.prototype.intersection = function(otherbitmap) {\n  var newcount = Math.min(this.words.length,otherbitmap.words.length);\n  var k = 0 | 0;\n  for (; k + 7 < newcount; k += 8) {\n    this.words[k] &= otherbitmap.words[k];\n    this.words[k + 1] &= otherbitmap.words[k + 1];\n    this.words[k + 2] &= otherbitmap.words[k + 2];\n    this.words[k + 3] &= otherbitmap.words[k + 3];\n    this.words[k + 4] &= otherbitmap.words[k + 4];\n    this.words[k + 5] &= otherbitmap.words[k + 5];\n    this.words[k + 6] &= otherbitmap.words[k + 6];\n    this.words[k + 7] &= otherbitmap.words[k + 7];\n  }\n  for (; k < newcount; ++k) {\n    this.words[k] &= otherbitmap.words[k];\n  }\n  var c = this.words.length;\n  for (var k = newcount; k < c; ++k) {\n    this.words[k] = 0;\n  }\n  return this;\n};\n\n// Computes the size of the intersection between this bitset and another one\nFastBitSet.prototype.intersection_size = function(otherbitmap) {\n  var newcount = Math.min(this.words.length,otherbitmap.words.length);\n  var answer = 0 | 0;\n  for (var k = 0 | 0; k < newcount; ++k) {\n    answer += this.hammingWeight(this.words[k] & otherbitmap.words[k]);\n  }\n\n  return answer;\n};\n\n// Computes the intersection between this bitset and another one,\n// a new bitmap is generated\nFastBitSet.prototype.new_intersection = function(otherbitmap) {\n  var answer = Object.create(FastBitSet.prototype);\n  var count = Math.min(this.words.length,otherbitmap.words.length);\n  answer.words = new Array(count);\n  var c = count;\n  var k = 0 | 0;\n  for (; k + 7  < c; k += 8) {\n      answer.words[k] = this.words[k] & otherbitmap.words[k];\n      answer.words[k+1] = this.words[k+1] & otherbitmap.words[k+1];\n      answer.words[k+2] = this.words[k+2] & otherbitmap.words[k+2];\n      answer.words[k+3] = this.words[k+3] & otherbitmap.words[k+3];\n      answer.words[k+4] = this.words[k+4] & otherbitmap.words[k+4];\n      answer.words[k+5] = this.words[k+5] & otherbitmap.words[k+5];\n      answer.words[k+6] = this.words[k+6] & otherbitmap.words[k+6];\n      answer.words[k+7] = this.words[k+7] & otherbitmap.words[k+7];\n  }\n  for (; k < c; ++k) {\n    answer.words[k] = this.words[k] & otherbitmap.words[k];\n  }\n  return answer;\n};\n\n// Computes the intersection between this bitset and another one,\n// the current bitmap is modified\nFastBitSet.prototype.equals = function(otherbitmap) {\n  var mcount = Math.min(this.words.length , otherbitmap.words.length);\n  for (var k = 0 | 0; k < mcount; ++k) {\n    if (this.words[k] != otherbitmap.words[k]) return false;\n  }\n  if (this.words.length < otherbitmap.words.length) {\n    var c = otherbitmap.words.length;\n    for (var k = this.words.length; k < c; ++k) {\n      if (otherbitmap.words[k] != 0) return false;\n    }\n  } else if (otherbitmap.words.length < this.words.length) {\n    var c = this.words.length;\n    for (var k = otherbitmap.words.length; k < c; ++k) {\n      if (this.words[k] != 0) return false;\n    }\n  }\n  return true;\n};\n\n// Computes the difference between this bitset and another one,\n// the current bitset is modified (and returned by the function)\nFastBitSet.prototype.difference = function(otherbitmap) {\n  var newcount = Math.min(this.words.length,otherbitmap.words.length);\n  var k = 0 | 0;\n  for (; k + 7 < newcount; k += 8) {\n    this.words[k] &= ~otherbitmap.words[k];\n    this.words[k + 1] &= ~otherbitmap.words[k + 1];\n    this.words[k + 2] &= ~otherbitmap.words[k + 2];\n    this.words[k + 3] &= ~otherbitmap.words[k + 3];\n    this.words[k + 4] &= ~otherbitmap.words[k + 4];\n    this.words[k + 5] &= ~otherbitmap.words[k + 5];\n    this.words[k + 6] &= ~otherbitmap.words[k + 6];\n    this.words[k + 7] &= ~otherbitmap.words[k + 7];\n  }\n  for (; k < newcount; ++k) {\n    this.words[k] &= ~otherbitmap.words[k];\n  }\n  return this;\n};\n\n// Computes the size of the difference between this bitset and another one\nFastBitSet.prototype.difference_size = function(otherbitmap) {\n  var newcount = Math.min(this.words.length,otherbitmap.words.length);\n  var answer = 0 | 0;\n  var k = 0 | 0;\n  for (; k < newcount; ++k) {\n    answer += this.hammingWeight(this.words[k] & (~otherbitmap.words[k]));\n  }\n  var c = this.words.length;\n  for (; k < c; ++k) {\n    answer += this.hammingWeight(this.words[k]);\n  }\n  return answer;\n};\n\n// Returns a string representation\nFastBitSet.prototype.toString = function() {\n  return '{' + this.array().join(',') + '}';\n};\n\n// Computes the union between this bitset and another one,\n// the current bitset is modified  (and returned by the function)\nFastBitSet.prototype.union = function(otherbitmap) {\n  var mcount = Math.min(this.words.length,otherbitmap.words.length);\n  var k = 0 | 0;\n  for (; k + 7  < mcount; k += 8) {\n    this.words[k] |= otherbitmap.words[k];\n    this.words[k + 1] |= otherbitmap.words[k + 1];\n    this.words[k + 2] |= otherbitmap.words[k + 2];\n    this.words[k + 3] |= otherbitmap.words[k + 3];\n    this.words[k + 4] |= otherbitmap.words[k + 4];\n    this.words[k + 5] |= otherbitmap.words[k + 5];\n    this.words[k + 6] |= otherbitmap.words[k + 6];\n    this.words[k + 7] |= otherbitmap.words[k + 7];\n  }\n  for (; k < mcount; ++k) {\n    this.words[k] |= otherbitmap.words[k];\n  }\n  if (this.words.length < otherbitmap.words.length) {\n    this.resize((otherbitmap.words.length  << 5) - 1);\n    var c = otherbitmap.words.length;\n    for (var k = mcount; k < c; ++k) {\n      this.words[k] = otherbitmap.words[k];\n    }\n  }\n  return this;\n};\n\nFastBitSet.prototype.new_union = function(otherbitmap) {\n  var answer = Object.create(FastBitSet.prototype);\n  var count = Math.max(this.words.length,otherbitmap.words.length);\n  answer.words = new Array(count);\n  var mcount = Math.min(this.words.length,otherbitmap.words.length)\n  var k = 0;\n  for (; k + 7  < mcount; k += 8) {\n      answer.words[k] = this.words[k] | otherbitmap.words[k];\n      answer.words[k+1] = this.words[k+1] | otherbitmap.words[k+1];\n      answer.words[k+2] = this.words[k+2] | otherbitmap.words[k+2];\n      answer.words[k+3] = this.words[k+3] | otherbitmap.words[k+3];\n      answer.words[k+4] = this.words[k+4] | otherbitmap.words[k+4];\n      answer.words[k+5] = this.words[k+5] | otherbitmap.words[k+5];\n      answer.words[k+6] = this.words[k+6] | otherbitmap.words[k+6];\n      answer.words[k+7] = this.words[k+7] | otherbitmap.words[k+7];\n  }\n  for (; k < mcount; ++k) {\n      answer.words[k] = this.words[k] | otherbitmap.words[k];\n  }\n  var c = this.words.length;\n  for (var k = mcount; k < c; ++k) {\n      answer.words[k] = this.words[k] ;\n  }\n  var c2 = otherbitmap.words.length;\n  for (var k = mcount; k < c2; ++k) {\n      answer.words[k] = otherbitmap.words[k] ;\n  }\n  return answer;\n};\n\n\n// Computes the difference between this bitset and another one,\n// a new bitmap is generated\nFastBitSet.prototype.new_difference = function(otherbitmap) {\n  return this.clone().difference(otherbitmap);// should be fast enough\n};\n\n// Computes the size union between this bitset and another one\nFastBitSet.prototype.union_size = function(otherbitmap) {\n  var mcount = Math.min(this.words.length,otherbitmap.words.length);\n  var answer = 0 | 0;\n  for (var k = 0 | 0; k < mcount; ++k) {\n    answer += this.hammingWeight(this.words[k] | otherbitmap.words[k]);\n  }\n  if (this.words.length < otherbitmap.words.length) {\n    var c = otherbitmap.words.length;\n    for (var k = this.words.length ; k < c; ++k) {\n      answer += this.hammingWeight(otherbitmap.words[k] | 0);\n    }\n  } else {\n    var c = this.words.length;\n    for (var k = otherbitmap.words.length ; k < c; ++k) {\n      answer += this.hammingWeight(this.words[k] | 0);\n    }\n  }\n  return answer;\n};\n\n\n\n\n///////////////\n\nmodule.exports = FastBitSet;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Archetype = void 0;\nconst fastbitset_1 = __importDefault(require(\"fastbitset\"));\nclass Archetype {\n    constructor(componentTypes) {\n        this.componentBits = new fastbitset_1.default();\n        this.componentBitsInitialized = false;\n        this.componentTypes = componentTypes;\n    }\n}\nexports.Archetype = Archetype;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Component = void 0;\nclass Component {\n}\nexports.Component = Component;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ComponentMapper = void 0;\nclass ComponentMapper {\n    constructor() {\n        this.data = [];\n    }\n    add(entityId, component) {\n        this.data[entityId] = component;\n    }\n    get(entityId) {\n        return this.data[entityId];\n    }\n    remove(entityId) {\n        delete this.data[entityId];\n    }\n}\nexports.ComponentMapper = ComponentMapper;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EntityIteratingSystem = void 0;\nconst System_1 = require(\"./System\");\nconst fastbitset_1 = __importDefault(require(\"fastbitset\"));\nclass EntityIteratingSystem extends System_1.System {\n    constructor(types) {\n        super();\n        this.componentBits = new fastbitset_1.default();\n        this.types = types;\n    }\n    setWorld(world) {\n        super.setWorld(world);\n        for (let type of this.types) {\n            this.componentBits.add(world.getComponentIndex(type));\n        }\n    }\n    process() {\n        this.begin();\n        this.world.getEntities(this.componentBits, this.processEntity.bind(this));\n        this.end();\n    }\n    begin() { }\n    end() { }\n}\nexports.EntityIteratingSystem = EntityIteratingSystem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EntitySystem = void 0;\nconst EntityIteratingSystem_1 = require(\"./EntityIteratingSystem\");\nclass EntitySystem extends EntityIteratingSystem_1.EntityIteratingSystem {\n    constructor() {\n        super(...arguments);\n        this.entities = [];\n    }\n    process() {\n        this.entities.length = 0;\n        this.begin();\n        this.world.getEntities(this.componentBits, this.processEntity.bind(this));\n        this.processEntities(this.entities);\n        this.end();\n    }\n    processEntity(entityId) {\n        this.entities.push(entityId);\n    }\n}\nexports.EntitySystem = EntitySystem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Inject = void 0;\nfunction Inject(name) {\n    return (target, propName) => {\n        const targetType = target.constructor;\n        if (!targetType.hasOwnProperty('__inject__')) {\n            targetType.__inject__ = {};\n        }\n        targetType.__inject__[propName] = name;\n    };\n}\nexports.Inject = Inject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InjectMapper = void 0;\nfunction InjectMapper(type) {\n    return (target, propName) => {\n        const targetType = target.constructor;\n        if (!targetType.hasOwnProperty('__injectMapper__')) {\n            targetType.__injectMapper__ = {};\n        }\n        targetType.__injectMapper__[propName] = type;\n    };\n}\nexports.InjectMapper = InjectMapper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.System = void 0;\nclass System {\n    setWorld(world) {\n        this.world = world;\n    }\n    initialized() { }\n    dispose() { }\n}\nexports.System = System;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fastbitset_1 = __importDefault(require(\"fastbitset\"));\nconst ComponentMapper_1 = require(\"./ComponentMapper\");\nclass World {\n    constructor() {\n        this.index = 0;\n        this.mappers = {};\n        this.componentBitsMap = [];\n        this.componentIndices = new Map();\n        this.currentComponentIndex = 0;\n        this.activeSystems = [];\n        this.passiveSystems = [];\n        this.injectionRegistry = {};\n        this.delta = 0;\n    }\n    getNewId() {\n        return this.index++;\n    }\n    createEntity() {\n        const id = this.getNewId();\n        return id;\n    }\n    getComponentBits(entityId) {\n        if (!this.componentBitsMap[entityId]) {\n            this.componentBitsMap[entityId] = new fastbitset_1.default();\n        }\n        return this.componentBitsMap[entityId];\n    }\n    getMapper(type) {\n        const typeIndex = this.getComponentIndex(type);\n        return this.getMapperByIndex(typeIndex);\n    }\n    getMapperByIndex(typeIndex) {\n        if (!this.mappers[typeIndex]) {\n            this.mappers[typeIndex] = new ComponentMapper_1.ComponentMapper();\n        }\n        return this.mappers[typeIndex];\n    }\n    getComponentIndex(type) {\n        let index = this.componentIndices.get(type);\n        if (index === undefined) {\n            index = this.currentComponentIndex++;\n            this.componentIndices.set(type, index);\n        }\n        return index;\n    }\n    createEntityByArchetype(archetype) {\n        const id = this.getNewId();\n        archetype.componentTypes.forEach(type => {\n            const component = new type();\n            if (!archetype.componentBitsInitialized) {\n                archetype.componentBits.add(this.getComponentIndex(type));\n            }\n            this.addComponent(id, component, false);\n        });\n        this.componentBitsMap[id] = archetype.componentBits;\n        return id;\n    }\n    addComponent(entityId, component, updateComponentBits = true) {\n        const typeIndex = this.getComponentIndex(component.constructor);\n        const mapper = this.getMapperByIndex(typeIndex);\n        mapper.add(entityId, component);\n        if (updateComponentBits)\n            this.getComponentBits(entityId).add(typeIndex);\n        return component;\n    }\n    getComponent(entityId, type) {\n        const mapper = this.getMapper(type);\n        return mapper.get(entityId);\n    }\n    getEntities(componentBits, iterator) {\n        for (let i = 0; i < this.componentBitsMap.length; i++) {\n            if (this.componentBitsMap[i]) {\n                const entityComponentBits = this.componentBitsMap[i];\n                if (componentBits.union_size(entityComponentBits) === entityComponentBits.size()) {\n                    iterator(i);\n                }\n            }\n        }\n    }\n    addSystem(system, active = true) {\n        active ? this.activeSystems.push(system) : this.passiveSystems.push(system);\n        system.setWorld(this);\n        this.injectMapper(system);\n        this.inject(system);\n        system.initialized();\n    }\n    injectMapper(system) {\n        const type = system.constructor;\n        const injectPoints = type.__injectMapper__ || {};\n        for (let injectKey in injectPoints) {\n            const componentType = injectPoints[injectKey];\n            system[injectKey] = this.getMapper(componentType);\n        }\n    }\n    register(name, value) {\n        this.injectionRegistry[name] = value;\n    }\n    inject(object) {\n        const type = object.constructor;\n        const injectPoints = type.__inject__ || {};\n        for (let injectKey in injectPoints) {\n            const injectName = injectPoints[injectKey];\n            object[injectKey] = this.injectionRegistry[injectName];\n        }\n    }\n    dispose() {\n        for (let system of this.activeSystems) {\n            system.dispose();\n        }\n        for (let system of this.passiveSystems) {\n            system.dispose();\n        }\n    }\n    setDelta(delta) {\n        this.delta = delta;\n    }\n    processActiveSystem() {\n        for (let system of this.activeSystems) {\n            system.process();\n        }\n    }\n    processPassiveSystem() {\n        for (let system of this.passiveSystems) {\n            system.process();\n        }\n    }\n    deleteEntity(entityId) {\n        for (let type in this.mappers) {\n            this.mappers[type].remove(entityId);\n        }\n        delete this.componentBitsMap[entityId];\n    }\n    isEntityActive(entityId) {\n        return !!this.componentBitsMap[entityId];\n    }\n}\nexports.default = World;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar World_1 = require(\"./World\");\nObject.defineProperty(exports, \"World\", { enumerable: true, get: function () { return World_1.default; } });\nvar Archetype_1 = require(\"./Archetype\");\nObject.defineProperty(exports, \"Archetype\", { enumerable: true, get: function () { return Archetype_1.Archetype; } });\nvar Component_1 = require(\"./Component\");\nObject.defineProperty(exports, \"Component\", { enumerable: true, get: function () { return Component_1.Component; } });\nvar ComponentMapper_1 = require(\"./ComponentMapper\");\nObject.defineProperty(exports, \"ComponentMapper\", { enumerable: true, get: function () { return ComponentMapper_1.ComponentMapper; } });\nvar EntityIteratingSystem_1 = require(\"./EntityIteratingSystem\");\nObject.defineProperty(exports, \"EntityIteratingSystem\", { enumerable: true, get: function () { return EntityIteratingSystem_1.EntityIteratingSystem; } });\nvar EntitySystem_1 = require(\"./EntitySystem\");\nObject.defineProperty(exports, \"EntitySystem\", { enumerable: true, get: function () { return EntitySystem_1.EntitySystem; } });\nvar System_1 = require(\"./System\");\nObject.defineProperty(exports, \"System\", { enumerable: true, get: function () { return System_1.System; } });\nvar InjectMapper_1 = require(\"./InjectMapper\");\nObject.defineProperty(exports, \"InjectMapper\", { enumerable: true, get: function () { return InjectMapper_1.InjectMapper; } });\nvar Inject_1 = require(\"./Inject\");\nObject.defineProperty(exports, \"Inject\", { enumerable: true, get: function () { return Inject_1.Inject; } });\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Animation = exports.PlayMode = void 0;\r\nvar PlayMode;\r\n(function (PlayMode) {\r\n    PlayMode[PlayMode[\"NORMAL\"] = 0] = \"NORMAL\";\r\n    PlayMode[PlayMode[\"LOOP\"] = 1] = \"LOOP\";\r\n    PlayMode[PlayMode[\"LOOP_PINGPONG\"] = 2] = \"LOOP_PINGPONG\";\r\n    PlayMode[PlayMode[\"REVERSED\"] = 3] = \"REVERSED\";\r\n    PlayMode[PlayMode[\"LOOP_REVERSED\"] = 4] = \"LOOP_REVERSED\";\r\n})(PlayMode = exports.PlayMode || (exports.PlayMode = {}));\r\nclass Animation {\r\n    constructor(keyFrames, frameDurations) {\r\n        this.totalDuration = 0;\r\n        this.keyFrames = keyFrames;\r\n        if (!Array.isArray(frameDurations)) {\r\n            frameDurations = [frameDurations];\r\n        }\r\n        const lastDuration = frameDurations[frameDurations.length - 1] || 0;\r\n        while (frameDurations.length < keyFrames.length) {\r\n            frameDurations.push(lastDuration);\r\n        }\r\n        for (let fD of frameDurations) {\r\n            this.totalDuration += fD;\r\n        }\r\n        this.frameDurations = frameDurations;\r\n    }\r\n    getFrameNumber(stateTimeRemainder, reverse = false) {\r\n        const { frameDurations } = this;\r\n        let fN = reverse ? frameDurations.length - 1 : 0;\r\n        while (true) {\r\n            stateTimeRemainder -= frameDurations[fN];\r\n            if (stateTimeRemainder < 0) {\r\n                break;\r\n            }\r\n            reverse ? fN-- : fN++;\r\n        }\r\n        return fN;\r\n    }\r\n    getKeyFrame(stateTime, mode) {\r\n        const { keyFrames, frameDurations, totalDuration } = this;\r\n        const runIndex = Math.floor(stateTime / totalDuration);\r\n        const stateTimeRemainder = stateTime % totalDuration;\r\n        let frameNumber = 0;\r\n        switch (mode) {\r\n            case PlayMode.NORMAL:\r\n                frameNumber = runIndex === 0 ? this.getFrameNumber(stateTimeRemainder) : frameDurations.length - 1;\r\n                break;\r\n            case PlayMode.LOOP:\r\n                frameNumber = this.getFrameNumber(stateTimeRemainder);\r\n                break;\r\n            case PlayMode.LOOP_PINGPONG:\r\n                frameNumber = this.getFrameNumber(stateTimeRemainder, runIndex % 2 === 1);\r\n                break;\r\n            case PlayMode.REVERSED:\r\n                frameNumber = runIndex === 0 ? this.getFrameNumber(stateTimeRemainder, true) : 0;\r\n                break;\r\n            case PlayMode.LOOP_REVERSED:\r\n                frameNumber = this.getFrameNumber(stateTimeRemainder, true);\r\n                break;\r\n            default:\r\n        }\r\n        return keyFrames[frameNumber];\r\n    }\r\n}\r\nexports.Animation = Animation;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AssetManager = void 0;\r\nconst BitmapFont_1 = require(\"./BitmapFont\");\r\nconst Texture_1 = require(\"./Texture\");\r\nconst TextureAtlas_1 = require(\"./TextureAtlas\");\r\nclass AssetManager {\r\n    constructor(gl) {\r\n        this.promises = [];\r\n        this.atlases = new Map();\r\n        this.textures = new Map();\r\n        this.jsonData = new Map();\r\n        this.binaryData = new Map();\r\n        this.done = 0;\r\n        this.listeners = [];\r\n        this.fonts = new Map();\r\n        this.gl = gl;\r\n    }\r\n    addListener(handler) {\r\n        this.listeners.push(handler);\r\n    }\r\n    reportDone() {\r\n        this.done++;\r\n        for (const handler of this.listeners) {\r\n            handler((this.done / this.getTotal()) * 100, this.done >= this.getTotal());\r\n        }\r\n    }\r\n    loadAtlas(path, name) {\r\n        const promise = TextureAtlas_1.TextureAtlas.load(this.gl, path, {}).then(atlas => {\r\n            this.atlases.set(name, atlas);\r\n            this.reportDone();\r\n            return atlas;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getAtlas(name) {\r\n        return this.atlases.get(name);\r\n    }\r\n    loadJsonData(path, name) {\r\n        const promise = fetch(path)\r\n            .then(res => res.json())\r\n            .then(json => {\r\n            this.jsonData.set(name, json);\r\n            this.reportDone();\r\n            return json;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getJsonData(name) {\r\n        return this.jsonData.get(name);\r\n    }\r\n    loadBinaryData(path, name) {\r\n        const promise = fetch(path)\r\n            .then(res => res.arrayBuffer())\r\n            .then(buffer => {\r\n            this.binaryData.set(name, buffer);\r\n            this.reportDone();\r\n            return buffer;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getBinaryData(name) {\r\n        return this.binaryData.get(name);\r\n    }\r\n    loadFont(path, name, flip = false) {\r\n        const promise = BitmapFont_1.BitmapFont.load(this.gl, path, flip).then(font => {\r\n            this.fonts.set(name, font);\r\n            this.reportDone();\r\n            return font;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getFont(name) {\r\n        return this.fonts.get(name);\r\n    }\r\n    loadTexture(path, name) {\r\n        const promise = Texture_1.Texture.load(this.gl, path).then(texture => {\r\n            this.textures.set(name, texture);\r\n            this.reportDone();\r\n            return texture;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getTexture(name) {\r\n        return this.textures.get(name);\r\n    }\r\n    finishLoading() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield Promise.all(this.promises);\r\n        });\r\n    }\r\n    getDone() {\r\n        return this.done;\r\n    }\r\n    getTotal() {\r\n        return this.promises.length;\r\n    }\r\n    disposeAll() {\r\n        const atlasKeys = [...this.atlases.keys()];\r\n        atlasKeys.forEach(key => {\r\n            var _a;\r\n            const textureRegions = ((_a = this.atlases.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\r\n            textureRegions.forEach(texture => {\r\n                var _a;\r\n                (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            });\r\n            this.atlases.delete(key);\r\n        });\r\n        const localTextureKeys = [...this.textures.keys()];\r\n        localTextureKeys.forEach(key => {\r\n            var _a;\r\n            (_a = this.textures.get(key)) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            this.textures.delete(key);\r\n        });\r\n        const fontMapKeys = [...this.fonts.keys()];\r\n        fontMapKeys.forEach(key => {\r\n            var _a;\r\n            const textureRegions = ((_a = this.fonts.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\r\n            textureRegions.forEach(texture => {\r\n                var _a;\r\n                (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            });\r\n            this.fonts.delete(key);\r\n        });\r\n    }\r\n}\r\nexports.AssetManager = AssetManager;\r\nexports.default = AssetManager;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BitmapFont = void 0;\r\nconst BitmapFontCache_1 = require(\"./BitmapFontCache\");\r\nconst BitmapFontData_1 = require(\"./BitmapFontData\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass BitmapFont {\r\n    /** Constructs a new BitmapFont from the given {@link BitmapFontData} and array of {@link TextureRegion}. If the TextureRegion\r\n     * is null or empty, the image path(s) will be read from the BitmapFontData. The dispose() method will not dispose the texture\r\n     * of the region(s) if the regions array is != null and not empty.\r\n     * @param integer If true, rendering positions will be at integer values to avoid filtering artifacts. */\r\n    constructor(data, regions, integer) {\r\n        this.load = (data) => {\r\n            const glyphValues = Object.values(data.glyphs);\r\n            for (let i = 0; i < glyphValues.length; i++) {\r\n                const page = glyphValues[i];\r\n                if (!page)\r\n                    continue;\r\n                for (let j = 0; j < page.length; j++) {\r\n                    const glyph = page[j];\r\n                    if (glyph) {\r\n                        data.setGlyphRegion(glyph, this.regions[glyph.page]);\r\n                    }\r\n                }\r\n            }\r\n            if (data.missingGlyph != null)\r\n                data.setGlyphRegion(data.missingGlyph, this.regions[data.missingGlyph.page]);\r\n        };\r\n        /** Draws text at the specified position.\r\n         * @see BitmapFontCache#addText(CharSequence, float, float, int, int, float, int, boolean, String) */\r\n        this.draw = (batch, str, x, y, targetWidth, halign = Utils_1.Align.left, wrap = true, start = 0, end = str.length, truncate) => {\r\n            this.cache.clear();\r\n            this.cache.addText(str, x, y, start, end, targetWidth, halign, wrap, truncate);\r\n            this.cache.draw(batch);\r\n        };\r\n        /** Returns the color of text drawn with this font. */\r\n        this.getColor = () => {\r\n            return this.cache.getColor();\r\n        };\r\n        /** A convenience method for setting the font color. The color can also be set by modifying {@link #getColor()}. */\r\n        // setColor = (r: number, g: number, b: number, a: number) => {\r\n        //    this.cache.getColor().set(r, g, b, a);\r\n        // };\r\n        this.getScaleX = () => {\r\n            return this.data.scaleX;\r\n        };\r\n        this.getScaleY = () => {\r\n            return this.data.scaleY;\r\n        };\r\n        /** Returns the array of TextureRegions that represents each texture page of glyphs.\r\n         * @return the array of texture regions; modifying it may produce undesirable results */\r\n        this.getRegions = () => {\r\n            return this.regions;\r\n        };\r\n        /** Returns the texture page at the given index.\r\n         * @return the texture page at the given index */\r\n        this.getRegion = (index) => {\r\n            return this.regions[index];\r\n        };\r\n        /** Returns the line height, which is the distance from one line of text to the next. */\r\n        this.getLineHeight = () => {\r\n            return this.data.lineHeight;\r\n        };\r\n        /** Returns the x-advance of the space character. */\r\n        this.getSpaceXadvance = () => {\r\n            return this.data.spaceXadvance;\r\n        };\r\n        /** Returns the x-height, which is the distance from the top of most lowercase characters to the baseline. */\r\n        this.getXHeight = () => {\r\n            return this.data.xHeight;\r\n        };\r\n        /** Returns the cap height, which is the distance from the top of most uppercase characters to the baseline. Since the drawing\r\n         * position is the cap height of the first line, the cap height can be used to get the location of the baseline. */\r\n        this.getCapHeight = () => {\r\n            return this.data.capHeight;\r\n        };\r\n        /** Returns the ascent, which is the distance from the cap height to the top of the tallest glyph. */\r\n        this.getAscent = () => {\r\n            return this.data.ascent;\r\n        };\r\n        /** Returns the descent, which is the distance from the bottom of the glyph that extends the lowest to the baseline. This\r\n         * number is negative. */\r\n        this.getDescent = () => {\r\n            return this.data.descent;\r\n        };\r\n        /** Returns true if this BitmapFont has been flipped for use with a y-down coordinate system. */\r\n        this.isFlipped = () => {\r\n            return this.flipped;\r\n        };\r\n        /** Disposes the texture used by this BitmapFont's region IF this BitmapFont created the texture. */\r\n        this.dispose = () => {\r\n            if (this.ownsTexture) {\r\n                for (let i = 0; i < this.regions.length; i++) {\r\n                    this.regions[i].texture.dispose();\r\n                }\r\n            }\r\n        };\r\n        /** Makes the specified glyphs fixed width. This can be useful to make the numbers in a font fixed width. Eg, when horizontally\r\n         * centering a score or loading percentage text, it will not jump around as different numbers are shown. */\r\n        this.setFixedWidthGlyphs = (glyphs) => {\r\n            const data = this.data;\r\n            let maxAdvance = 0;\r\n            for (let index = 0, end = glyphs.length; index < end; index++) {\r\n                const g = data.getGlyph(glyphs.charAt(index));\r\n                if (g != null && g.xadvance > maxAdvance)\r\n                    maxAdvance = g.xadvance;\r\n            }\r\n            for (let index = 0, end = glyphs.length; index < end; index++) {\r\n                const g = data.getGlyph(glyphs.charAt(index));\r\n                if (!g)\r\n                    continue;\r\n                g.xoffset += (maxAdvance - g.xadvance) / 2;\r\n                g.xadvance = maxAdvance;\r\n                g.kerning = [];\r\n                g.kerning = null;\r\n                g.fixedWidth = true;\r\n            }\r\n        };\r\n        /** Specifies whether to use integer positions. Default is to use them so filtering doesn't kick in as badly. */\r\n        this.setUseIntegerPositions = (integer) => {\r\n            this.integer = integer;\r\n            this.cache.setUseIntegerPositions(integer);\r\n        };\r\n        /** Checks whether this font uses integer positions for drawing. */\r\n        this.usesIntegerPositions = () => {\r\n            return this.integer;\r\n        };\r\n        /** For expert usage -- returns the BitmapFontCache used by this font, for rendering to a sprite batch. This can be used, for\r\n         * example, to manipulate glyph colors within a specific index.\r\n         * @return the bitmap font cache used by this font */\r\n        this.getCache = () => {\r\n            return this.cache;\r\n        };\r\n        /** Gets the underlying {@link BitmapFontData} for this BitmapFont. */\r\n        this.getData = () => {\r\n            return this.data;\r\n        };\r\n        /** @return whether the texture is owned by the font, font disposes the texture itself if true */\r\n        this.getOwnsTexture = () => {\r\n            return this.ownsTexture;\r\n        };\r\n        /** Sets whether the font owns the texture. In case it does, the font will also dispose of the texture when {@link #dispose()}\r\n         * is called. Use with care!\r\n         * @param ownsTexture whether the font owns the texture */\r\n        this.setOwnsTexture = (ownsTexture) => {\r\n            this.ownsTexture = ownsTexture;\r\n        };\r\n        /** Creates a new BitmapFontCache for this font. Using this method allows the font to provide the BitmapFontCache\r\n         * implementation to customize rendering.\r\n         * <p>\r\n         * Note this method is called by the BitmapFont constructors. If a subclass overrides this method, it will be called before the\r\n         * subclass constructors. */\r\n        this.newFontCache = () => {\r\n            return new BitmapFontCache_1.BitmapFontCache(this, this.integer);\r\n        };\r\n        this.regions = regions;\r\n        this.flipped = data.flipped;\r\n        this.data = data;\r\n        this.integer = integer;\r\n        if (this.regions.length === 0) {\r\n            console.log('No texture region were found');\r\n            return;\r\n        }\r\n        else {\r\n            this.ownsTexture = false;\r\n        }\r\n        this.cache = this.newFontCache();\r\n        this.load(data);\r\n    }\r\n}\r\nexports.BitmapFont = BitmapFont;\r\n_a = BitmapFont;\r\nBitmapFont.load = (gl, fontFile, flip = false, interger = false) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const fontData = new BitmapFontData_1.BitmapFontData(fontFile, flip);\r\n    yield fontData.loadFont(gl);\r\n    return new BitmapFont(fontData, fontData.regions, interger);\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BitmapFontCache = void 0;\r\nconst GlyphLayout_1 = require(\"./GlyphLayout\");\r\nconst NumberUtils_1 = require(\"./NumberUtils\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass BitmapFontCache {\r\n    /** @param integer If true, rendering positions will be at integer values to avoid filtering artifacts. */\r\n    constructor(font, integer) {\r\n        this.tempColor = new Utils_1.Color(1, 1, 1, 1);\r\n        this.drawingTexts = [];\r\n        this.layouts = [];\r\n        this.pooledLayouts = [];\r\n        this.color = new Utils_1.Color(1, 1, 1, 1);\r\n        /** Sets the position of the text, relative to the position when the cached text was created.\r\n         * @param x The x coordinate\r\n         * @param y The y coordinate */\r\n        this.setPosition = (x, y) => {\r\n            this.translate(x - this.x, y - this.y);\r\n        };\r\n        /** Sets the position of the text, relative to its current position.\r\n         * @param xAmount The amount in x to move the text\r\n         * @param yAmount The amount in y to move the text */\r\n        this.translate = (xAmount, yAmount) => {\r\n            if (xAmount === 0 && yAmount === 0)\r\n                return;\r\n            if (this.integer) {\r\n                xAmount = Math.round(xAmount);\r\n                yAmount = Math.round(yAmount);\r\n            }\r\n            this.x += xAmount;\r\n            this.y += yAmount;\r\n            const pageVertices = this.pageVertices;\r\n            for (let i = 0, n = pageVertices.length; i < n; i++) {\r\n                const vertices = pageVertices[i];\r\n                for (let ii = 0, nn = this.idx[i]; ii < nn; ii += 5) {\r\n                    vertices[ii] += xAmount;\r\n                    vertices[ii + 1] += yAmount;\r\n                }\r\n            }\r\n        };\r\n        /** Tints all text currently in the cache. Does not affect subsequently added text. */\r\n        // public tint = (tint: Color) => {\r\n        //    const newTint: number = tint.toFloatBits();\r\n        //    if (this.currentTint == newTint) return;\r\n        //    this.currentTint = newTint;\r\n        //    const pageVertices: number[][] = this.pageVertices;\r\n        //    const tempColor: Color = this.tempColor;\r\n        //    const tempGlyphCount: number[] = this.tempGlyphCount;\r\n        //    for (let i = 0; i < tempGlyphCount.length; i++) {\r\n        //       tempGlyphCount[i] = 0;\r\n        //    }\r\n        //    for (let i = 0, n = this.layouts.length; i < n; i++) {\r\n        //       const layout: GlyphLayout = this.layouts[i];\r\n        //       const colors: number[] = layout.colors;\r\n        //       let colorsIndex = 0,\r\n        //          nextColorGlyphIndex = 0,\r\n        //          glyphIndex = 0;\r\n        //       let lastColorFloatBits = 0;\r\n        //       for (let ii = 0, nn = layout.runs.length; ii < nn; ii++) {\r\n        //          const run: GlyphRun = layout.runs[ii];\r\n        //          const glyphs: Glyph[] = run.glyphs;\r\n        //          for (let iii = 0, nnn = run.glyphs.length; iii < nnn; iii++) {\r\n        //             if (glyphIndex++ === nextColorGlyphIndex) {\r\n        //                Color.abgr8888ToColor(tempColor, colors[++colorsIndex]);\r\n        //                lastColorFloatBits = tempColor.mul(tint).toFloatBits();\r\n        //                nextColorGlyphIndex = ++colorsIndex < colors.length ? colors[colorsIndex] : -1;\r\n        //             }\r\n        //             const page: number = glyphs[iii].page;\r\n        //             const offset = tempGlyphCount[page] * 20 + 2;\r\n        //             tempGlyphCount[page]++;\r\n        //             const vertices: number[] = pageVertices[page];\r\n        //             vertices[offset] = lastColorFloatBits;\r\n        //             vertices[offset + 5] = lastColorFloatBits;\r\n        //             vertices[offset + 10] = lastColorFloatBits;\r\n        //             vertices[offset + 15] = lastColorFloatBits;\r\n        //          }\r\n        //       }\r\n        //    }\r\n        // };\r\n        /** Sets the alpha component of all text currently in the cache. Does not affect subsequently added text. */\r\n        // public setAlphas = (alpha: number) => {\r\n        //    const alphaBits: number = (254 * alpha) << 24;\r\n        //    let prev = 0,\r\n        //       newColor = 0;\r\n        //    for (let j = 0, length = this.pageVertices.length; j < length; j++) {\r\n        //       const vertices: number[] = this.pageVertices[j];\r\n        //       for (let i = 2, n = this.idx[j]; i < n; i += 5) {\r\n        //          const c: number = vertices[i];\r\n        //          if (c == prev && i != 2) {\r\n        //             vertices[i] = newColor;\r\n        //          } else {\r\n        //             prev = c;\r\n        //             let rgba = NumberUtils.floatToIntColor(c);\r\n        //             rgba = (rgba & 0x00ffffff) | alphaBits;\r\n        //             newColor = NumberUtils.intToFloatColor(rgba);\r\n        //             vertices[i] = newColor;\r\n        //          }\r\n        //       }\r\n        //    }\r\n        // };\r\n        this.setColors = (r, g, b, a) => {\r\n            const intBits = (255 << 24) | ((255 * b) << 16) | ((255 * g) << 8) | (255 * r);\r\n            const value = NumberUtils_1.NumberUtil.intToFloatColor(intBits);\r\n            for (let j = 0, length = this.pageVertices.length; j < length; j++) {\r\n                const vertices = this.pageVertices[j];\r\n                for (let i = 2, n = this.idx[j]; i < n; i += 5)\r\n                    vertices[i] = value;\r\n            }\r\n        };\r\n        /** Returns the color used for subsequently added text. Modifying the color affects text subsequently added to the cache, but\r\n         * does not affect existing text currently in the cache. */\r\n        this.getColor = () => {\r\n            return this.color;\r\n        };\r\n        /** A convenience method for setting the cache color. The color can also be set by modifying {@link #getColor()}. */\r\n        this.setColor = (r, g, b, a) => {\r\n            this.color.set(r, g, b, a);\r\n        };\r\n        /** Removes all glyphs in the cache. */\r\n        this.clear = () => {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            Utils_1.Pools.freeAll('GlyphLayout', this.pooledLayouts);\r\n            this.pooledLayouts.length = 0;\r\n            this.layouts.length = 0;\r\n            for (let i = 0, n = this.idx.length; i < n; i++) {\r\n                if (this.pageGlyphIndices != null)\r\n                    this.pageGlyphIndices[i].length = 0;\r\n                this.idx[i] = 0;\r\n            }\r\n        };\r\n        this.requireGlyphs = (layout) => {\r\n            if (this.pageVertices.length === 1) {\r\n                // Simple if we just have one page.\r\n                this.requirePageGlyphs(0, layout.glyphCount);\r\n            }\r\n            else {\r\n                const tempGlyphCount = this.tempGlyphCount;\r\n                for (let i = 0; i < tempGlyphCount.length; i++) {\r\n                    tempGlyphCount[i] = 0;\r\n                }\r\n                // Determine # of glyphs in each page.\r\n                for (let i = 0, n = layout.runs.length; i < n; i++) {\r\n                    const glyphs = layout.runs[i].glyphs;\r\n                    const glyphItems = glyphs;\r\n                    for (let ii = 0, nn = glyphs.length; ii < nn; ii++)\r\n                        tempGlyphCount[glyphItems[ii].page]++;\r\n                }\r\n                // Require that many for each page.\r\n                for (let i = 0, n = tempGlyphCount.length; i < n; i++)\r\n                    this.requirePageGlyphs(i, tempGlyphCount[i]);\r\n            }\r\n        };\r\n        this.requirePageGlyphs = (page, glyphCount) => {\r\n            // if (this.pageGlyphIndices != null) {\r\n            //    if (glyphCount > this.pageGlyphIndices[page].length)\r\n            //       this.pageGlyphIndices[page].ensureCapacity(glyphCount - this.pageGlyphIndices[page].length);\r\n            // }\r\n            const vertexCount = this.idx[page] + glyphCount * 20;\r\n            const vertices = this.pageVertices[page];\r\n            if (!vertices) {\r\n                this.pageVertices[page] = new Array(vertexCount);\r\n            }\r\n            else if (vertices.length < vertexCount) {\r\n                const newVertices = new Array(vertexCount);\r\n                Utils_1.Utils.arrayCopy(vertices, 0, newVertices, 0, this.idx[page]);\r\n                this.pageVertices[page] = newVertices;\r\n            }\r\n        };\r\n        this.setPageCount = (pageCount) => {\r\n            const newPageVertices = new Array(pageCount).fill([]);\r\n            Utils_1.Utils.arrayCopy(this.pageVertices, 0, newPageVertices, 0, this.pageVertices.length);\r\n            this.pageVertices = [...newPageVertices];\r\n            const newIdx = new Array(pageCount);\r\n            Utils_1.Utils.arrayCopy(this.idx, 0, newIdx, 0, this.idx.length);\r\n            this.idx = newIdx;\r\n            const newPageGlyphIndices = new Array(pageCount);\r\n            let pageGlyphIndicesLength = 0;\r\n            if (this.pageGlyphIndices != null) {\r\n                pageGlyphIndicesLength = this.pageGlyphIndices.length;\r\n                Utils_1.Utils.arrayCopy(this.pageGlyphIndices, 0, newPageGlyphIndices, 0, this.pageGlyphIndices.length);\r\n            }\r\n            for (let i = pageGlyphIndicesLength; i < pageCount; i++)\r\n                newPageGlyphIndices[i] = [];\r\n            this.pageGlyphIndices = newPageGlyphIndices;\r\n            this.tempGlyphCount = new Array(pageCount);\r\n        };\r\n        this.addToCache = (layout, x, y) => {\r\n            const runCount = layout.runs.length;\r\n            if (runCount === 0)\r\n                return;\r\n            // Check if the number of font pages has changed.\r\n            if (this.pageVertices.length < this.font.regions.length)\r\n                this.setPageCount(this.font.regions.length);\r\n            this.layouts.push(layout);\r\n            this.requireGlyphs(layout);\r\n            const colors = layout.colors;\r\n            let colorsIndex = 0, nextColorGlyphIndex = 0, glyphIndex = 0;\r\n            let lastColorFloatBits = 0;\r\n            this.drawingTexts.length = 0;\r\n            for (let i = 0; i < runCount; i++) {\r\n                const run = layout.runs[i];\r\n                const glyphs = run.glyphs;\r\n                const xAdvances = run.xAdvances;\r\n                let gx = x + run.x, gy = y + run.y;\r\n                for (let ii = 0, nn = run.glyphs.length; ii < nn; ii++) {\r\n                    if (glyphIndex++ === nextColorGlyphIndex) {\r\n                        lastColorFloatBits = NumberUtils_1.NumberUtil.intToFloatColor(colors[++colorsIndex]);\r\n                        nextColorGlyphIndex = ++colorsIndex < colors.length ? colors[colorsIndex] : -1;\r\n                    }\r\n                    gx += xAdvances[ii];\r\n                    this.drawingTexts.push(glyphs[ii].id);\r\n                    this.addGlyph(glyphs[ii], gx, gy, lastColorFloatBits);\r\n                }\r\n            }\r\n            const whiteIntBits = (255 << 24) | (255 << 16) | (255 << 8) | 255;\r\n            this.currentTint = NumberUtils_1.NumberUtil.intToFloatColor(whiteIntBits); // Cached glyphs have changed, reset the current tint.\r\n        };\r\n        this.addGlyph = (glyph, x, y, color) => {\r\n            let scaleX = this.font.data.scaleX, scaleY = this.font.data.scaleY;\r\n            x += glyph.xoffset * scaleX;\r\n            y += glyph.yoffset * scaleY;\r\n            let width = glyph.width * scaleX, height = glyph.height * scaleY;\r\n            let u = glyph.u, u2 = glyph.u2, v = glyph.v, v2 = glyph.v2;\r\n            if (this.integer) {\r\n                x = Math.round(x);\r\n                y = Math.round(y);\r\n                width = Math.round(width);\r\n                height = Math.round(height);\r\n            }\r\n            let x2 = x + width, y2 = y + height;\r\n            const page = glyph.page;\r\n            let idx = this.idx[page];\r\n            this.idx[page] += 20;\r\n            if (this.pageGlyphIndices != null)\r\n                this.pageGlyphIndices[page].push(this.glyphCount++);\r\n            const vertices = this.pageVertices[page];\r\n            vertices[idx++] = x;\r\n            vertices[idx++] = y;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u;\r\n            vertices[idx++] = v;\r\n            vertices[idx++] = x;\r\n            vertices[idx++] = y2;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u;\r\n            vertices[idx++] = v2;\r\n            vertices[idx++] = x2;\r\n            vertices[idx++] = y2;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u2;\r\n            vertices[idx++] = v2;\r\n            vertices[idx++] = x2;\r\n            vertices[idx++] = y;\r\n            vertices[idx++] = color;\r\n            vertices[idx++] = u2;\r\n            vertices[idx] = v;\r\n        };\r\n        // public GlyphLayout setText (CharSequence str, float x, float y) {\r\n        // \tclear();\r\n        // \treturn addText(str, x, y, 0, str.length(), 0, Align.left, false);\r\n        // }\r\n        // public GlyphLayout setText (CharSequence str, float x, float y, float targetWidth, int halign, boolean wrap) {\r\n        // \tclear();\r\n        // \treturn addText(str, x, y, 0, str.length(), targetWidth, halign, wrap);\r\n        // }\r\n        // public GlyphLayout setText (CharSequence str, float x, float y, int start, int end, float targetWidth, int halign,\r\n        // \tboolean wrap) {\r\n        // \tclear();\r\n        // \treturn addText(str, x, y, start, end, targetWidth, halign, wrap);\r\n        // }\r\n        this.setText = (str, x, y, start, end, targetWidth, halign, wrap, truncate) => {\r\n            this.clear();\r\n            return this.addText(str, x, y, start, end, targetWidth, halign, wrap, truncate);\r\n        };\r\n        this.setTextToCache = (layout, x, y) => {\r\n            this.clear();\r\n            this.addTextToCache(layout, x, y);\r\n        };\r\n        // public GlyphLayout addText (CharSequence str, float x, float y) {\r\n        // \treturn addText(str, x, y, 0, str.length(), 0, Align.left, false, null);\r\n        // }\r\n        // public GlyphLayout addText (CharSequence str, float x, float y, float targetWidth, int halign, boolean wrap) {\r\n        // \treturn addText(str, x, y, 0, str.length(), targetWidth, halign, wrap, null);\r\n        // }\r\n        // public GlyphLayout addText (CharSequence str, float x, float y, int start, int end, float targetWidth, int halign,\r\n        // \tboolean wrap) {\r\n        // \treturn addText(str, x, y, start, end, targetWidth, halign, wrap, null);\r\n        // }\r\n        this.addText = (str, x, y, start, end, targetWidth, halign, wrap, truncate) => {\r\n            const layout = Utils_1.Pools.obtain('GlyphLayout');\r\n            this.pooledLayouts.push(layout);\r\n            layout.setText(this.font, str, start, end, this.color, targetWidth, halign, wrap, truncate);\r\n            this.addTextToCache(layout, x, y);\r\n            return layout;\r\n        };\r\n        this.addTextToCache = (layout, x, y) => {\r\n            this.addToCache(layout, x, y + this.font.data.ascent);\r\n        };\r\n        /** Returns the x position of the cached string, relative to the position when the string was cached. */\r\n        this.getX = () => {\r\n            return this.x;\r\n        };\r\n        /** Returns the y position of the cached string, relative to the position when the string was cached. */\r\n        this.getY = () => {\r\n            return this.y;\r\n        };\r\n        this.getFont = () => {\r\n            return this.font;\r\n        };\r\n        this.setUseIntegerPositions = (use) => {\r\n            this.integer = use;\r\n        };\r\n        /** @return whether this font uses integer positions for drawing. */\r\n        this.usesIntegerPositions = () => {\r\n            return this.integer;\r\n        };\r\n        this.getVertices = (page) => {\r\n            return this.pageVertices[page];\r\n        };\r\n        this.getVertexCount = (page) => {\r\n            return this.idx[page];\r\n        };\r\n        this.getLayouts = () => {\r\n            return this.layouts;\r\n        };\r\n        this.font = font;\r\n        this.integer = integer;\r\n        const pageCount = font.regions.length;\r\n        if (pageCount === 0)\r\n            console.log('The specified font must contain at least one texture page.');\r\n        this.pageVertices = new Array(pageCount).fill([]);\r\n        this.idx = new Array(pageCount);\r\n        if (pageCount > 1) {\r\n            // Contains the indices of the glyph in the cache as they are added.\r\n            this.pageGlyphIndices = new Array(pageCount);\r\n            for (let i = 0, n = this.pageGlyphIndices.length; i < n; i++)\r\n                this.pageGlyphIndices[i] = [];\r\n        }\r\n        this.tempGlyphCount = new Array(pageCount);\r\n        Utils_1.Pools.get('GlyphLayout', () => new GlyphLayout_1.GlyphLayout(font, '', 0, 0, Utils_1.Color.WHITE, 0, Utils_1.Align.left, false));\r\n    }\r\n    draw(batch) {\r\n        const regions = this.font.getRegions();\r\n        for (let i = 0; i < this.pageVertices.length; i++) {\r\n            if (this.idx[i] > 0) {\r\n                const vertices = this.pageVertices[i];\r\n                for (let j = 0; j < this.idx[i] / 20; j++) {\r\n                    const offset = 20 * j;\r\n                    const region = regions.find(item => { var _a; return item.id === ((_a = this.drawingTexts) === null || _a === void 0 ? void 0 : _a[j]); });\r\n                    if (region) {\r\n                        region.draw(batch, vertices[0 + offset], vertices[1 + offset], vertices[10 + offset] - vertices[0 + offset], vertices[11 + offset] - vertices[1 + offset]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.BitmapFontCache = BitmapFontCache;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BitmapFontData = void 0;\r\nconst Glyph_1 = require(\"./Glyph\");\r\nconst Texture_1 = require(\"./Texture\");\r\nconst TextureRegion_1 = require(\"./TextureRegion\");\r\nfunction concatAndResolveUrl(url, concat) {\r\n    let url1 = url.split('/');\r\n    let url2 = concat.split('/');\r\n    let url3 = [];\r\n    for (let i = 0, l = url1.length; i < l; i++) {\r\n        if (url1[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url1[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url1[i]);\r\n        }\r\n    }\r\n    for (let i = 0, l = url2.length; i < l; i++) {\r\n        if (url2[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url2[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url2[i]);\r\n        }\r\n    }\r\n    return url3.join('/');\r\n}\r\nconst CHARACTER_MAX_VALUE = 65535;\r\nclass BitmapFontData {\r\n    /** Creates an empty BitmapFontData for configuration before calling {@link #load(FileHandle, boolean)}, to subclass, or to\r\n     * populate yourself, e.g. using stb-truetype or FreeType. */\r\n    constructor(fontFile, flip) {\r\n        /** The distance from the top of most uppercase characters to the baseline. Since the drawing position is the cap height of\r\n         * the first line, the cap height can be used to get the location of the baseline. */\r\n        this.capHeight = 1;\r\n        /** Multiplier for the line height of blank lines. down * blankLineHeight is used as the distance to move down for a blank\r\n         * line. */\r\n        this.blankLineScale = 1;\r\n        this.scaleX = 1;\r\n        this.scaleY = 1;\r\n        this.glyphs = {};\r\n        /** The x-height, which is the distance from the top of most lowercase characters to the baseline. */\r\n        this.xHeight = 1;\r\n        this.xChars = ['x', 'e', 'a', 'o', 'n', 's', 'r', 'c', 'u', 'm', 'v', 'w', 'z'];\r\n        this.capChars = [\r\n            'M',\r\n            'N',\r\n            'B',\r\n            'D',\r\n            'C',\r\n            'E',\r\n            'F',\r\n            'K',\r\n            'A',\r\n            'G',\r\n            'H',\r\n            'I',\r\n            'J',\r\n            'L',\r\n            'O',\r\n            'P',\r\n            'Q',\r\n            'R',\r\n            'S',\r\n            'T',\r\n            'U',\r\n            'V',\r\n            'W',\r\n            'X',\r\n            'Y',\r\n            'Z'\r\n        ];\r\n        this.loadFont = (gl) => __awaiter(this, void 0, void 0, function* () {\r\n            if (this.imagePaths != null)\r\n                return;\r\n            let i = 0;\r\n            let fileContent;\r\n            const res = yield fetch(this.fontFile);\r\n            fileContent = yield res.text();\r\n            const lines = fileContent.split(/\\r?\\n/).map((s) => s.trim());\r\n            try {\r\n                let line = lines[i];\r\n                if (typeof line !== 'string')\r\n                    throw new Error('File is empty.');\r\n                line = line.substring(line.indexOf('padding=') + 8);\r\n                const padding = line.substring(0, line.indexOf(' ')).split(',', 4);\r\n                if (padding.length !== 4)\r\n                    throw new Error('Invalid padding.');\r\n                this.padTop = parseInt(padding[0]);\r\n                this.padRight = parseInt(padding[1]);\r\n                this.padBottom = parseInt(padding[2]);\r\n                this.padLeft = parseInt(padding[3]);\r\n                const padY = this.padTop + this.padBottom;\r\n                i++;\r\n                line = lines[i];\r\n                if (typeof line !== 'string')\r\n                    throw new Error('Missing common header.');\r\n                const common = line.split(' ', 9); // At most we want the 6th element; i.e. \"page=N\"\r\n                // At least lineHeight and base are required.\r\n                if (common.length < 3)\r\n                    throw new Error('Invalid common header.');\r\n                if (!common[1].startsWith('lineHeight='))\r\n                    throw new Error('Missing: lineHeight');\r\n                this.lineHeight = parseInt(common[1].substring(11));\r\n                if (!common[2].startsWith('base='))\r\n                    throw new Error('Missing: base');\r\n                const baseLine = parseInt(common[2].substring(5));\r\n                let pageCount = 1;\r\n                if (common.length >= 6 && common[5] != null && common[5].startsWith('pages=')) {\r\n                    try {\r\n                        pageCount = Math.max(1, parseInt(common[5].substring(6)));\r\n                    }\r\n                    catch (_a) {\r\n                        // Use one page.\r\n                    }\r\n                }\r\n                this.imagePaths = new Array(pageCount);\r\n                const imagePaths = [];\r\n                // Read each page definition.\r\n                for (let p = 0; p < pageCount; p++) {\r\n                    // Read each \"page\" info line.\r\n                    i++;\r\n                    line = lines[i];\r\n                    if (typeof line !== 'string')\r\n                        throw new Error('Missing additional page definitions.');\r\n                    // Expect ID to mean \"index\".\r\n                    const idMatches = line.match(new RegExp('.*id=(\\\\d+)'));\r\n                    if (idMatches && idMatches.length > 1) {\r\n                        const id = idMatches[1];\r\n                        try {\r\n                            const pageID = parseInt(id);\r\n                            if (pageID !== p)\r\n                                throw new Error('Page IDs must be indices starting at 0: ' + id);\r\n                        }\r\n                        catch (_b) { }\r\n                    }\r\n                    const fileMatches = line.match(new RegExp('.*file=\"?([^\"]+)\"?'));\r\n                    if (!fileMatches || fileMatches.length <= 1)\r\n                        throw new Error('Missing: file');\r\n                    const fileName = fileMatches[1];\r\n                    imagePaths[p] = fileName;\r\n                    // this.imagePaths[p] = fontFile.parent().child(fileName).path().replaceAll(\"\\\\\\\\\", \"/\");\r\n                }\r\n                this.descent = 0;\r\n                while (true) {\r\n                    i++;\r\n                    line = lines[i];\r\n                    if (!line)\r\n                        break; // EOF\r\n                    if (line.startsWith('kernings '))\r\n                        break; // Starting kernings block.\r\n                    if (line.startsWith('metrics '))\r\n                        break; // Starting metrics block.\r\n                    if (!line.startsWith('char '))\r\n                        continue;\r\n                    const glyph = new Glyph_1.Glyph();\r\n                    const tokens = new StringTokenizer(line, '=');\r\n                    tokens.nextToken();\r\n                    tokens.nextToken();\r\n                    const ch = parseInt(tokens.nextToken());\r\n                    if (ch > 0 && ch > CHARACTER_MAX_VALUE)\r\n                        continue;\r\n                    glyph.id = ch + '';\r\n                    tokens.nextToken();\r\n                    glyph.srcX = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.srcY = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.width = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.height = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    glyph.xoffset = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    if (this.flipped)\r\n                        glyph.yoffset = parseInt(tokens.nextToken());\r\n                    else\r\n                        glyph.yoffset = -(glyph.height + parseInt(tokens.nextToken()));\r\n                    tokens.nextToken();\r\n                    glyph.xadvance = parseInt(tokens.nextToken());\r\n                    // Check for page safely, it could be omitted or invalid.\r\n                    if (tokens.hasMoreTokens())\r\n                        tokens.nextToken();\r\n                    if (tokens.hasMoreTokens()) {\r\n                        try {\r\n                            glyph.page = parseInt(tokens.nextToken());\r\n                        }\r\n                        catch (_c) { }\r\n                    }\r\n                    if (glyph.width > 0 && glyph.height > 0)\r\n                        this.descent = Math.min(baseLine + glyph.yoffset, this.descent);\r\n                    if (ch <= 0) {\r\n                        this.missingGlyph = glyph;\r\n                    }\r\n                    else if (ch <= CHARACTER_MAX_VALUE) {\r\n                        this.setGlyph(ch, glyph);\r\n                    }\r\n                }\r\n                this.descent += this.padBottom;\r\n                while (true) {\r\n                    i++;\r\n                    line = lines[i];\r\n                    if (typeof line !== 'string')\r\n                        break;\r\n                    if (!line.startsWith('kerning '))\r\n                        break;\r\n                    const tokens = new StringTokenizer(line, '=');\r\n                    tokens.nextToken();\r\n                    tokens.nextToken();\r\n                    let first = parseInt(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    let second = parseInt(tokens.nextToken());\r\n                    if (first < 0 || first > CHARACTER_MAX_VALUE || second < 0 || second > CHARACTER_MAX_VALUE)\r\n                        continue;\r\n                    const glyph = this.getGlyph(first + '');\r\n                    tokens.nextToken();\r\n                    const amount = parseInt(tokens.nextToken());\r\n                    if (glyph) {\r\n                        // Kernings may exist for glyph pairs not contained in the font.\r\n                        glyph.setKerning(second, amount);\r\n                    }\r\n                }\r\n                let hasMetricsOverride = false;\r\n                let overrideAscent = 0;\r\n                let overrideDescent = 0;\r\n                let overrideDown = 0;\r\n                let overrideCapHeight = 0;\r\n                let overrideLineHeight = 0;\r\n                let overrideSpaceXAdvance = 0;\r\n                let overrideXHeight = 0;\r\n                // Metrics override\r\n                if (line != null && line.startsWith('metrics ')) {\r\n                    hasMetricsOverride = true;\r\n                    const tokens = new StringTokenizer(line, '=');\r\n                    tokens.nextToken();\r\n                    tokens.nextToken();\r\n                    overrideAscent = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideDescent = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideDown = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideCapHeight = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideLineHeight = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideSpaceXAdvance = parseFloat(tokens.nextToken());\r\n                    tokens.nextToken();\r\n                    overrideXHeight = parseFloat(tokens.nextToken());\r\n                }\r\n                let spaceGlyph = this.getGlyph('32');\r\n                if (!spaceGlyph) {\r\n                    spaceGlyph = new Glyph_1.Glyph();\r\n                    spaceGlyph.id = '32';\r\n                    let xadvanceGlyph = this.getGlyph('l');\r\n                    if (!xadvanceGlyph)\r\n                        xadvanceGlyph = this.getFirstGlyph();\r\n                    spaceGlyph.xadvance = xadvanceGlyph.xadvance;\r\n                    this.setGlyph(32, spaceGlyph); // space character ascii code\r\n                }\r\n                if (spaceGlyph.width === 0) {\r\n                    spaceGlyph.width = this.padLeft + spaceGlyph.xadvance + this.padRight;\r\n                    spaceGlyph.xoffset = -this.padLeft;\r\n                }\r\n                this.spaceXadvance = spaceGlyph.xadvance;\r\n                let xGlyph;\r\n                for (let i = 0; i < this.xChars.length; i++) {\r\n                    xGlyph = this.getGlyph(this.xChars[i]);\r\n                    if (xGlyph)\r\n                        break;\r\n                }\r\n                if (!xGlyph)\r\n                    xGlyph = this.getFirstGlyph();\r\n                this.xHeight = xGlyph.height - padY;\r\n                let capGlyph;\r\n                for (let i = 0; i < this.capChars.length; i++) {\r\n                    capGlyph = this.getGlyph(this.capChars[i]);\r\n                    if (capGlyph)\r\n                        break;\r\n                }\r\n                if (!capGlyph) {\r\n                    const glyphValues = Object.values(this.glyphs);\r\n                    for (let i = 0; i < glyphValues.length; i++) {\r\n                        const page = glyphValues[i];\r\n                        if (!page)\r\n                            continue;\r\n                        for (let j = 0; j < page.length; j++) {\r\n                            if (!page[j] || page[j].height === 0 || page[j].width === 0)\r\n                                continue;\r\n                            this.capHeight = Math.max(this.capHeight, page[j].height);\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                    this.capHeight = capGlyph.height;\r\n                this.capHeight -= padY;\r\n                this.ascent = baseLine - this.capHeight;\r\n                this.down = -this.lineHeight;\r\n                if (this.flipped) {\r\n                    this.ascent = -this.ascent;\r\n                    this.down = -this.down;\r\n                }\r\n                if (hasMetricsOverride) {\r\n                    this.ascent = overrideAscent;\r\n                    this.descent = overrideDescent;\r\n                    this.down = overrideDown;\r\n                    this.capHeight = overrideCapHeight;\r\n                    this.lineHeight = overrideLineHeight;\r\n                    this.spaceXadvance = overrideSpaceXAdvance;\r\n                    this.xHeight = overrideXHeight;\r\n                }\r\n                // Generate texture regions\r\n                const regionsData = [];\r\n                const glyphValues = Object.values(this.glyphs);\r\n                for (let i = 0; i < glyphValues.length; i++) {\r\n                    const values = Object.values(glyphValues[i]);\r\n                    for (let j = 0; j < values.length; j++) {\r\n                        const region = {\r\n                            id: values[j].id,\r\n                            left: values[j].srcX,\r\n                            top: values[j].srcY,\r\n                            width: values[j].width,\r\n                            height: values[j].height,\r\n                            xoffset: values[j].xoffset,\r\n                            yoffset: values[j].yoffset,\r\n                            xadvance: values[j].xadvance,\r\n                            page: imagePaths[values[j].page],\r\n                            pageId: values[j].page\r\n                        };\r\n                        regionsData.push(region);\r\n                    }\r\n                }\r\n                const pages = [];\r\n                for (let i = 0; i < pageCount; i++) {\r\n                    const texture = yield Texture_1.Texture.load(gl, concatAndResolveUrl(this.fontFile, `../${imagePaths[i]}`));\r\n                    const invTexWidth = 1 / texture.width;\r\n                    const invTexHeight = 1 / texture.height;\r\n                    pages.push({\r\n                        texture,\r\n                        invTexWidth,\r\n                        invTexHeight\r\n                    });\r\n                }\r\n                this.regions = [];\r\n                for (let regionData of regionsData) {\r\n                    const left = regionData.left;\r\n                    const top = regionData.top;\r\n                    const width = regionData.width;\r\n                    const height = regionData.height;\r\n                    const { texture, invTexWidth, invTexHeight } = pages[regionData.pageId];\r\n                    const region = new TextureRegion_1.TextureRegion(texture, left, top, width, height, regionData, invTexWidth, invTexHeight);\r\n                    region.originalWidth = width;\r\n                    region.originalHeight = height;\r\n                    region.offsetX = 0;\r\n                    region.offsetY = 0;\r\n                    this.regions.push(region);\r\n                }\r\n            }\r\n            catch (ex) {\r\n                console.error(ex);\r\n            }\r\n        });\r\n        this.setGlyphRegion = (glyph, region) => {\r\n            const texture = region.texture;\r\n            const invTexWidth = 1 / texture.width;\r\n            const invTexHeight = 1 / texture.height;\r\n            let offsetX = 0, offsetY = 0;\r\n            const u = region.u;\r\n            const v = region.v;\r\n            const regionWidth = region.originalWidth;\r\n            const regionHeight = region.originalHeight;\r\n            // if (region instanceof AtlasRegion) {\r\n            //    // Compensate for whitespace stripped from left and top edges.\r\n            //    AtlasRegion atlasRegion = (AtlasRegion)region;\r\n            //    offsetX = atlasRegion.offsetX;\r\n            //    offsetY = atlasRegion.originalHeight - atlasRegion.packedHeight - atlasRegion.offsetY;\r\n            // }\r\n            let x = glyph.srcX;\r\n            let x2 = glyph.srcX + glyph.width;\r\n            let y = glyph.srcY;\r\n            let y2 = glyph.srcY + glyph.height;\r\n            // Shift glyph for left and top edge stripped whitespace. Clip glyph for right and bottom edge stripped whitespace.\r\n            // Note if the font region has padding, whitespace stripping must not be used.\r\n            if (offsetX > 0) {\r\n                x -= offsetX;\r\n                if (x < 0) {\r\n                    glyph.width += x;\r\n                    glyph.xoffset -= x;\r\n                    x = 0;\r\n                }\r\n                x2 -= offsetX;\r\n                if (x2 > regionWidth) {\r\n                    glyph.width -= x2 - regionWidth;\r\n                    x2 = regionWidth;\r\n                }\r\n            }\r\n            if (offsetY > 0) {\r\n                y -= offsetY;\r\n                if (y < 0) {\r\n                    glyph.height += y;\r\n                    if (glyph.height < 0)\r\n                        glyph.height = 0;\r\n                    y = 0;\r\n                }\r\n                y2 -= offsetY;\r\n                if (y2 > regionHeight) {\r\n                    const amount = y2 - regionHeight;\r\n                    glyph.height -= amount;\r\n                    glyph.yoffset += amount;\r\n                    y2 = regionHeight;\r\n                }\r\n            }\r\n            glyph.u = u + x * invTexWidth;\r\n            glyph.u2 = u + x2 * invTexWidth;\r\n            if (this.flipped) {\r\n                glyph.v = v + y * invTexHeight;\r\n                glyph.v2 = v + y2 * invTexHeight;\r\n            }\r\n            else {\r\n                glyph.v2 = v + y * invTexHeight;\r\n                glyph.v = v + y2 * invTexHeight;\r\n            }\r\n        };\r\n        /** Sets the line height, which is the distance from one line of text to the next. */\r\n        this.setLineHeight = (height) => {\r\n            this.lineHeight = height * this.scaleY;\r\n            this.down = this.flipped ? this.lineHeight : -this.lineHeight;\r\n        };\r\n        this.setGlyph = (ch, glyph) => {\r\n            let page = this.glyphs[ch / Glyph_1.PAGE_SIZE];\r\n            if (!page) {\r\n                page = new Array(Glyph_1.PAGE_SIZE);\r\n                this.glyphs[ch / Glyph_1.PAGE_SIZE] = page;\r\n                // this.glyphs[ch / PAGE_SIZE] = page = new Glyph[PAGE_SIZE];\r\n            }\r\n            page[ch & (Glyph_1.PAGE_SIZE - 1)] = glyph;\r\n        };\r\n        this.getFirstGlyph = () => {\r\n            const glyphValues = Object.values(this.glyphs);\r\n            for (let i = 0; i < glyphValues.length; i++) {\r\n                const page = glyphValues[i];\r\n                if (!page)\r\n                    continue;\r\n                for (let j = 0; j < page.length; j++) {\r\n                    const glyph = page[j];\r\n                    if (!glyph || glyph.height === 0 || glyph.width === 0)\r\n                        continue;\r\n                    return glyph;\r\n                }\r\n            }\r\n        };\r\n        /** Returns true if the font has the glyph, or if the font has a {@link #missingGlyph}. */\r\n        this.hasGlyph = (ch) => {\r\n            if (this.missingGlyph)\r\n                return true;\r\n            return this.getGlyph(ch) != null;\r\n        };\r\n        /** Returns the glyph for the specified character, or null if no such glyph exists. Note that\r\n         * {@link #getGlyphs(GlyphRun, CharSequence, int, int, Glyph)} should be be used to shape a string of characters into a list\r\n         * of glyphs. */\r\n        this.getGlyph = (ch) => {\r\n            const page = this.glyphs[ch.charCodeAt(0) / Glyph_1.PAGE_SIZE];\r\n            if (page != null)\r\n                return page[ch.charCodeAt(0) & (Glyph_1.PAGE_SIZE - 1)];\r\n            return undefined;\r\n        };\r\n        /** Using the specified string, populates the glyphs and positions of the specified glyph run.\r\n         * @param str Characters to convert to glyphs. Will not contain newline or color tags. May contain \"[[\" for an escaped left\r\n         *           square bracket.\r\n         * @param lastGlyph The glyph immediately before this run, or null if this is run is the first on a line of text. Used tp\r\n         *           apply kerning between the specified glyph and the first glyph in this run. */\r\n        this.getGlyphs = (run, str, start, end, lastGlyph) => {\r\n            const max = end - start;\r\n            if (max === 0)\r\n                return;\r\n            let markupEnabled = this.markupEnabled;\r\n            const scaleX = this.scaleX;\r\n            const glyphs = run.glyphs;\r\n            const xAdvances = run.xAdvances;\r\n            // Guess at number of glyphs needed.\r\n            // glyphs.ensureCapacity(max);\r\n            // run.xAdvances.ensureCapacity(max + 1);\r\n            do {\r\n                const ch = str.charAt(start++);\r\n                if (ch === '\\r')\r\n                    continue; // Ignore.\r\n                let glyph = this.getGlyph(ch);\r\n                if (!glyph) {\r\n                    if (!this.missingGlyph)\r\n                        continue;\r\n                    glyph = this.missingGlyph;\r\n                }\r\n                glyphs.push(glyph);\r\n                xAdvances.push(!lastGlyph // First glyph on line, adjust the position so it isn't drawn left of 0.\r\n                    ? glyph.fixedWidth\r\n                        ? 0\r\n                        : -glyph.xoffset * scaleX - this.padLeft\r\n                    : (lastGlyph.xadvance + lastGlyph.getKerning(ch)) * scaleX);\r\n                lastGlyph = glyph;\r\n                // \"[[\" is an escaped left square bracket, skip second character.\r\n                if (markupEnabled && ch === '[' && start < end && str.charAt(start) === '[')\r\n                    start++;\r\n            } while (start < end);\r\n            if (lastGlyph) {\r\n                const lastGlyphWidth = lastGlyph.fixedWidth\r\n                    ? lastGlyph.xadvance * scaleX\r\n                    : (lastGlyph.width + lastGlyph.xoffset) * scaleX - this.padRight;\r\n                xAdvances.push(lastGlyphWidth);\r\n            }\r\n        };\r\n        /** Returns the first valid glyph index to use to wrap to the next line, starting at the specified start index and\r\n         * (typically) moving toward the beginning of the glyphs array. */\r\n        this.getWrapIndex = (glyphs, start) => {\r\n            let i = start - 1;\r\n            const glyphsItems = glyphs;\r\n            let ch = glyphsItems[i].id;\r\n            if (this.isWhitespace(ch + ''))\r\n                return i;\r\n            if (this.isBreakChar(ch + ''))\r\n                i--;\r\n            for (; i > 0; i--) {\r\n                ch = glyphsItems[i].id;\r\n                if (this.isWhitespace(ch + '') || this.isBreakChar(ch + '')) {\r\n                    return i + 1;\r\n                }\r\n            }\r\n            return 0;\r\n        };\r\n        this.isBreakChar = (c) => {\r\n            if (!this.breakChars)\r\n                return false;\r\n            const character = String.fromCharCode(parseInt(c));\r\n            for (let i = 0; i < this.breakChars.length; i++) {\r\n                if (character === this.breakChars[i])\r\n                    return true;\r\n            }\r\n            return false;\r\n        };\r\n        this.isWhitespace = (c) => {\r\n            const character = String.fromCharCode(parseInt(c));\r\n            switch (character) {\r\n                case '\\n':\r\n                case '\\r':\r\n                case '\\t':\r\n                case ' ':\r\n                    return true;\r\n                default:\r\n                    return false;\r\n            }\r\n        };\r\n        /** Returns the image path for the texture page at the given index (the \"id\" in the BMFont file). */\r\n        this.getImagePath = (index) => {\r\n            return this.imagePaths[index];\r\n        };\r\n        this.getImagePaths = () => {\r\n            return this.imagePaths;\r\n        };\r\n        /** Scales the font by the specified amounts on both axes\r\n         * <p>\r\n         * Note that smoother scaling can be achieved if the texture backing the BitmapFont is using {@link TextureFilter#Linear}.\r\n         * The default is Nearest, so use a BitmapFont constructor that takes a {@link TextureRegion}.\r\n         * @throws IllegalArgumentException if scaleX or scaleY is zero. */\r\n        this.setScale = (scaleX, scaleY) => {\r\n            if (scaleX === 0 || scaleY === 0)\r\n                return;\r\n            const x = scaleX / this.scaleX;\r\n            const y = scaleY / this.scaleY;\r\n            this.lineHeight *= y;\r\n            this.spaceXadvance *= x;\r\n            this.xHeight *= y;\r\n            this.capHeight *= y;\r\n            this.ascent *= y;\r\n            this.descent *= y;\r\n            this.down *= y;\r\n            this.padLeft *= x;\r\n            this.padRight *= x;\r\n            this.padTop *= y;\r\n            this.padBottom *= y;\r\n            this.scaleX = scaleX;\r\n            this.scaleY = scaleY;\r\n        };\r\n        /** Sets the font's scale relative to the current scale.\r\n         * @see #setScale(float, float)\r\n         * @throws IllegalArgumentException if the resulting scale is zero. */\r\n        this.scale = (amount) => {\r\n            this.setScale(this.scaleX + amount, this.scaleY + amount);\r\n        };\r\n        this.fontFile = fontFile;\r\n        this.flipped = flip;\r\n    }\r\n    /** Scales the font by the specified amount in both directions.\r\n     * @see #setScale(float, float)\r\n     * @throws IllegalArgumentException if scaleX or scaleY is zero. */\r\n    setXYScale(scaleXY) {\r\n        this.setScale(scaleXY, scaleXY);\r\n    }\r\n}\r\nexports.BitmapFontData = BitmapFontData;\r\nclass StringTokenizer {\r\n    constructor(str, delimitter) {\r\n        this.strArray = [];\r\n        this.currentIndex = 0;\r\n        const strings = str.split(/\\s+/);\r\n        for (let i = 0; i < strings.length; i++) {\r\n            const st = strings[i];\r\n            this.strArray.push(...st.split(delimitter));\r\n        }\r\n    }\r\n    hasMoreTokens() {\r\n        return this.currentIndex >= this.strArray.length;\r\n    }\r\n    nextToken() {\r\n        return this.strArray[this.currentIndex++];\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BoundingBox = void 0;\r\nconst Vector3_1 = require(\"./Vector3\");\r\nclass BoundingBox {\r\n    /** Constructs a new bounding box with the minimum and maximum vector set to zeros. */\r\n    constructor() {\r\n        this.min = new Vector3_1.Vector3();\r\n        this.max = new Vector3_1.Vector3();\r\n        this.cnt = new Vector3_1.Vector3();\r\n        this.dim = new Vector3_1.Vector3();\r\n        this.clr();\r\n    }\r\n    getCenter(out) {\r\n        return out.setFrom(this.cnt);\r\n    }\r\n    getCenterX() {\r\n        return this.cnt.x;\r\n    }\r\n    getCenterY() {\r\n        return this.cnt.y;\r\n    }\r\n    getCenterZ() {\r\n        return this.cnt.z;\r\n    }\r\n    getCorner000(out) {\r\n        return out.set(this.min.x, this.min.y, this.min.z);\r\n    }\r\n    getCorner001(out) {\r\n        return out.set(this.min.x, this.min.y, this.max.z);\r\n    }\r\n    getCorner010(out) {\r\n        return out.set(this.min.x, this.max.y, this.min.z);\r\n    }\r\n    getCorner011(out) {\r\n        return out.set(this.min.x, this.max.y, this.max.z);\r\n    }\r\n    getCorner100(out) {\r\n        return out.set(this.max.x, this.min.y, this.min.z);\r\n    }\r\n    getCorner101(out) {\r\n        return out.set(this.max.x, this.min.y, this.max.z);\r\n    }\r\n    getCorner110(out) {\r\n        return out.set(this.max.x, this.max.y, this.min.z);\r\n    }\r\n    getCorner111(out) {\r\n        return out.set(this.max.x, this.max.y, this.max.z);\r\n    }\r\n    /** @param out The {@link Vector3} to receive the dimensions of this bounding box on all three axis.\r\n     * @return The vector specified with the out argument */\r\n    getDimensions(out) {\r\n        return out.setFrom(this.dim);\r\n    }\r\n    getWidth() {\r\n        return this.dim.x;\r\n    }\r\n    getHeight() {\r\n        return this.dim.y;\r\n    }\r\n    getDepth() {\r\n        return this.dim.z;\r\n    }\r\n    /** @param out The {@link Vector3} to receive the minimum values.\r\n     * @return The vector specified with the out argument */\r\n    getMin(out) {\r\n        return out.setFrom(this.min);\r\n    }\r\n    /** @param out The {@link Vector3} to receive the maximum values.\r\n     * @return The vector specified with the out argument */\r\n    getMax(out) {\r\n        return out.setFrom(this.max);\r\n    }\r\n    /** Sets the given bounding box.\r\n     *\r\n     * @param bounds The bounds.\r\n     * @return This bounding box for chaining. */\r\n    setFromBounds(bounds) {\r\n        return this.set(bounds.min, bounds.max);\r\n    }\r\n    /** Sets the given minimum and maximum vector.\r\n     *\r\n     * @param minimum The minimum vector\r\n     * @param maximum The maximum vector\r\n     * @return This bounding box for chaining. */\r\n    set(minimum, maximum) {\r\n        this.min.set(minimum.x < maximum.x ? minimum.x : maximum.x, minimum.y < maximum.y ? minimum.y : maximum.y, minimum.z < maximum.z ? minimum.z : maximum.z);\r\n        this.max.set(minimum.x > maximum.x ? minimum.x : maximum.x, minimum.y > maximum.y ? minimum.y : maximum.y, minimum.z > maximum.z ? minimum.z : maximum.z);\r\n        this.update();\r\n        return this;\r\n    }\r\n    update() {\r\n        this.cnt.setFrom(this.min).add(this.max).scale(0.5);\r\n        this.dim.setFrom(this.max).sub(this.min);\r\n    }\r\n    /** Sets the bounding box minimum and maximum vector from the given points.\r\n     *\r\n     * @param points The points.\r\n     * @return This bounding box for chaining. */\r\n    setFromPoints(points) {\r\n        this.inf();\r\n        for (let l_point of points)\r\n            this.extPoint(l_point);\r\n        return this;\r\n    }\r\n    /** Sets the minimum and maximum vector to positive and negative infinity.\r\n     *\r\n     * @return This bounding box for chaining. */\r\n    inf() {\r\n        this.min.set(Infinity, Infinity, Infinity);\r\n        this.max.set(-Infinity, -Infinity, -Infinity);\r\n        this.cnt.set(0, 0, 0);\r\n        this.dim.set(0, 0, 0);\r\n        return this;\r\n    }\r\n    /** Extends the bounding box to incorporate the given {@link Vector3}.\r\n     * @param point The vector\r\n     * @return This bounding box for chaining. */\r\n    extPoint(point) {\r\n        return this.set(this.min.set(Math.min(this.min.x, point.x), Math.min(this.min.y, point.y), Math.min(this.min.z, point.z)), this.max.set(Math.max(this.max.x, point.x), Math.max(this.max.y, point.y), Math.max(this.max.z, point.z)));\r\n    }\r\n    /** Sets the minimum and maximum vector to zeros.\r\n     * @return This bounding box for chaining. */\r\n    clr() {\r\n        return this.set(this.min.set(0, 0, 0), this.max.set(0, 0, 0));\r\n    }\r\n    /** Returns whether this bounding box is valid. This means that {@link #max} is greater than or equal to {@link #min}.\r\n     * @return True in case the bounding box is valid, false otherwise */\r\n    isValid() {\r\n        return this.min.x <= this.max.x && this.min.y <= this.max.y && this.min.z <= this.max.z;\r\n    }\r\n    /** Extends this bounding box by the given bounding box.\r\n     *\r\n     * @param a_bounds The bounding box\r\n     * @return This bounding box for chaining. */\r\n    extBounds(a_bounds) {\r\n        return this.set(this.min.set(Math.min(this.min.x, a_bounds.min.x), Math.min(this.min.y, a_bounds.min.y), Math.min(this.min.z, a_bounds.min.z)), this.max.set(Math.max(this.max.x, a_bounds.max.x), Math.max(this.max.y, a_bounds.max.y), Math.max(this.max.z, a_bounds.max.z)));\r\n    }\r\n    /** Extends this bounding box by the given sphere.\r\n     *\r\n     * @param center Sphere center\r\n     * @param radius Sphere radius\r\n     * @return This bounding box for chaining. */\r\n    extSphere(center, radius) {\r\n        return this.set(this.min.set(Math.min(this.min.x, center.x - radius), Math.min(this.min.y, center.y - radius), Math.min(this.min.z, center.z - radius)), this.max.set(Math.max(this.max.x, center.x + radius), Math.max(this.max.y, center.y + radius), Math.max(this.max.z, center.z + radius)));\r\n    }\r\n    /** Extends this bounding box by the given transformed bounding box.\r\n     *\r\n     * @param bounds The bounding box\r\n     * @param transform The transformation matrix to apply to bounds, before using it to extend this bounding box.\r\n     * @return This bounding box for chaining. */\r\n    extTransformedBox(bounds, transform) {\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.min.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.min.y, bounds.max.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.max.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.min.x, bounds.max.y, bounds.max.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.min.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.min.y, bounds.max.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.max.y, bounds.min.z).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(bounds.max.x, bounds.max.y, bounds.max.z).multiply(transform));\r\n        return this;\r\n    }\r\n    /** Multiplies the bounding box by the given matrix. This is achieved by multiplying the 8 corner points and then calculating\r\n     * the minimum and maximum vectors from the transformed points.\r\n     *\r\n     * @param transform The matrix\r\n     * @return This bounding box for chaining. */\r\n    mul(transform) {\r\n        let x0 = this.min.x, y0 = this.min.y, z0 = this.min.z, x1 = this.max.x, y1 = this.max.y, z1 = this.max.z;\r\n        this.inf();\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y0, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y0, z1).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y1, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x0, y1, z1).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y0, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y0, z1).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y1, z0).multiply(transform));\r\n        this.extPoint(BoundingBox.tmpVector.set(x1, y1, z1).multiply(transform));\r\n        return this;\r\n    }\r\n    /** Returns whether the given bounding box is contained in this bounding box.\r\n     * @param b The bounding box\r\n     * @return Whether the given bounding box is contained */\r\n    containsBounds(b) {\r\n        return (!this.isValid() ||\r\n            (this.min.x <= b.min.x &&\r\n                this.min.y <= b.min.y &&\r\n                this.min.z <= b.min.z &&\r\n                this.max.x >= b.max.x &&\r\n                this.max.y >= b.max.y &&\r\n                this.max.z >= b.max.z));\r\n    }\r\n    /** Returns whether the given bounding box is intersecting this bounding box (at least one point in).\r\n     * @param b The bounding box\r\n     * @return Whether the given bounding box is intersected */\r\n    intersects(b) {\r\n        if (!this.isValid())\r\n            return false;\r\n        // test using SAT (separating axis theorem)\r\n        const lx = Math.abs(this.cnt.x - b.cnt.x);\r\n        const sumx = this.dim.x / 2.0 + b.dim.x / 2.0;\r\n        const ly = Math.abs(this.cnt.y - b.cnt.y);\r\n        const sumy = this.dim.y / 2.0 + b.dim.y / 2.0;\r\n        const lz = Math.abs(this.cnt.z - b.cnt.z);\r\n        const sumz = this.dim.z / 2.0 + b.dim.z / 2.0;\r\n        return lx <= sumx && ly <= sumy && lz <= sumz;\r\n    }\r\n    /** Returns whether the given vector is contained in this bounding box.\r\n     * @param v The vector\r\n     * @return Whether the vector is contained or not. */\r\n    containsPoint(v) {\r\n        return (this.min.x <= v.x &&\r\n            this.max.x >= v.x &&\r\n            this.min.y <= v.y &&\r\n            this.max.y >= v.y &&\r\n            this.min.z <= v.z &&\r\n            this.max.z >= v.z);\r\n    }\r\n    /** Extends the bounding box by the given vector.\r\n     *\r\n     * @param x The x-coordinate\r\n     * @param y The y-coordinate\r\n     * @param z The z-coordinate\r\n     * @return This bounding box for chaining. */\r\n    ext(x, y, z) {\r\n        return this.set(this.min.set(Math.min(this.min.x, x), Math.min(this.min.y, y), Math.min(this.min.z, z)), this.max.set(Math.max(this.max.x, x), Math.max(this.max.y, y), Math.max(this.max.z, z)));\r\n    }\r\n}\r\nexports.BoundingBox = BoundingBox;\r\nBoundingBox.tmpVector = new Vector3_1.Vector3();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.OrthoCamera = void 0;\r\nconst Matrix4_1 = require(\"./Matrix4\");\r\nconst Vector3_1 = require(\"./Vector3\");\r\nclass OrthoCamera {\r\n    constructor(viewportWidth, viewportHeight, screenWidth, screenHeight) {\r\n        this.position = new Vector3_1.Vector3(0, 0, 0);\r\n        this.direction = new Vector3_1.Vector3(0, 0, -1);\r\n        this.up = new Vector3_1.Vector3(0, 1, 0);\r\n        this.near = 0;\r\n        this.far = 100;\r\n        this.zoom = 1;\r\n        this.viewportWidth = 0;\r\n        this.viewportHeight = 0;\r\n        this.projectionView = new Matrix4_1.Matrix4();\r\n        this.inverseProjectionView = new Matrix4_1.Matrix4();\r\n        this.projection = new Matrix4_1.Matrix4();\r\n        this.view = new Matrix4_1.Matrix4();\r\n        this.tmp3 = new Vector3_1.Vector3();\r\n        this.resize(viewportWidth, viewportHeight, screenWidth, screenHeight);\r\n    }\r\n    setYDown(yDown) {\r\n        if (yDown) {\r\n            this.up.set(0, -1, 0);\r\n            this.direction.set(0, 0, 1);\r\n        }\r\n        else {\r\n            this.up.set(0, 1, 0);\r\n            this.direction.set(0, 0, -1);\r\n        }\r\n        this.update();\r\n    }\r\n    resize(viewportWidth, viewportHeight, screenWidth, screenHeight) {\r\n        this.viewportWidth = viewportWidth;\r\n        this.viewportHeight = viewportHeight;\r\n        this.screenWidth = screenWidth;\r\n        this.screenHeight = screenHeight;\r\n        this.update();\r\n    }\r\n    setPosition(cameraX, cameraY) {\r\n        this.position.set(cameraX, cameraY, this.position.z);\r\n    }\r\n    update() {\r\n        let projection = this.projection;\r\n        let view = this.view;\r\n        let projectionView = this.projectionView;\r\n        let inverseProjectionView = this.inverseProjectionView;\r\n        let zoom = this.zoom, viewportWidth = this.viewportWidth, viewportHeight = this.viewportHeight;\r\n        projection.ortho(zoom * (-viewportWidth / 2), zoom * (viewportWidth / 2), zoom * (-viewportHeight / 2), zoom * (viewportHeight / 2), this.near, this.far);\r\n        view.lookAt(this.position, this.direction, this.up);\r\n        projectionView.set(projection.values);\r\n        projectionView.multiply(view);\r\n        inverseProjectionView.set(projectionView.values).invert();\r\n        this.combined = projectionView.values;\r\n    }\r\n    screenToWorld(screenCoords, screenWidth, screenHeight) {\r\n        screenWidth = screenWidth || this.screenWidth;\r\n        screenHeight = screenHeight || this.screenHeight;\r\n        let x = screenCoords.x, y = screenHeight - screenCoords.y - 1;\r\n        screenCoords.x = (2 * x) / screenWidth - 1;\r\n        screenCoords.y = (2 * y) / screenHeight - 1;\r\n        screenCoords.z = 2 * screenCoords.z - 1;\r\n        screenCoords.project(this.inverseProjectionView);\r\n        return screenCoords;\r\n    }\r\n    worldToScreen(worldCoords, screenWidth, screenHeight) {\r\n        screenWidth = screenWidth || this.screenWidth;\r\n        screenHeight = screenHeight || this.screenHeight;\r\n        worldCoords.project(this.projectionView);\r\n        worldCoords.x = (screenWidth * (worldCoords.x + 1)) / 2;\r\n        worldCoords.y = (screenHeight * (worldCoords.y + 1)) / 2;\r\n        worldCoords.z = (worldCoords.z + 1) / 2;\r\n        return worldCoords;\r\n    }\r\n    unprojectVector2(worldCoord, screenCoord) {\r\n        this.tmp3.set(screenCoord.x, screenCoord.y, 0);\r\n        this.screenToWorld(this.tmp3);\r\n        worldCoord.set(this.tmp3.x, this.tmp3.y);\r\n    }\r\n    setViewport(viewportWidth, viewportHeight) {\r\n        this.viewportWidth = viewportWidth;\r\n        this.viewportHeight = viewportHeight;\r\n    }\r\n}\r\nexports.OrthoCamera = OrthoCamera;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Game = void 0;\r\nclass Game {\r\n    setScreen(screen) {\r\n        if (this.currentScreen && this.currentScreen.dispose) {\r\n            this.currentScreen.dispose();\r\n        }\r\n        this.currentScreen = screen;\r\n        if (this.currentScreen && this.currentScreen.init) {\r\n            this.currentScreen.init(this);\r\n        }\r\n    }\r\n    update(delta) {\r\n        if (this.currentScreen && this.currentScreen.update) {\r\n            this.currentScreen.update(delta, this);\r\n        }\r\n    }\r\n}\r\nexports.Game = Game;\r\nGame.shared = new Game();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Glyph = exports.PAGES = exports.PAGE_SIZE = exports.LOG2_PAGE_SIZE = void 0;\r\nexports.LOG2_PAGE_SIZE = 9;\r\nexports.PAGE_SIZE = 1 << exports.LOG2_PAGE_SIZE;\r\nexports.PAGES = 0x10000 / exports.PAGE_SIZE;\r\nclass Glyph {\r\n    constructor() {\r\n        /** The index to the texture page that holds this glyph. */\r\n        this.page = 0;\r\n    }\r\n    getKerning(ch) {\r\n        if (this.kerning) {\r\n            const page = this.kerning[ch.charCodeAt(0) >>> exports.LOG2_PAGE_SIZE];\r\n            if (page != null)\r\n                return page[ch.charCodeAt(0) & (exports.PAGE_SIZE - 1)];\r\n        }\r\n        return 0;\r\n    }\r\n    setKerning(ch, value) {\r\n        if (!this.kerning) {\r\n            this.kerning = [];\r\n        }\r\n        let page = this.kerning[ch >>> exports.LOG2_PAGE_SIZE];\r\n        if (!page) {\r\n            this.kerning[ch >>> exports.LOG2_PAGE_SIZE] = page = new Uint32Array(new ArrayBuffer(exports.PAGE_SIZE));\r\n        }\r\n        page[ch & (exports.PAGE_SIZE - 1)] = value;\r\n    }\r\n}\r\nexports.Glyph = Glyph;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GlyphLayout = void 0;\r\nconst GlyphRun_1 = require(\"./GlyphRun\");\r\nconst Utils_1 = require(\"./Utils\");\r\nclass GlyphLayout {\r\n    constructor(font, str, start, end, color, targetWidth, hAlign, wrap, truncate) {\r\n        this.epsilon = 0.0001;\r\n        this.glyphRunPool = Utils_1.Pools.get('GlyphRun', () => new GlyphRun_1.GlyphRun());\r\n        this.colorStack = new Array(4);\r\n        this.runs = [];\r\n        this.colors = [];\r\n        this.setText = (font, str, start, end, color, targetWidth, hAlign, wrap, truncate) => {\r\n            this.reset();\r\n            const fontData = font.data;\r\n            if (start === end) {\r\n                // Empty string.\r\n                this.height = fontData.capHeight;\r\n                return;\r\n            }\r\n            // Avoid wrapping one line per character, which is very inefficient.\r\n            if (wrap)\r\n                targetWidth = Math.max(targetWidth, fontData.spaceXadvance * 3);\r\n            const wrapOrTruncate = wrap || truncate != null;\r\n            let currentColor = color.toIntBits();\r\n            let nextColor = currentColor;\r\n            this.colors.shift();\r\n            const markupEnabled = fontData.markupEnabled;\r\n            if (markupEnabled)\r\n                this.colorStack.push(currentColor);\r\n            let isLastRun = false;\r\n            let y = 0;\r\n            let down = fontData.down;\r\n            let lineRun = null; // Collects glyphs for the current line.\r\n            let lastGlyph = null; // Last glyph of the previous run on the same line, used for kerning between runs.\r\n            let runStart = start;\r\n            while (true) {\r\n                let runEnd;\r\n                let newline = false;\r\n                if (start === end) {\r\n                    // End of text.\r\n                    if (runStart === end)\r\n                        break; // No run to process, we're done.\r\n                    runEnd = end; // Process the final run.\r\n                    isLastRun = true;\r\n                }\r\n                else {\r\n                    // Each run is delimited by newline or left square bracket.\r\n                    switch (str.charAt(start++)) {\r\n                        case '\\n': // End of line.\r\n                            runEnd = start - 1;\r\n                            newline = true;\r\n                            break;\r\n                        // Fall through.\r\n                        default:\r\n                            continue;\r\n                    }\r\n                }\r\n                // eslint-disable-next-line no-labels\r\n                runEnded: {\r\n                    // Store the run that has ended.\r\n                    const run = this.glyphRunPool.obtain();\r\n                    run.x = 0;\r\n                    run.y = y;\r\n                    fontData.getGlyphs(run, str, runStart, runEnd, lastGlyph);\r\n                    this.glyphCount += run.glyphs.length;\r\n                    if (nextColor !== currentColor) {\r\n                        // Can only be different if markupEnabled.\r\n                        if (this.colors[this.colors.length - 2] === this.glyphCount) {\r\n                            // Consecutive color changes, or after an empty run, or at the beginning of the string.\r\n                            this.colors[this.colors.length - 1] = nextColor;\r\n                        }\r\n                        else {\r\n                            this.colors.push(this.glyphCount);\r\n                            this.colors.push(nextColor);\r\n                        }\r\n                        currentColor = nextColor;\r\n                    }\r\n                    if (run.glyphs.length === 0) {\r\n                        this.glyphRunPool.free(run);\r\n                        if (!lineRun)\r\n                            break; // Otherwise wrap and truncate must still be processed for lineRun.\r\n                    }\r\n                    else if (!lineRun) {\r\n                        lineRun = run;\r\n                        this.runs.push(lineRun);\r\n                    }\r\n                    else {\r\n                        lineRun.appendRun(run);\r\n                        this.glyphRunPool.free(run);\r\n                    }\r\n                    if (newline || isLastRun) {\r\n                        this.setLastGlyphXAdvance(fontData, lineRun);\r\n                        lastGlyph = null;\r\n                    }\r\n                    else\r\n                        lastGlyph = lineRun.glyphs[lineRun.glyphs.length - 1];\r\n                    if (!wrapOrTruncate || lineRun.glyphs.length === 0) {\r\n                        // eslint-disable-next-line no-labels\r\n                        break runEnded; // No wrap or truncate, or no glyphs.\r\n                    }\r\n                    if (newline || isLastRun) {\r\n                        // Wrap or truncate. First xadvance is the first glyph's X offset relative to the drawing position.\r\n                        let runWidth = lineRun.xAdvances[0] + lineRun.xAdvances[1]; // At least the first glyph will fit.\r\n                        for (let i = 2; i < lineRun.xAdvances.length; i++) {\r\n                            const glyph = lineRun.glyphs[i - 1];\r\n                            let glyphWidth = this.getGlyphWidth(glyph, fontData);\r\n                            if (runWidth + glyphWidth - this.epsilon <= targetWidth) {\r\n                                // Glyph fits.\r\n                                runWidth += lineRun.xAdvances[i];\r\n                                continue;\r\n                            }\r\n                            if (truncate != null) {\r\n                                // Truncate.\r\n                                this.truncate(fontData, lineRun, targetWidth, truncate);\r\n                                break;\r\n                            }\r\n                            // Wrap.\r\n                            let wrapIndex = fontData.getWrapIndex(lineRun.glyphs, i);\r\n                            if ((wrapIndex === 0 && lineRun.x === 0) || // Require at least one glyph per line.\r\n                                wrapIndex >= lineRun.glyphs.length) {\r\n                                // Wrap at least the glyph that didn't fit.\r\n                                wrapIndex = i - 1;\r\n                            }\r\n                            lineRun = this.wrap(fontData, lineRun, wrapIndex);\r\n                            // eslint-disable-next-line no-labels\r\n                            if (!lineRun)\r\n                                break runEnded; // All wrapped glyphs were whitespace.\r\n                            this.runs.push(lineRun);\r\n                            y += down;\r\n                            lineRun.x = 0;\r\n                            lineRun.y = y;\r\n                            // Start the wrap loop again, another wrap might be necessary.\r\n                            runWidth = lineRun.xAdvances[0] + lineRun.xAdvances[1]; // At least the first glyph will fit.\r\n                            i = 1;\r\n                        }\r\n                    }\r\n                }\r\n                if (newline) {\r\n                    lineRun = null;\r\n                    lastGlyph = null;\r\n                    // Next run will be on the next line.\r\n                    if (runEnd === runStart)\r\n                        // Blank line.\r\n                        y += down * fontData.blankLineScale;\r\n                    else\r\n                        y += down;\r\n                }\r\n                runStart = start;\r\n            }\r\n            this.height = fontData.capHeight + Math.abs(y);\r\n            this.calculateWidths(fontData);\r\n            this.alignRuns(targetWidth, hAlign);\r\n            // Clear the color stack.\r\n            if (markupEnabled)\r\n                this.colorStack.length = 0;\r\n        };\r\n        this.calculateWidths = (fontData) => {\r\n            var _a;\r\n            let width = 0;\r\n            const runsItems = [...this.runs];\r\n            for (let i = 0, n = this.runs.length; i < n; i++) {\r\n                const run = runsItems[i];\r\n                const xAdvances = run.xAdvances;\r\n                let runWidth = run.x + xAdvances[0];\r\n                let max = 0; // run.x is needed to ensure floats are rounded same as above.\r\n                const glyphs = run.glyphs;\r\n                for (let ii = 0; ii < run.glyphs.length;) {\r\n                    const glyph = glyphs[ii];\r\n                    const glyphWidth = this.getGlyphWidth(glyph, fontData);\r\n                    max = Math.max(max, runWidth + glyphWidth); // A glyph can extend past the right edge of subsequent glyphs.\r\n                    ii++;\r\n                    runWidth += (_a = xAdvances[ii]) !== null && _a !== void 0 ? _a : 0;\r\n                }\r\n                run.width = Math.max(runWidth, max) - run.x;\r\n                width = Math.max(width, run.x + (isNaN(run.width) ? runWidth : run.width));\r\n            }\r\n            this.width = width;\r\n        };\r\n        this.alignRuns = (targetWidth, halign) => {\r\n            if ((halign & Utils_1.Align.left) === 0) {\r\n                // Not left aligned, so must be center or right aligned.\r\n                const center = (halign & Utils_1.Align.center) !== 0;\r\n                const runsItems = [...this.runs];\r\n                for (let i = 0, n = this.runs.length; i < n; i++) {\r\n                    const run = runsItems[i];\r\n                    run.x += center ? 0.5 * (targetWidth - run.width) : targetWidth - run.width;\r\n                }\r\n            }\r\n        };\r\n        /** @param truncate May be empty string. */\r\n        this.truncate = (fontData, run, targetWidth, truncate) => {\r\n            let glyphCount = run.glyphs.length;\r\n            // Determine truncate string size.\r\n            const truncateRun = this.glyphRunPool.obtain();\r\n            fontData.getGlyphs(truncateRun, truncate, 0, truncate.length, null);\r\n            let truncateWidth = 0;\r\n            if (truncateRun.xAdvances.length > 0) {\r\n                this.setLastGlyphXAdvance(fontData, truncateRun);\r\n                const xAdvances = truncateRun.xAdvances;\r\n                // Skip first for tight bounds.\r\n                for (let i = 1; i < truncateRun.xAdvances.length; i++) {\r\n                    truncateWidth += xAdvances[i];\r\n                }\r\n            }\r\n            targetWidth -= truncateWidth;\r\n            // Determine visible glyphs.\r\n            let count = 0;\r\n            let width = run.x;\r\n            const xAdvances = run.xAdvances;\r\n            while (count < run.xAdvances.length) {\r\n                const xAdvance = xAdvances[count];\r\n                width += xAdvance;\r\n                if (width > targetWidth)\r\n                    break;\r\n                count++;\r\n            }\r\n            if (count > 1) {\r\n                // Some run glyphs fit, append truncate glyphs.\r\n                if (count - 1 >= 0 && run.glyphs.length > count - 1) {\r\n                    for (let i = count - 1; i < run.glyphs.length; i++) {\r\n                        run.glyphs.splice(i, 1);\r\n                    }\r\n                }\r\n                if (count >= 0 && run.xAdvances.length > count) {\r\n                    for (let i = count; i < run.xAdvances.length; i++) {\r\n                        run.xAdvances.splice(i, 1);\r\n                    }\r\n                }\r\n                this.setLastGlyphXAdvance(fontData, run);\r\n                if (truncateRun.xAdvances.length > 0) {\r\n                    Utils_1.Utils.arrayCopy(truncateRun.xAdvances, 1, run.xAdvances, run.xAdvances.length, truncateRun.xAdvances.length - 1);\r\n                }\r\n            }\r\n            else {\r\n                // No run glyphs fit, use only truncate glyphs.\r\n                run.glyphs.length = 0;\r\n                run.xAdvances.length = 0;\r\n                // run.xAdvances.addAll(truncateRun.xAdvances);\r\n                Utils_1.Utils.arrayCopy(truncateRun.xAdvances, 0, run.xAdvances, run.xAdvances.length, truncateRun.xAdvances.length);\r\n            }\r\n            const droppedGlyphCount = glyphCount - run.glyphs.length;\r\n            if (droppedGlyphCount > 0) {\r\n                this.glyphCount -= droppedGlyphCount;\r\n                if (fontData.markupEnabled) {\r\n                    while (this.colors.length > 2 && this.colors[this.colors.length - 2] >= this.glyphCount)\r\n                        this.colors.length -= 2;\r\n                }\r\n            }\r\n            Utils_1.Utils.arrayCopy(truncateRun.glyphs, 0, run.glyphs, run.glyphs.length, truncateRun.glyphs.length);\r\n            this.glyphCount += truncate.length;\r\n            this.glyphRunPool.free(truncateRun);\r\n        };\r\n        /** Sets the xadvance of the last glyph to use its width instead of xadvance. */\r\n        this.setLastGlyphXAdvance = (fontData, run) => {\r\n            const last = run.glyphs[run.glyphs.length - 1];\r\n            if (!last.fixedWidth)\r\n                run.xAdvances[run.xAdvances.length - 1] = this.getGlyphWidth(last, fontData);\r\n        };\r\n        /** Returns the distance from the glyph's drawing position to the right edge of the glyph. */\r\n        this.getGlyphWidth = (glyph, fontData) => {\r\n            return (glyph.width + glyph.xoffset) * fontData.scaleX - fontData.padRight;\r\n        };\r\n        /** Returns an X offset for the first glyph so when drawn, none of it is left of the line's drawing position. */\r\n        this.getLineOffset = (glyphs, fontData) => {\r\n            return -glyphs[0].xoffset * fontData.scaleX - fontData.padLeft;\r\n        };\r\n        this.reset = () => {\r\n            this.glyphRunPool.freeAll(this.runs);\r\n            this.runs.length = 0;\r\n            this.colors.length = 0;\r\n            this.glyphCount = 0;\r\n            this.width = 0;\r\n            this.height = 0;\r\n        };\r\n        this.setText(font, str, start, end, color, targetWidth, hAlign, wrap, truncate);\r\n    }\r\n    /** Breaks a run into two runs at the specified wrapIndex.\r\n     * @return May be null if second run is all whitespace. */\r\n    wrap(fontData, first, wrapIndex) {\r\n        const glyphCount = first.glyphs.length;\r\n        let glyphs2 = first.glyphs; // Starts with all the glyphs.\r\n        let xAdvances2 = first.xAdvances; // Starts with all the xadvances.\r\n        // Skip whitespace before the wrap index.\r\n        let firstEnd = wrapIndex;\r\n        for (; firstEnd > 0; firstEnd--)\r\n            if (!fontData.isWhitespace(glyphs2[firstEnd - 1].id))\r\n                break;\r\n        // Skip whitespace after the wrap index.\r\n        let secondStart = wrapIndex;\r\n        for (; secondStart < glyphCount; secondStart++)\r\n            if (!fontData.isWhitespace(glyphs2[secondStart].id))\r\n                break;\r\n        // Copy wrapped glyphs and xadvances to second run.\r\n        // The second run will contain the remaining glyph data, so swap instances rather than copying.\r\n        let second;\r\n        if (secondStart < glyphCount) {\r\n            second = this.glyphRunPool.obtain();\r\n            const glyphs1 = second.glyphs; // Starts empty.\r\n            Utils_1.Utils.arrayCopy(glyphs2, 0, glyphs1, glyphs1.length, firstEnd);\r\n            // glyphs2.removeRange(0, secondStart - 1);\r\n            glyphs2.splice(0, secondStart - 1 + 1);\r\n            first.glyphs = glyphs1;\r\n            second.glyphs = glyphs2;\r\n            const xAdvances1 = second.xAdvances; // Starts empty.\r\n            Utils_1.Utils.arrayCopy(xAdvances2, 0, xAdvances1, xAdvances1.length, firstEnd + 1);\r\n            // xAdvances2.removeRange(1, secondStart); // Leave first entry to be overwritten by next line.\r\n            xAdvances2.splice(1, secondStart); // Leave first entry to be overwritten by next line.\r\n            xAdvances2[0] = this.getLineOffset(glyphs2, fontData);\r\n            first.xAdvances = xAdvances1;\r\n            second.xAdvances = xAdvances2;\r\n            const firstGlyphCount = first.glyphs.length; // After wrapping it.\r\n            const secondGlyphCount = second.glyphs.length;\r\n            const droppedGlyphCount = glyphCount - firstGlyphCount - secondGlyphCount;\r\n            this.glyphCount -= droppedGlyphCount;\r\n            if (fontData.markupEnabled && droppedGlyphCount > 0) {\r\n                const reductionThreshold = this.glyphCount - secondGlyphCount;\r\n                for (let i = this.colors.length - 2; i >= 2; i -= 2) {\r\n                    // i >= 1 because first 2 values always determine the base color.\r\n                    const colorChangeIndex = this.colors[i];\r\n                    if (colorChangeIndex <= reductionThreshold)\r\n                        break;\r\n                    this.colors[i] = colorChangeIndex - droppedGlyphCount;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // Second run is empty, just trim whitespace glyphs from end of first run.\r\n            glyphs2 = glyphs2.slice(0, firstEnd);\r\n            xAdvances2 = xAdvances2.slice(0, firstEnd + 1);\r\n            const droppedGlyphCount = secondStart - firstEnd;\r\n            if (droppedGlyphCount > 0) {\r\n                this.glyphCount -= droppedGlyphCount;\r\n                if (fontData.markupEnabled && this.colors[this.colors.length - 2] > this.glyphCount) {\r\n                    // Many color changes can be hidden in the dropped whitespace, so keep only the very last color entry.\r\n                    const lastColor = this.colors[this.colors.length - 1];\r\n                    while (this.colors[this.colors.length - 2] > this.glyphCount)\r\n                        this.colors.length -= 2;\r\n                    this.colors[this.colors.length - 2] = this.glyphCount; // Update color change index.\r\n                    this.colors[this.colors.length - 1] = lastColor; // Update color entry.\r\n                }\r\n            }\r\n        }\r\n        if (firstEnd === 0) {\r\n            // If the first run is now empty, remove it.\r\n            this.glyphRunPool.free(first);\r\n            this.runs.pop();\r\n        }\r\n        else\r\n            this.setLastGlyphXAdvance(fontData, first);\r\n        return second;\r\n    }\r\n}\r\nexports.GlyphLayout = GlyphLayout;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GlyphRun = void 0;\r\nclass GlyphRun {\r\n    constructor() {\r\n        this.glyphs = [];\r\n        this.xAdvances = [];\r\n        this.appendRun = (run) => {\r\n            this.glyphs.concat(run.glyphs);\r\n            // Remove the width of the last glyph. The first xadvance of the appended run has kerning for the last glyph of this run.\r\n            if (!this.xAdvances.length)\r\n                this.xAdvances.length--;\r\n            this.xAdvances.concat(run.xAdvances);\r\n        };\r\n        this.reset = () => {\r\n            this.glyphs.length = 0;\r\n            this.xAdvances.length = 0;\r\n        };\r\n    }\r\n}\r\nexports.GlyphRun = GlyphRun;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InputHandler = exports.InputEvent = void 0;\r\nconst events_1 = require(\"events\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\nvar InputEvent;\r\n(function (InputEvent) {\r\n    InputEvent[\"TouchStart\"] = \"touchStart\";\r\n    InputEvent[\"TouchEnd\"] = \"touchEnd\";\r\n    InputEvent[\"TouchMove\"] = \"touchMove\";\r\n})(InputEvent = exports.InputEvent || (exports.InputEvent = {}));\r\nclass InputHandler {\r\n    constructor(canvas) {\r\n        this.screenCoord = new Vector2_1.Vector2();\r\n        this.worldCoord = new Vector2_1.Vector2();\r\n        this.canvas = canvas;\r\n        this.lastX = 0;\r\n        this.lastY = 0;\r\n        this.touched = false;\r\n        const emitter = (this.emitter = new events_1.EventEmitter());\r\n        this.mouseDownHandler = evt => {\r\n            this.touched = true;\r\n            this.handleMove(evt);\r\n            emitter.emit('touchStart', this.getX(), this.getY());\r\n        };\r\n        this.mouseUpHandler = evt => {\r\n            this.touched = false;\r\n            emitter.emit('touchEnd', this.getX(), this.getY());\r\n        };\r\n        this.mouseMoveHandler = evt => {\r\n            this.handleMove(evt);\r\n            emitter.emit('touchMove', this.getX(), this.getY());\r\n        };\r\n        this.touchStartHandler = evt => {\r\n            evt.preventDefault();\r\n            // TODO: handle multi touch\r\n            let touch = evt.touches[0];\r\n            this.canvas.dispatchEvent(new MouseEvent('mousedown', {\r\n                clientX: touch.clientX,\r\n                clientY: touch.clientY\r\n            }));\r\n        };\r\n        this.touchEndHandler = evt => {\r\n            evt.preventDefault();\r\n            this.canvas.dispatchEvent(new MouseEvent('mouseup'));\r\n        };\r\n        this.touchMoveHandler = evt => {\r\n            evt.preventDefault();\r\n            let touch = evt.touches[0];\r\n            this.canvas.dispatchEvent(new MouseEvent('mousemove', {\r\n                clientX: touch.clientX,\r\n                clientY: touch.clientY\r\n            }));\r\n        };\r\n        this.canvas.addEventListener('mousedown', this.mouseDownHandler, false);\r\n        this.canvas.addEventListener('mouseup', this.mouseUpHandler, false);\r\n        this.canvas.addEventListener('mousemove', this.mouseMoveHandler, false);\r\n        this.canvas.addEventListener('touchstart', this.touchStartHandler, false);\r\n        this.canvas.addEventListener('touchend', this.touchEndHandler, false);\r\n        this.canvas.addEventListener('touchmove', this.touchMoveHandler, false);\r\n    }\r\n    cleanup() {\r\n        this.canvas.removeEventListener('mousedown', this.mouseDownHandler);\r\n        this.canvas.removeEventListener('mouseup', this.mouseUpHandler);\r\n        this.canvas.removeEventListener('mousemove', this.mouseMoveHandler);\r\n        this.canvas.removeEventListener('touchstart', this.touchStartHandler);\r\n        this.canvas.removeEventListener('touchend', this.touchEndHandler);\r\n        this.canvas.removeEventListener('touchmove', this.touchMoveHandler);\r\n    }\r\n    addEventListener(event, listener) {\r\n        this.emitter.addListener(event, listener);\r\n    }\r\n    handleMove(evt) {\r\n        const rect = this.canvas.getBoundingClientRect();\r\n        const x = evt.clientX - rect.left;\r\n        const y = evt.clientY - rect.top;\r\n        this.lastX = x;\r\n        this.lastY = y;\r\n    }\r\n    getX() {\r\n        return this.lastX;\r\n    }\r\n    getY() {\r\n        return this.lastY;\r\n    }\r\n    isTouched() {\r\n        return this.touched;\r\n    }\r\n    getTouchedWorldCoord(camera) {\r\n        this.screenCoord.set(this.getX(), this.getY());\r\n        camera.unprojectVector2(this.worldCoord, this.screenCoord);\r\n        return this.worldCoord;\r\n    }\r\n}\r\nexports.InputHandler = InputHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Matrix4 = exports.M33 = exports.M32 = exports.M31 = exports.M30 = exports.M23 = exports.M22 = exports.M21 = exports.M20 = exports.M13 = exports.M12 = exports.M11 = exports.M10 = exports.M03 = exports.M02 = exports.M01 = exports.M00 = void 0;\r\nconst Vector3_1 = require(\"./Vector3\");\r\nexports.M00 = 0;\r\nexports.M01 = 4;\r\nexports.M02 = 8;\r\nexports.M03 = 12;\r\nexports.M10 = 1;\r\nexports.M11 = 5;\r\nexports.M12 = 9;\r\nexports.M13 = 13;\r\nexports.M20 = 2;\r\nexports.M21 = 6;\r\nexports.M22 = 10;\r\nexports.M23 = 14;\r\nexports.M30 = 3;\r\nexports.M31 = 7;\r\nexports.M32 = 11;\r\nexports.M33 = 15;\r\nclass Matrix4 {\r\n    constructor() {\r\n        this.temp = new Float32Array(16);\r\n        this.values = new Float32Array(16);\r\n        let v = this.values;\r\n        v[exports.M00] = 1;\r\n        v[exports.M11] = 1;\r\n        v[exports.M22] = 1;\r\n        v[exports.M33] = 1;\r\n    }\r\n    set(values) {\r\n        this.values.set(values);\r\n        return this;\r\n    }\r\n    transpose() {\r\n        let t = this.temp;\r\n        let v = this.values;\r\n        t[exports.M00] = v[exports.M00];\r\n        t[exports.M01] = v[exports.M10];\r\n        t[exports.M02] = v[exports.M20];\r\n        t[exports.M03] = v[exports.M30];\r\n        t[exports.M10] = v[exports.M01];\r\n        t[exports.M11] = v[exports.M11];\r\n        t[exports.M12] = v[exports.M21];\r\n        t[exports.M13] = v[exports.M31];\r\n        t[exports.M20] = v[exports.M02];\r\n        t[exports.M21] = v[exports.M12];\r\n        t[exports.M22] = v[exports.M22];\r\n        t[exports.M23] = v[exports.M32];\r\n        t[exports.M30] = v[exports.M03];\r\n        t[exports.M31] = v[exports.M13];\r\n        t[exports.M32] = v[exports.M23];\r\n        t[exports.M33] = v[exports.M33];\r\n        return this.set(t);\r\n    }\r\n    identity() {\r\n        let v = this.values;\r\n        v[exports.M00] = 1;\r\n        v[exports.M01] = 0;\r\n        v[exports.M02] = 0;\r\n        v[exports.M03] = 0;\r\n        v[exports.M10] = 0;\r\n        v[exports.M11] = 1;\r\n        v[exports.M12] = 0;\r\n        v[exports.M13] = 0;\r\n        v[exports.M20] = 0;\r\n        v[exports.M21] = 0;\r\n        v[exports.M22] = 1;\r\n        v[exports.M23] = 0;\r\n        v[exports.M30] = 0;\r\n        v[exports.M31] = 0;\r\n        v[exports.M32] = 0;\r\n        v[exports.M33] = 1;\r\n        return this;\r\n    }\r\n    invert() {\r\n        let v = this.values;\r\n        let t = this.temp;\r\n        let l_det = v[exports.M30] * v[exports.M21] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M20] * v[exports.M31] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M11] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M10] * v[exports.M31] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M20] * v[exports.M11] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M10] * v[exports.M21] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M21] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M20] * v[exports.M31] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M01] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M00] * v[exports.M31] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M20] * v[exports.M01] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M00] * v[exports.M21] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M11] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M10] * v[exports.M31] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M30] * v[exports.M01] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M00] * v[exports.M31] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M10] * v[exports.M01] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M00] * v[exports.M11] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M20] * v[exports.M11] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M10] * v[exports.M21] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M20] * v[exports.M01] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M00] * v[exports.M21] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M10] * v[exports.M01] * v[exports.M22] * v[exports.M33] +\r\n            v[exports.M00] * v[exports.M11] * v[exports.M22] * v[exports.M33];\r\n        if (l_det === 0)\r\n            throw new Error('non-invertible matrix');\r\n        let inv_det = 1.0 / l_det;\r\n        t[exports.M00] =\r\n            v[exports.M12] * v[exports.M23] * v[exports.M31] -\r\n                v[exports.M13] * v[exports.M22] * v[exports.M31] +\r\n                v[exports.M13] * v[exports.M21] * v[exports.M32] -\r\n                v[exports.M11] * v[exports.M23] * v[exports.M32] -\r\n                v[exports.M12] * v[exports.M21] * v[exports.M33] +\r\n                v[exports.M11] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M01] =\r\n            v[exports.M03] * v[exports.M22] * v[exports.M31] -\r\n                v[exports.M02] * v[exports.M23] * v[exports.M31] -\r\n                v[exports.M03] * v[exports.M21] * v[exports.M32] +\r\n                v[exports.M01] * v[exports.M23] * v[exports.M32] +\r\n                v[exports.M02] * v[exports.M21] * v[exports.M33] -\r\n                v[exports.M01] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M02] =\r\n            v[exports.M02] * v[exports.M13] * v[exports.M31] -\r\n                v[exports.M03] * v[exports.M12] * v[exports.M31] +\r\n                v[exports.M03] * v[exports.M11] * v[exports.M32] -\r\n                v[exports.M01] * v[exports.M13] * v[exports.M32] -\r\n                v[exports.M02] * v[exports.M11] * v[exports.M33] +\r\n                v[exports.M01] * v[exports.M12] * v[exports.M33];\r\n        t[exports.M03] =\r\n            v[exports.M03] * v[exports.M12] * v[exports.M21] -\r\n                v[exports.M02] * v[exports.M13] * v[exports.M21] -\r\n                v[exports.M03] * v[exports.M11] * v[exports.M22] +\r\n                v[exports.M01] * v[exports.M13] * v[exports.M22] +\r\n                v[exports.M02] * v[exports.M11] * v[exports.M23] -\r\n                v[exports.M01] * v[exports.M12] * v[exports.M23];\r\n        t[exports.M10] =\r\n            v[exports.M13] * v[exports.M22] * v[exports.M30] -\r\n                v[exports.M12] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M13] * v[exports.M20] * v[exports.M32] +\r\n                v[exports.M10] * v[exports.M23] * v[exports.M32] +\r\n                v[exports.M12] * v[exports.M20] * v[exports.M33] -\r\n                v[exports.M10] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M11] =\r\n            v[exports.M02] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M22] * v[exports.M30] +\r\n                v[exports.M03] * v[exports.M20] * v[exports.M32] -\r\n                v[exports.M00] * v[exports.M23] * v[exports.M32] -\r\n                v[exports.M02] * v[exports.M20] * v[exports.M33] +\r\n                v[exports.M00] * v[exports.M22] * v[exports.M33];\r\n        t[exports.M12] =\r\n            v[exports.M03] * v[exports.M12] * v[exports.M30] -\r\n                v[exports.M02] * v[exports.M13] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M10] * v[exports.M32] +\r\n                v[exports.M00] * v[exports.M13] * v[exports.M32] +\r\n                v[exports.M02] * v[exports.M10] * v[exports.M33] -\r\n                v[exports.M00] * v[exports.M12] * v[exports.M33];\r\n        t[exports.M13] =\r\n            v[exports.M02] * v[exports.M13] * v[exports.M20] -\r\n                v[exports.M03] * v[exports.M12] * v[exports.M20] +\r\n                v[exports.M03] * v[exports.M10] * v[exports.M22] -\r\n                v[exports.M00] * v[exports.M13] * v[exports.M22] -\r\n                v[exports.M02] * v[exports.M10] * v[exports.M23] +\r\n                v[exports.M00] * v[exports.M12] * v[exports.M23];\r\n        t[exports.M20] =\r\n            v[exports.M11] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M13] * v[exports.M21] * v[exports.M30] +\r\n                v[exports.M13] * v[exports.M20] * v[exports.M31] -\r\n                v[exports.M10] * v[exports.M23] * v[exports.M31] -\r\n                v[exports.M11] * v[exports.M20] * v[exports.M33] +\r\n                v[exports.M10] * v[exports.M21] * v[exports.M33];\r\n        t[exports.M21] =\r\n            v[exports.M03] * v[exports.M21] * v[exports.M30] -\r\n                v[exports.M01] * v[exports.M23] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M20] * v[exports.M31] +\r\n                v[exports.M00] * v[exports.M23] * v[exports.M31] +\r\n                v[exports.M01] * v[exports.M20] * v[exports.M33] -\r\n                v[exports.M00] * v[exports.M21] * v[exports.M33];\r\n        t[exports.M22] =\r\n            v[exports.M01] * v[exports.M13] * v[exports.M30] -\r\n                v[exports.M03] * v[exports.M11] * v[exports.M30] +\r\n                v[exports.M03] * v[exports.M10] * v[exports.M31] -\r\n                v[exports.M00] * v[exports.M13] * v[exports.M31] -\r\n                v[exports.M01] * v[exports.M10] * v[exports.M33] +\r\n                v[exports.M00] * v[exports.M11] * v[exports.M33];\r\n        t[exports.M23] =\r\n            v[exports.M03] * v[exports.M11] * v[exports.M20] -\r\n                v[exports.M01] * v[exports.M13] * v[exports.M20] -\r\n                v[exports.M03] * v[exports.M10] * v[exports.M21] +\r\n                v[exports.M00] * v[exports.M13] * v[exports.M21] +\r\n                v[exports.M01] * v[exports.M10] * v[exports.M23] -\r\n                v[exports.M00] * v[exports.M11] * v[exports.M23];\r\n        t[exports.M30] =\r\n            v[exports.M12] * v[exports.M21] * v[exports.M30] -\r\n                v[exports.M11] * v[exports.M22] * v[exports.M30] -\r\n                v[exports.M12] * v[exports.M20] * v[exports.M31] +\r\n                v[exports.M10] * v[exports.M22] * v[exports.M31] +\r\n                v[exports.M11] * v[exports.M20] * v[exports.M32] -\r\n                v[exports.M10] * v[exports.M21] * v[exports.M32];\r\n        t[exports.M31] =\r\n            v[exports.M01] * v[exports.M22] * v[exports.M30] -\r\n                v[exports.M02] * v[exports.M21] * v[exports.M30] +\r\n                v[exports.M02] * v[exports.M20] * v[exports.M31] -\r\n                v[exports.M00] * v[exports.M22] * v[exports.M31] -\r\n                v[exports.M01] * v[exports.M20] * v[exports.M32] +\r\n                v[exports.M00] * v[exports.M21] * v[exports.M32];\r\n        t[exports.M32] =\r\n            v[exports.M02] * v[exports.M11] * v[exports.M30] -\r\n                v[exports.M01] * v[exports.M12] * v[exports.M30] -\r\n                v[exports.M02] * v[exports.M10] * v[exports.M31] +\r\n                v[exports.M00] * v[exports.M12] * v[exports.M31] +\r\n                v[exports.M01] * v[exports.M10] * v[exports.M32] -\r\n                v[exports.M00] * v[exports.M11] * v[exports.M32];\r\n        t[exports.M33] =\r\n            v[exports.M01] * v[exports.M12] * v[exports.M20] -\r\n                v[exports.M02] * v[exports.M11] * v[exports.M20] +\r\n                v[exports.M02] * v[exports.M10] * v[exports.M21] -\r\n                v[exports.M00] * v[exports.M12] * v[exports.M21] -\r\n                v[exports.M01] * v[exports.M10] * v[exports.M22] +\r\n                v[exports.M00] * v[exports.M11] * v[exports.M22];\r\n        v[exports.M00] = t[exports.M00] * inv_det;\r\n        v[exports.M01] = t[exports.M01] * inv_det;\r\n        v[exports.M02] = t[exports.M02] * inv_det;\r\n        v[exports.M03] = t[exports.M03] * inv_det;\r\n        v[exports.M10] = t[exports.M10] * inv_det;\r\n        v[exports.M11] = t[exports.M11] * inv_det;\r\n        v[exports.M12] = t[exports.M12] * inv_det;\r\n        v[exports.M13] = t[exports.M13] * inv_det;\r\n        v[exports.M20] = t[exports.M20] * inv_det;\r\n        v[exports.M21] = t[exports.M21] * inv_det;\r\n        v[exports.M22] = t[exports.M22] * inv_det;\r\n        v[exports.M23] = t[exports.M23] * inv_det;\r\n        v[exports.M30] = t[exports.M30] * inv_det;\r\n        v[exports.M31] = t[exports.M31] * inv_det;\r\n        v[exports.M32] = t[exports.M32] * inv_det;\r\n        v[exports.M33] = t[exports.M33] * inv_det;\r\n        return this;\r\n    }\r\n    determinant() {\r\n        let v = this.values;\r\n        return (v[exports.M30] * v[exports.M21] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M20] * v[exports.M31] * v[exports.M12] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M11] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M10] * v[exports.M31] * v[exports.M22] * v[exports.M03] +\r\n            v[exports.M20] * v[exports.M11] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M10] * v[exports.M21] * v[exports.M32] * v[exports.M03] -\r\n            v[exports.M30] * v[exports.M21] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M20] * v[exports.M31] * v[exports.M02] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M01] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M00] * v[exports.M31] * v[exports.M22] * v[exports.M13] -\r\n            v[exports.M20] * v[exports.M01] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M00] * v[exports.M21] * v[exports.M32] * v[exports.M13] +\r\n            v[exports.M30] * v[exports.M11] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M10] * v[exports.M31] * v[exports.M02] * v[exports.M23] -\r\n            v[exports.M30] * v[exports.M01] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M00] * v[exports.M31] * v[exports.M12] * v[exports.M23] +\r\n            v[exports.M10] * v[exports.M01] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M00] * v[exports.M11] * v[exports.M32] * v[exports.M23] -\r\n            v[exports.M20] * v[exports.M11] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M10] * v[exports.M21] * v[exports.M02] * v[exports.M33] +\r\n            v[exports.M20] * v[exports.M01] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M00] * v[exports.M21] * v[exports.M12] * v[exports.M33] -\r\n            v[exports.M10] * v[exports.M01] * v[exports.M22] * v[exports.M33] +\r\n            v[exports.M00] * v[exports.M11] * v[exports.M22] * v[exports.M33]);\r\n    }\r\n    translate(x, y, z) {\r\n        let v = this.values;\r\n        v[exports.M03] += x;\r\n        v[exports.M13] += y;\r\n        v[exports.M23] += z;\r\n        return this;\r\n    }\r\n    copy() {\r\n        return new Matrix4().set(this.values);\r\n    }\r\n    projection(near, far, fovy, aspectRatio) {\r\n        this.identity();\r\n        let l_fd = 1.0 / Math.tan((fovy * (Math.PI / 180)) / 2.0);\r\n        let l_a1 = (far + near) / (near - far);\r\n        let l_a2 = (2 * far * near) / (near - far);\r\n        let v = this.values;\r\n        v[exports.M00] = l_fd / aspectRatio;\r\n        v[exports.M10] = 0;\r\n        v[exports.M20] = 0;\r\n        v[exports.M30] = 0;\r\n        v[exports.M01] = 0;\r\n        v[exports.M11] = l_fd;\r\n        v[exports.M21] = 0;\r\n        v[exports.M31] = 0;\r\n        v[exports.M02] = 0;\r\n        v[exports.M12] = 0;\r\n        v[exports.M22] = l_a1;\r\n        v[exports.M32] = -1;\r\n        v[exports.M03] = 0;\r\n        v[exports.M13] = 0;\r\n        v[exports.M23] = l_a2;\r\n        v[exports.M33] = 0;\r\n        return this;\r\n    }\r\n    ortho2d(x, y, width, height) {\r\n        return this.ortho(x, x + width, y, y + height, 0, 1);\r\n    }\r\n    ortho(left, right, bottom, top, near, far) {\r\n        this.identity();\r\n        let x_orth = 2 / (right - left);\r\n        let y_orth = 2 / (top - bottom);\r\n        let z_orth = -2 / (far - near);\r\n        let tx = -(right + left) / (right - left);\r\n        let ty = -(top + bottom) / (top - bottom);\r\n        let tz = -(far + near) / (far - near);\r\n        let v = this.values;\r\n        v[exports.M00] = x_orth;\r\n        v[exports.M10] = 0;\r\n        v[exports.M20] = 0;\r\n        v[exports.M30] = 0;\r\n        v[exports.M01] = 0;\r\n        v[exports.M11] = y_orth;\r\n        v[exports.M21] = 0;\r\n        v[exports.M31] = 0;\r\n        v[exports.M02] = 0;\r\n        v[exports.M12] = 0;\r\n        v[exports.M22] = z_orth;\r\n        v[exports.M32] = 0;\r\n        v[exports.M03] = tx;\r\n        v[exports.M13] = ty;\r\n        v[exports.M23] = tz;\r\n        v[exports.M33] = 1;\r\n        return this;\r\n    }\r\n    multiply(matrix) {\r\n        let t = this.temp;\r\n        let v = this.values;\r\n        let m = matrix.values;\r\n        t[exports.M00] = v[exports.M00] * m[exports.M00] + v[exports.M01] * m[exports.M10] + v[exports.M02] * m[exports.M20] + v[exports.M03] * m[exports.M30];\r\n        t[exports.M01] = v[exports.M00] * m[exports.M01] + v[exports.M01] * m[exports.M11] + v[exports.M02] * m[exports.M21] + v[exports.M03] * m[exports.M31];\r\n        t[exports.M02] = v[exports.M00] * m[exports.M02] + v[exports.M01] * m[exports.M12] + v[exports.M02] * m[exports.M22] + v[exports.M03] * m[exports.M32];\r\n        t[exports.M03] = v[exports.M00] * m[exports.M03] + v[exports.M01] * m[exports.M13] + v[exports.M02] * m[exports.M23] + v[exports.M03] * m[exports.M33];\r\n        t[exports.M10] = v[exports.M10] * m[exports.M00] + v[exports.M11] * m[exports.M10] + v[exports.M12] * m[exports.M20] + v[exports.M13] * m[exports.M30];\r\n        t[exports.M11] = v[exports.M10] * m[exports.M01] + v[exports.M11] * m[exports.M11] + v[exports.M12] * m[exports.M21] + v[exports.M13] * m[exports.M31];\r\n        t[exports.M12] = v[exports.M10] * m[exports.M02] + v[exports.M11] * m[exports.M12] + v[exports.M12] * m[exports.M22] + v[exports.M13] * m[exports.M32];\r\n        t[exports.M13] = v[exports.M10] * m[exports.M03] + v[exports.M11] * m[exports.M13] + v[exports.M12] * m[exports.M23] + v[exports.M13] * m[exports.M33];\r\n        t[exports.M20] = v[exports.M20] * m[exports.M00] + v[exports.M21] * m[exports.M10] + v[exports.M22] * m[exports.M20] + v[exports.M23] * m[exports.M30];\r\n        t[exports.M21] = v[exports.M20] * m[exports.M01] + v[exports.M21] * m[exports.M11] + v[exports.M22] * m[exports.M21] + v[exports.M23] * m[exports.M31];\r\n        t[exports.M22] = v[exports.M20] * m[exports.M02] + v[exports.M21] * m[exports.M12] + v[exports.M22] * m[exports.M22] + v[exports.M23] * m[exports.M32];\r\n        t[exports.M23] = v[exports.M20] * m[exports.M03] + v[exports.M21] * m[exports.M13] + v[exports.M22] * m[exports.M23] + v[exports.M23] * m[exports.M33];\r\n        t[exports.M30] = v[exports.M30] * m[exports.M00] + v[exports.M31] * m[exports.M10] + v[exports.M32] * m[exports.M20] + v[exports.M33] * m[exports.M30];\r\n        t[exports.M31] = v[exports.M30] * m[exports.M01] + v[exports.M31] * m[exports.M11] + v[exports.M32] * m[exports.M21] + v[exports.M33] * m[exports.M31];\r\n        t[exports.M32] = v[exports.M30] * m[exports.M02] + v[exports.M31] * m[exports.M12] + v[exports.M32] * m[exports.M22] + v[exports.M33] * m[exports.M32];\r\n        t[exports.M33] = v[exports.M30] * m[exports.M03] + v[exports.M31] * m[exports.M13] + v[exports.M32] * m[exports.M23] + v[exports.M33] * m[exports.M33];\r\n        return this.set(this.temp);\r\n    }\r\n    multiplyLeft(matrix) {\r\n        let t = this.temp;\r\n        let v = this.values;\r\n        let m = matrix.values;\r\n        t[exports.M00] = m[exports.M00] * v[exports.M00] + m[exports.M01] * v[exports.M10] + m[exports.M02] * v[exports.M20] + m[exports.M03] * v[exports.M30];\r\n        t[exports.M01] = m[exports.M00] * v[exports.M01] + m[exports.M01] * v[exports.M11] + m[exports.M02] * v[exports.M21] + m[exports.M03] * v[exports.M31];\r\n        t[exports.M02] = m[exports.M00] * v[exports.M02] + m[exports.M01] * v[exports.M12] + m[exports.M02] * v[exports.M22] + m[exports.M03] * v[exports.M32];\r\n        t[exports.M03] = m[exports.M00] * v[exports.M03] + m[exports.M01] * v[exports.M13] + m[exports.M02] * v[exports.M23] + m[exports.M03] * v[exports.M33];\r\n        t[exports.M10] = m[exports.M10] * v[exports.M00] + m[exports.M11] * v[exports.M10] + m[exports.M12] * v[exports.M20] + m[exports.M13] * v[exports.M30];\r\n        t[exports.M11] = m[exports.M10] * v[exports.M01] + m[exports.M11] * v[exports.M11] + m[exports.M12] * v[exports.M21] + m[exports.M13] * v[exports.M31];\r\n        t[exports.M12] = m[exports.M10] * v[exports.M02] + m[exports.M11] * v[exports.M12] + m[exports.M12] * v[exports.M22] + m[exports.M13] * v[exports.M32];\r\n        t[exports.M13] = m[exports.M10] * v[exports.M03] + m[exports.M11] * v[exports.M13] + m[exports.M12] * v[exports.M23] + m[exports.M13] * v[exports.M33];\r\n        t[exports.M20] = m[exports.M20] * v[exports.M00] + m[exports.M21] * v[exports.M10] + m[exports.M22] * v[exports.M20] + m[exports.M23] * v[exports.M30];\r\n        t[exports.M21] = m[exports.M20] * v[exports.M01] + m[exports.M21] * v[exports.M11] + m[exports.M22] * v[exports.M21] + m[exports.M23] * v[exports.M31];\r\n        t[exports.M22] = m[exports.M20] * v[exports.M02] + m[exports.M21] * v[exports.M12] + m[exports.M22] * v[exports.M22] + m[exports.M23] * v[exports.M32];\r\n        t[exports.M23] = m[exports.M20] * v[exports.M03] + m[exports.M21] * v[exports.M13] + m[exports.M22] * v[exports.M23] + m[exports.M23] * v[exports.M33];\r\n        t[exports.M30] = m[exports.M30] * v[exports.M00] + m[exports.M31] * v[exports.M10] + m[exports.M32] * v[exports.M20] + m[exports.M33] * v[exports.M30];\r\n        t[exports.M31] = m[exports.M30] * v[exports.M01] + m[exports.M31] * v[exports.M11] + m[exports.M32] * v[exports.M21] + m[exports.M33] * v[exports.M31];\r\n        t[exports.M32] = m[exports.M30] * v[exports.M02] + m[exports.M31] * v[exports.M12] + m[exports.M32] * v[exports.M22] + m[exports.M33] * v[exports.M32];\r\n        t[exports.M33] = m[exports.M30] * v[exports.M03] + m[exports.M31] * v[exports.M13] + m[exports.M32] * v[exports.M23] + m[exports.M33] * v[exports.M33];\r\n        return this.set(this.temp);\r\n    }\r\n    lookAt(position, direction, up) {\r\n        Matrix4.initTemps();\r\n        let xAxis = Matrix4.xAxis, yAxis = Matrix4.yAxis, zAxis = Matrix4.zAxis;\r\n        zAxis.setFrom(direction).normalize();\r\n        xAxis.setFrom(direction).normalize();\r\n        xAxis.cross(up).normalize();\r\n        yAxis.setFrom(xAxis).cross(zAxis).normalize();\r\n        this.identity();\r\n        let val = this.values;\r\n        val[exports.M00] = xAxis.x;\r\n        val[exports.M01] = xAxis.y;\r\n        val[exports.M02] = xAxis.z;\r\n        val[exports.M10] = yAxis.x;\r\n        val[exports.M11] = yAxis.y;\r\n        val[exports.M12] = yAxis.z;\r\n        val[exports.M20] = -zAxis.x;\r\n        val[exports.M21] = -zAxis.y;\r\n        val[exports.M22] = -zAxis.z;\r\n        Matrix4.tmpMatrix.identity();\r\n        Matrix4.tmpMatrix.values[exports.M03] = -position.x;\r\n        Matrix4.tmpMatrix.values[exports.M13] = -position.y;\r\n        Matrix4.tmpMatrix.values[exports.M23] = -position.z;\r\n        this.multiply(Matrix4.tmpMatrix);\r\n        return this;\r\n    }\r\n    static initTemps() {\r\n        if (Matrix4.xAxis === null)\r\n            Matrix4.xAxis = new Vector3_1.Vector3();\r\n        if (Matrix4.yAxis === null)\r\n            Matrix4.yAxis = new Vector3_1.Vector3();\r\n        if (Matrix4.zAxis === null)\r\n            Matrix4.zAxis = new Vector3_1.Vector3();\r\n    }\r\n}\r\nexports.Matrix4 = Matrix4;\r\nMatrix4.xAxis = null;\r\nMatrix4.yAxis = null;\r\nMatrix4.zAxis = null;\r\nMatrix4.tmpMatrix = new Matrix4();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Color2Attribute = exports.ColorAttribute = exports.TexCoordAttribute = exports.Position3Attribute = exports.Position2Attribute = exports.VertexAttribute = exports.VertexAttributeType = exports.Mesh = void 0;\r\nconst Shader_1 = require(\"./Shader\");\r\nclass Mesh {\r\n    constructor(context, attributes, maxVertices, maxIndices) {\r\n        this.attributes = attributes;\r\n        this.verticesLength = 0;\r\n        this.dirtyVertices = false;\r\n        this.indicesLength = 0;\r\n        this.dirtyIndices = false;\r\n        this.elementsPerVertex = 0;\r\n        this.context = context;\r\n        this.elementsPerVertex = 0;\r\n        for (let i = 0; i < attributes.length; i++) {\r\n            this.elementsPerVertex += attributes[i].numElements;\r\n        }\r\n        this.vertices = new Float32Array(maxVertices * this.elementsPerVertex);\r\n        this.indices = new Uint16Array(maxIndices);\r\n    }\r\n    getAttributes() {\r\n        return this.attributes;\r\n    }\r\n    maxVertices() {\r\n        return this.vertices.length / this.elementsPerVertex;\r\n    }\r\n    numVertices() {\r\n        return this.verticesLength / this.elementsPerVertex;\r\n    }\r\n    setVerticesLength(length) {\r\n        this.dirtyVertices = true;\r\n        this.verticesLength = length;\r\n    }\r\n    getVertices() {\r\n        return this.vertices;\r\n    }\r\n    maxIndices() {\r\n        return this.indices.length;\r\n    }\r\n    numIndices() {\r\n        return this.indicesLength;\r\n    }\r\n    setIndicesLength(length) {\r\n        this.dirtyIndices = true;\r\n        this.indicesLength = length;\r\n    }\r\n    getIndices() {\r\n        return this.indices;\r\n    }\r\n    getVertexSizeInFloats() {\r\n        let size = 0;\r\n        for (var i = 0; i < this.attributes.length; i++) {\r\n            let attribute = this.attributes[i];\r\n            size += attribute.numElements;\r\n        }\r\n        return size;\r\n    }\r\n    setVertices(vertices) {\r\n        this.dirtyVertices = true;\r\n        if (vertices.length > this.vertices.length)\r\n            throw Error(\"Mesh can't store more than \" + this.maxVertices() + ' vertices');\r\n        this.vertices.set(vertices, 0);\r\n        this.verticesLength = vertices.length;\r\n    }\r\n    setIndices(indices) {\r\n        this.dirtyIndices = true;\r\n        if (indices.length > this.indices.length)\r\n            throw Error(\"Mesh can't store more than \" + this.maxIndices() + ' indices');\r\n        this.indices.set(indices, 0);\r\n        this.indicesLength = indices.length;\r\n    }\r\n    draw(shader, primitiveType) {\r\n        this.drawWithOffset(shader, primitiveType, 0, this.indicesLength > 0 ? this.indicesLength : this.verticesLength / this.elementsPerVertex);\r\n    }\r\n    drawWithOffset(shader, primitiveType, offset, count) {\r\n        let gl = this.context;\r\n        if (this.dirtyVertices || this.dirtyIndices)\r\n            this.update();\r\n        this.bind(shader);\r\n        if (this.indicesLength > 0) {\r\n            gl.drawElements(primitiveType, count, gl.UNSIGNED_SHORT, offset * 2);\r\n        }\r\n        else {\r\n            gl.drawArrays(primitiveType, offset, count);\r\n        }\r\n        this.unbind(shader);\r\n    }\r\n    bind(shader) {\r\n        let gl = this.context;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.verticesBuffer);\r\n        let offset = 0;\r\n        for (let i = 0; i < this.attributes.length; i++) {\r\n            let attrib = this.attributes[i];\r\n            let location = shader.getAttributeLocation(attrib.name);\r\n            gl.enableVertexAttribArray(location);\r\n            gl.vertexAttribPointer(location, attrib.numElements, gl.FLOAT, false, this.elementsPerVertex * 4, offset * 4);\r\n            offset += attrib.numElements;\r\n        }\r\n        if (this.indicesLength > 0)\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\r\n    }\r\n    unbind(shader) {\r\n        let gl = this.context;\r\n        for (let i = 0; i < this.attributes.length; i++) {\r\n            let attrib = this.attributes[i];\r\n            let location = shader.getAttributeLocation(attrib.name);\r\n            gl.disableVertexAttribArray(location);\r\n        }\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        if (this.indicesLength > 0)\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n    }\r\n    update() {\r\n        let gl = this.context;\r\n        if (this.dirtyVertices) {\r\n            if (!this.verticesBuffer) {\r\n                this.verticesBuffer = gl.createBuffer();\r\n            }\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.verticesBuffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, this.vertices.subarray(0, this.verticesLength), gl.DYNAMIC_DRAW);\r\n            this.dirtyVertices = false;\r\n        }\r\n        if (this.dirtyIndices) {\r\n            if (!this.indicesBuffer) {\r\n                this.indicesBuffer = gl.createBuffer();\r\n            }\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices.subarray(0, this.indicesLength), gl.DYNAMIC_DRAW);\r\n            this.dirtyIndices = false;\r\n        }\r\n    }\r\n    restore() {\r\n        this.verticesBuffer = null;\r\n        this.indicesBuffer = null;\r\n        this.update();\r\n    }\r\n    dispose() {\r\n        let gl = this.context;\r\n        gl.deleteBuffer(this.verticesBuffer);\r\n        gl.deleteBuffer(this.indicesBuffer);\r\n    }\r\n}\r\nexports.Mesh = Mesh;\r\nvar VertexAttributeType;\r\n(function (VertexAttributeType) {\r\n    VertexAttributeType[VertexAttributeType[\"Float\"] = 0] = \"Float\";\r\n})(VertexAttributeType = exports.VertexAttributeType || (exports.VertexAttributeType = {}));\r\nclass VertexAttribute {\r\n    constructor(name, type, numElements) {\r\n        this.name = name;\r\n        this.type = type;\r\n        this.numElements = numElements;\r\n    }\r\n}\r\nexports.VertexAttribute = VertexAttribute;\r\nclass Position2Attribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.POSITION, VertexAttributeType.Float, 2);\r\n    }\r\n}\r\nexports.Position2Attribute = Position2Attribute;\r\nclass Position3Attribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.POSITION, VertexAttributeType.Float, 3);\r\n    }\r\n}\r\nexports.Position3Attribute = Position3Attribute;\r\nclass TexCoordAttribute extends VertexAttribute {\r\n    constructor(unit = 0) {\r\n        super(Shader_1.Shader.TEXCOORDS + (unit === 0 ? '' : unit), VertexAttributeType.Float, 2);\r\n    }\r\n}\r\nexports.TexCoordAttribute = TexCoordAttribute;\r\nclass ColorAttribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.COLOR, VertexAttributeType.Float, 4);\r\n    }\r\n}\r\nexports.ColorAttribute = ColorAttribute;\r\nclass Color2Attribute extends VertexAttribute {\r\n    constructor() {\r\n        super(Shader_1.Shader.COLOR2, VertexAttributeType.Float, 4);\r\n    }\r\n}\r\nexports.Color2Attribute = Color2Attribute;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NumberUtil = void 0;\r\nconst int8 = new Int8Array(4);\r\nconst int32 = new Int32Array(int8.buffer, 0, 1);\r\nconst float32 = new Float32Array(int8.buffer, 0, 1);\r\nclass NumberUtil {\r\n    static intBitsToFloat(i) {\r\n        int32[0] = i;\r\n        return float32[0];\r\n    }\r\n    static floatToIntBits(f) {\r\n        float32[0] = f;\r\n        return int32[0];\r\n    }\r\n    static intToFloatColor(value) {\r\n        return NumberUtil.intBitsToFloat(value & 0xfeffffff);\r\n    }\r\n    static colorToFloat(r, g, b, a) {\r\n        const bits = (r << 24) | (g << 16) | (b << 8) | a;\r\n        return NumberUtil.intToFloatColor(bits);\r\n    }\r\n    static isPowerOfTwo(n) {\r\n        return (n & (n - 1)) === 0;\r\n    }\r\n    static nextPowerOfTwo(n) {\r\n        n--;\r\n        n |= n >> 1;\r\n        n |= n >> 2;\r\n        n |= n >> 4;\r\n        n |= n >> 8;\r\n        n |= n >> 16;\r\n        return n + 1;\r\n    }\r\n}\r\nexports.NumberUtil = NumberUtil;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PolygonBatch = void 0;\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Mesh_1 = require(\"./Mesh\");\r\nconst Shader_1 = require(\"./Shader\");\r\n// prettier-ignore\r\nconst quad = [\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n    0, 0, 1, 1, 1, 1, 0, 0,\r\n];\r\nconst WHITE = new Utils_1.Color(1, 1, 1, 1);\r\nclass PolygonBatch {\r\n    constructor(context, twoColorTint = true, maxVertices = 10920) {\r\n        this.isDrawing = false;\r\n        this.shader = null;\r\n        this.lastTexture = null;\r\n        this.verticesLength = 0;\r\n        this.indicesLength = 0;\r\n        this.projectionValues = new Float32Array(16);\r\n        this.color = WHITE;\r\n        this.twoColorTint = true;\r\n        this.yDown = false;\r\n        if (maxVertices > 10920)\r\n            throw new Error(\"Can't have more than 10920 triangles per batch: \" + maxVertices);\r\n        this.context = context;\r\n        let attributes = twoColorTint\r\n            ? [new Mesh_1.Position2Attribute(), new Mesh_1.ColorAttribute(), new Mesh_1.TexCoordAttribute(), new Mesh_1.Color2Attribute()]\r\n            : [new Mesh_1.Position2Attribute(), new Mesh_1.ColorAttribute(), new Mesh_1.TexCoordAttribute()];\r\n        this.mesh = new Mesh_1.Mesh(context, attributes, maxVertices, maxVertices * 3);\r\n        this.shader = Shader_1.Shader.newTwoColoredTextured(context);\r\n        let gl = this.context;\r\n        this.srcColorBlend = gl.SRC_ALPHA;\r\n        this.srcAlphaBlend = gl.ONE;\r\n        this.dstBlend = gl.ONE_MINUS_SRC_ALPHA;\r\n        this.twoColorTint = twoColorTint;\r\n    }\r\n    setColor(color) {\r\n        this.color = color;\r\n    }\r\n    setShader(shader) {\r\n        this.shader.dispose();\r\n        this.shader = shader;\r\n    }\r\n    setProjection(projectionValues) {\r\n        this.projectionValues = projectionValues;\r\n    }\r\n    begin() {\r\n        if (this.isDrawing)\r\n            throw new Error('PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()');\r\n        this.drawCalls = 0;\r\n        const shader = this.shader;\r\n        this.lastTexture = null;\r\n        this.isDrawing = true;\r\n        shader.bind();\r\n        shader.setUniform4x4f(Shader_1.Shader.MVP_MATRIX, this.projectionValues);\r\n        shader.setUniformi('u_texture', 0);\r\n        let gl = this.context;\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFuncSeparate(this.srcColorBlend, this.dstBlend, this.srcAlphaBlend, this.dstBlend);\r\n    }\r\n    setBlendMode(srcColorBlend, srcAlphaBlend, dstBlend) {\r\n        if (this.srcColorBlend === srcColorBlend && this.srcAlphaBlend === srcAlphaBlend && this.dstBlend === dstBlend)\r\n            return;\r\n        this.srcColorBlend = srcColorBlend;\r\n        this.srcAlphaBlend = srcAlphaBlend;\r\n        this.dstBlend = dstBlend;\r\n        if (this.isDrawing) {\r\n            this.flush();\r\n            let gl = this.context;\r\n            gl.blendFuncSeparate(srcColorBlend, dstBlend, srcAlphaBlend, dstBlend);\r\n        }\r\n    }\r\n    drawVerticesWithOffset(texture, vertices, offset, count) {\r\n        const newVertices = [];\r\n        for (let i = 0; i < count; i++) {\r\n            newVertices[i] = vertices[i + offset];\r\n        }\r\n        this.drawVertices(texture, newVertices, PolygonBatch.QUAD_TRIANGLES);\r\n    }\r\n    drawVertices(texture, vertices, indices = PolygonBatch.QUAD_TRIANGLES) {\r\n        if (texture !== this.lastTexture) {\r\n            this.flush();\r\n            this.lastTexture = texture;\r\n        }\r\n        else if (this.verticesLength + vertices.length > this.mesh.getVertices().length ||\r\n            this.indicesLength + indices.length > this.mesh.getIndices().length) {\r\n            this.flush();\r\n        }\r\n        let indexStart = this.mesh.numVertices();\r\n        this.mesh.getVertices().set(vertices, this.verticesLength);\r\n        this.verticesLength += vertices.length;\r\n        this.mesh.setVerticesLength(this.verticesLength);\r\n        let indicesArray = this.mesh.getIndices();\r\n        for (let i = this.indicesLength, j = 0; j < indices.length; i++, j++)\r\n            indicesArray[i] = indices[j] + indexStart;\r\n        this.indicesLength += indices.length;\r\n        this.mesh.setIndicesLength(this.indicesLength);\r\n    }\r\n    flush() {\r\n        if (this.verticesLength === 0)\r\n            return;\r\n        this.lastTexture.bind();\r\n        this.mesh.draw(this.shader, this.context.TRIANGLES);\r\n        this.verticesLength = 0;\r\n        this.indicesLength = 0;\r\n        this.mesh.setVerticesLength(0);\r\n        this.mesh.setIndicesLength(0);\r\n        this.drawCalls++;\r\n    }\r\n    end() {\r\n        if (!this.isDrawing)\r\n            throw new Error('PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()');\r\n        if (this.verticesLength > 0 || this.indicesLength > 0)\r\n            this.flush();\r\n        this.shader.unbind();\r\n        this.lastTexture = null;\r\n        this.isDrawing = false;\r\n        PolygonBatch.totalDrawCalls += this.drawCalls;\r\n        let gl = this.context;\r\n        gl.disable(gl.BLEND);\r\n    }\r\n    static resetTotalDrawCalls() {\r\n        PolygonBatch.totalDrawCalls = 0;\r\n    }\r\n    getDrawCalls() {\r\n        return this.drawCalls;\r\n    }\r\n    dispose() {\r\n        this.mesh.dispose();\r\n    }\r\n    setYDown(yDown) {\r\n        this.yDown = yDown;\r\n    }\r\n    draw(texture, x, y, width, height, originX = 0, originY = 0, rotation = 0, scaleX = 1, scaleY = 1, ou1 = 0, ov1 = 1, ou2 = 1, ov2 = 0, rotate = false) {\r\n        const color = this.color;\r\n        if (this.yDown) {\r\n            const tmpV1 = ov1;\r\n            ov1 = ov2;\r\n            ov2 = tmpV1;\r\n        }\r\n        width = width === 0 ? width : width || texture.width;\r\n        height = height === 0 ? height : height || texture.height;\r\n        x = x || 0;\r\n        y = y || 0;\r\n        let x1 = -originX;\r\n        let x2 = width - originX;\r\n        let x3 = width - originX;\r\n        let x4 = -originX;\r\n        let y1 = -originY;\r\n        let y2 = -originY;\r\n        let y3 = height - originY;\r\n        let y4 = height - originY;\r\n        if (scaleX !== 1) {\r\n            x1 = x1 * scaleX;\r\n            x2 = x2 * scaleX;\r\n            x3 = x3 * scaleX;\r\n            x4 = x4 * scaleX;\r\n        }\r\n        if (scaleY !== 1) {\r\n            y1 = y1 * scaleY;\r\n            y2 = y2 * scaleY;\r\n            y3 = y3 * scaleY;\r\n            y4 = y4 * scaleY;\r\n        }\r\n        if (rotation !== 0) {\r\n            var cos = Math.cos(rotation);\r\n            var sin = Math.sin(rotation);\r\n            var rotatedX1 = cos * x1 - sin * y1;\r\n            var rotatedY1 = sin * x1 + cos * y1;\r\n            var rotatedX2 = cos * x2 - sin * y2;\r\n            var rotatedY2 = sin * x2 + cos * y2;\r\n            var rotatedX3 = cos * x3 - sin * y3;\r\n            var rotatedY3 = sin * x3 + cos * y3;\r\n            var rotatedX4 = cos * x4 - sin * y4;\r\n            var rotatedY4 = sin * x4 + cos * y4;\r\n            x1 = rotatedX1;\r\n            x2 = rotatedX2;\r\n            x3 = rotatedX3;\r\n            x4 = rotatedX4;\r\n            y1 = rotatedY1;\r\n            y2 = rotatedY2;\r\n            y3 = rotatedY3;\r\n            y4 = rotatedY4;\r\n        }\r\n        x1 += x + originX;\r\n        x2 += x + originX;\r\n        x3 += x + originX;\r\n        x4 += x + originX;\r\n        y1 += y + originY;\r\n        y2 += y + originY;\r\n        y3 += y + originY;\r\n        y4 += y + originY;\r\n        let u1 = ou1;\r\n        let v1 = ov1;\r\n        let u2 = ou2;\r\n        let v2 = ov2;\r\n        let u3 = u2;\r\n        let v3 = v1;\r\n        let u4 = u1;\r\n        let v4 = v2;\r\n        if (rotate) {\r\n            if (this.yDown) {\r\n                u1 = ou1;\r\n                v1 = ov2;\r\n                u2 = ou2;\r\n                v2 = ov1;\r\n                u3 = ou1;\r\n                v3 = ov1;\r\n                u4 = ou2;\r\n                v4 = ov2;\r\n            }\r\n            else {\r\n                u1 = ou2;\r\n                v1 = ov1;\r\n                u2 = ou1;\r\n                v2 = ov2;\r\n                u3 = ou2;\r\n                v3 = ov2;\r\n                u4 = ou1;\r\n                v4 = ov1;\r\n            }\r\n        }\r\n        var i = 0;\r\n        quad[i++] = x1;\r\n        quad[i++] = y1;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u1;\r\n        quad[i++] = v1;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n        }\r\n        quad[i++] = x2;\r\n        quad[i++] = y2;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u3;\r\n        quad[i++] = v3;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n        }\r\n        quad[i++] = x3;\r\n        quad[i++] = y3;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u2;\r\n        quad[i++] = v2;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n        }\r\n        quad[i++] = x4;\r\n        quad[i++] = y4;\r\n        quad[i++] = color.r;\r\n        quad[i++] = color.g;\r\n        quad[i++] = color.b;\r\n        quad[i++] = color.a;\r\n        quad[i++] = u4;\r\n        quad[i++] = v4;\r\n        if (this.twoColorTint) {\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i++] = 0;\r\n            quad[i] = 0;\r\n        }\r\n        this.drawVertices(texture, quad, PolygonBatch.QUAD_TRIANGLES);\r\n    }\r\n}\r\nexports.PolygonBatch = PolygonBatch;\r\nPolygonBatch.QUAD_TRIANGLES = [0, 1, 2, 2, 3, 0];\r\nPolygonBatch.totalDrawCalls = 0;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Shader = void 0;\r\nclass Shader {\r\n    constructor(context, vertexShader, fragmentShader) {\r\n        this.vertexShader = vertexShader;\r\n        this.fragmentShader = fragmentShader;\r\n        this.vs = null;\r\n        this.fs = null;\r\n        this.program = null;\r\n        this.tmp2x2 = new Float32Array(2 * 2);\r\n        this.tmp3x3 = new Float32Array(3 * 3);\r\n        this.tmp4x4 = new Float32Array(4 * 4);\r\n        this.vsSource = vertexShader;\r\n        this.fsSource = fragmentShader;\r\n        this.context = context;\r\n        this.compile();\r\n    }\r\n    getProgram() {\r\n        return this.program;\r\n    }\r\n    getVertexShader() {\r\n        return this.vertexShader;\r\n    }\r\n    getFragmentShader() {\r\n        return this.fragmentShader;\r\n    }\r\n    getVertexShaderSource() {\r\n        return this.vsSource;\r\n    }\r\n    getFragmentSource() {\r\n        return this.fsSource;\r\n    }\r\n    compile() {\r\n        let gl = this.context;\r\n        try {\r\n            this.vs = this.compileShader(gl.VERTEX_SHADER, this.vertexShader);\r\n            this.fs = this.compileShader(gl.FRAGMENT_SHADER, this.fragmentShader);\r\n            this.program = this.compileProgram(this.vs, this.fs);\r\n        }\r\n        catch (e) {\r\n            this.dispose();\r\n            throw e;\r\n        }\r\n    }\r\n    compileShader(type, source) {\r\n        let gl = this.context;\r\n        let shader = gl.createShader(type);\r\n        gl.shaderSource(shader, source);\r\n        gl.compileShader(shader);\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n            let error = \"Couldn't compile shader: \" + gl.getShaderInfoLog(shader);\r\n            gl.deleteShader(shader);\r\n            if (!gl.isContextLost())\r\n                throw new Error(error);\r\n        }\r\n        return shader;\r\n    }\r\n    compileProgram(vs, fs) {\r\n        let gl = this.context;\r\n        let program = gl.createProgram();\r\n        gl.attachShader(program, vs);\r\n        gl.attachShader(program, fs);\r\n        gl.linkProgram(program);\r\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n            let error = \"Couldn't compile shader program: \" + gl.getProgramInfoLog(program);\r\n            gl.deleteProgram(program);\r\n            if (!gl.isContextLost())\r\n                throw new Error(error);\r\n        }\r\n        return program;\r\n    }\r\n    restore() {\r\n        this.compile();\r\n    }\r\n    bind() {\r\n        this.context.useProgram(this.program);\r\n    }\r\n    unbind() {\r\n        this.context.useProgram(null);\r\n    }\r\n    setUniformi(uniform, value) {\r\n        this.context.uniform1i(this.getUniformLocation(uniform), value);\r\n    }\r\n    setUniformf(uniform, value) {\r\n        this.context.uniform1f(this.getUniformLocation(uniform), value);\r\n    }\r\n    setUniform2f(uniform, value, value2) {\r\n        this.context.uniform2f(this.getUniformLocation(uniform), value, value2);\r\n    }\r\n    setUniform3f(uniform, value, value2, value3) {\r\n        this.context.uniform3f(this.getUniformLocation(uniform), value, value2, value3);\r\n    }\r\n    setUniform4f(uniform, value, value2, value3, value4) {\r\n        this.context.uniform4f(this.getUniformLocation(uniform), value, value2, value3, value4);\r\n    }\r\n    setUniform2x2f(uniform, value) {\r\n        let gl = this.context;\r\n        this.tmp2x2.set(value);\r\n        gl.uniformMatrix2fv(this.getUniformLocation(uniform), false, this.tmp2x2);\r\n    }\r\n    setUniform3x3f(uniform, value) {\r\n        let gl = this.context;\r\n        this.tmp3x3.set(value);\r\n        gl.uniformMatrix3fv(this.getUniformLocation(uniform), false, this.tmp3x3);\r\n    }\r\n    setUniform4x4f(uniform, value) {\r\n        let gl = this.context;\r\n        this.tmp4x4.set(value);\r\n        gl.uniformMatrix4fv(this.getUniformLocation(uniform), false, this.tmp4x4);\r\n    }\r\n    getUniformLocation(uniform) {\r\n        let gl = this.context;\r\n        let location = gl.getUniformLocation(this.program, uniform);\r\n        if (!location && !gl.isContextLost())\r\n            throw new Error(`Couldn't find location for uniform ${uniform}`);\r\n        return location;\r\n    }\r\n    getAttributeLocation(attribute) {\r\n        let gl = this.context;\r\n        let location = gl.getAttribLocation(this.program, attribute);\r\n        if (location === -1 && !gl.isContextLost())\r\n            throw new Error(`Couldn't find location for attribute ${attribute}`);\r\n        return location;\r\n    }\r\n    dispose() {\r\n        let gl = this.context;\r\n        if (this.vs) {\r\n            gl.deleteShader(this.vs);\r\n            this.vs = null;\r\n        }\r\n        if (this.fs) {\r\n            gl.deleteShader(this.fs);\r\n            this.fs = null;\r\n        }\r\n        if (this.program) {\r\n            gl.deleteProgram(this.program);\r\n            this.program = null;\r\n        }\r\n    }\r\n    static newColoredTextured(context) {\r\n        let vs = `\r\n         attribute vec4 ${Shader.POSITION};\r\n         attribute vec4 ${Shader.COLOR};\r\n         attribute vec2 ${Shader.TEXCOORDS};\r\n         uniform mat4 ${Shader.MVP_MATRIX};\r\n         varying vec4 v_color;\r\n         varying vec2 v_texCoords;\r\n \r\n         void main () {\r\n           v_color = ${Shader.COLOR};\r\n           v_texCoords = ${Shader.TEXCOORDS};\r\n           gl_Position = ${Shader.MVP_MATRIX} * ${Shader.POSITION};\r\n         }\r\n       `;\r\n        let fs = `\r\n         #ifdef GL_ES\r\n           #define LOWP lowp\r\n           precision mediump float;\r\n         #else\r\n           #define LOWP\r\n         #endif\r\n         varying LOWP vec4 v_color;\r\n         varying vec2 v_texCoords;\r\n         uniform sampler2D u_texture;\r\n \r\n         void main () {\r\n           gl_FragColor = v_color * texture2D(u_texture, v_texCoords);\r\n         }\r\n       `;\r\n        return new Shader(context, vs, fs);\r\n    }\r\n    static newTwoColoredTextured(context) {\r\n        let vs = `\r\n         attribute vec4 ${Shader.POSITION};\r\n         attribute vec4 ${Shader.COLOR};\r\n         attribute vec4 ${Shader.COLOR2};\r\n         attribute vec2 ${Shader.TEXCOORDS};\r\n         uniform mat4 ${Shader.MVP_MATRIX};\r\n         varying vec4 v_light;\r\n         varying vec4 v_dark;\r\n         varying vec2 v_texCoords;\r\n \r\n         void main () {\r\n           v_light = ${Shader.COLOR};\r\n           v_dark = ${Shader.COLOR2};\r\n           v_texCoords = ${Shader.TEXCOORDS};\r\n           gl_Position = ${Shader.MVP_MATRIX} * ${Shader.POSITION};\r\n         }\r\n       `;\r\n        let fs = `\r\n         #ifdef GL_ES\r\n           #define LOWP lowp\r\n           precision mediump float;\r\n         #else\r\n           #define LOWP\r\n         #endif\r\n         varying LOWP vec4 v_light;\r\n         varying LOWP vec4 v_dark;\r\n         varying vec2 v_texCoords;\r\n         uniform sampler2D u_texture;\r\n \r\n         void main () {\r\n           vec4 texColor = texture2D(u_texture, v_texCoords);\r\n           gl_FragColor.a = texColor.a * v_light.a;\r\n           gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\r\n         }\r\n       `;\r\n        return new Shader(context, vs, fs);\r\n    }\r\n    static newColored(context) {\r\n        let vs = `\r\n         attribute vec4 ${Shader.POSITION};\r\n         attribute vec4 ${Shader.COLOR};\r\n         uniform mat4 ${Shader.MVP_MATRIX};\r\n         varying vec4 v_color;\r\n \r\n         void main () {\r\n           v_color = ${Shader.COLOR};\r\n           gl_Position = ${Shader.MVP_MATRIX} * ${Shader.POSITION};\r\n         }\r\n       `;\r\n        let fs = `\r\n         #ifdef GL_ES\r\n           #define LOWP lowp\r\n           precision mediump float;\r\n         #else\r\n           #define LOWP\r\n         #endif\r\n         varying LOWP vec4 v_color;\r\n \r\n         void main () {\r\n           gl_FragColor = v_color;\r\n         }\r\n       `;\r\n        return new Shader(context, vs, fs);\r\n    }\r\n}\r\nexports.Shader = Shader;\r\nShader.MVP_MATRIX = 'u_projTrans';\r\nShader.POSITION = 'a_position';\r\nShader.COLOR = 'a_color';\r\nShader.COLOR2 = 'a_color2';\r\nShader.TEXCOORDS = 'a_texCoords';\r\nShader.SAMPLER = 'u_texture';\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ShapeRenderer = exports.ShapeType = void 0;\r\nconst Mesh_1 = require(\"./Mesh\");\r\nconst Shader_1 = require(\"./Shader\");\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\nvar ShapeType;\r\n(function (ShapeType) {\r\n    ShapeType[ShapeType[\"Point\"] = 0] = \"Point\";\r\n    ShapeType[ShapeType[\"Line\"] = 1] = \"Line\";\r\n    ShapeType[ShapeType[\"Filled\"] = 4] = \"Filled\";\r\n})(ShapeType = exports.ShapeType || (exports.ShapeType = {}));\r\nclass ShapeRenderer {\r\n    constructor(context, maxVertices = 10920) {\r\n        this.isDrawing = false;\r\n        this.shapeType = ShapeType.Filled;\r\n        this.color = new Utils_1.Color(1, 1, 1, 1);\r\n        this.vertexIndex = 0;\r\n        this.tmp = new Vector2_1.Vector2();\r\n        this.projectionValues = new Float32Array(16);\r\n        if (maxVertices > 10920)\r\n            throw new Error(\"Can't have more than 10920 triangles per batch: \" + maxVertices);\r\n        this.context = context;\r\n        this.mesh = new Mesh_1.Mesh(context, [new Mesh_1.Position2Attribute(), new Mesh_1.ColorAttribute()], maxVertices, 0);\r\n        let gl = this.context;\r\n        this.srcColorBlend = gl.SRC_ALPHA;\r\n        this.srcAlphaBlend = gl.ONE;\r\n        this.dstBlend = gl.ONE_MINUS_SRC_ALPHA;\r\n        this.shader = Shader_1.Shader.newColored(gl);\r\n    }\r\n    setProjection(projectionValues) {\r\n        this.projectionValues = projectionValues;\r\n    }\r\n    begin() {\r\n        if (this.isDrawing)\r\n            throw new Error('ShapeRenderer.begin() has already been called');\r\n        this.vertexIndex = 0;\r\n        this.isDrawing = true;\r\n        this.shader.bind();\r\n        this.shader.setUniform4x4f(Shader_1.Shader.MVP_MATRIX, this.projectionValues);\r\n        let gl = this.context;\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFuncSeparate(this.srcColorBlend, this.dstBlend, this.srcAlphaBlend, this.dstBlend);\r\n    }\r\n    setBlendMode(srcColorBlend, srcAlphaBlend, dstBlend) {\r\n        this.srcColorBlend = srcColorBlend;\r\n        this.srcAlphaBlend = srcAlphaBlend;\r\n        this.dstBlend = dstBlend;\r\n        if (this.isDrawing) {\r\n            this.flush();\r\n            let gl = this.context;\r\n            gl.blendFuncSeparate(srcColorBlend, dstBlend, srcAlphaBlend, dstBlend);\r\n        }\r\n    }\r\n    setColor(color) {\r\n        this.color.setFromColor(color);\r\n    }\r\n    setColorWith(r, g, b, a) {\r\n        this.color.set(r, g, b, a);\r\n    }\r\n    point(x, y, color = null) {\r\n        this.check(ShapeType.Point, 1);\r\n        if (color === null)\r\n            color = this.color;\r\n        this.vertex(x, y, color);\r\n    }\r\n    line(x, y, x2, y2, color = null) {\r\n        this.check(ShapeType.Line, 2);\r\n        if (color === null)\r\n            color = this.color;\r\n        this.vertex(x, y, color);\r\n        this.vertex(x2, y2, color);\r\n    }\r\n    triangle(filled, x, y, x2, y2, x3, y3, color = null, color2 = null, color3 = null) {\r\n        this.check(filled ? ShapeType.Filled : ShapeType.Line, 3);\r\n        if (color === null)\r\n            color = this.color;\r\n        if (color2 === null)\r\n            color2 = this.color;\r\n        if (color3 === null)\r\n            color3 = this.color;\r\n        if (filled) {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x3, y3, color3);\r\n        }\r\n        else {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x2, y2, color);\r\n            this.vertex(x3, y3, color2);\r\n            this.vertex(x3, y3, color);\r\n            this.vertex(x, y, color2);\r\n        }\r\n    }\r\n    quad(filled, x, y, x2, y2, x3, y3, x4, y4, color = null, color2 = null, color3 = null, color4 = null) {\r\n        this.check(filled ? ShapeType.Filled : ShapeType.Line, 3);\r\n        if (color === null)\r\n            color = this.color;\r\n        if (color2 === null)\r\n            color2 = this.color;\r\n        if (color3 === null)\r\n            color3 = this.color;\r\n        if (color4 === null)\r\n            color4 = this.color;\r\n        if (filled) {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x4, y4, color4);\r\n            this.vertex(x, y, color);\r\n        }\r\n        else {\r\n            this.vertex(x, y, color);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x2, y2, color2);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x3, y3, color3);\r\n            this.vertex(x4, y4, color4);\r\n            this.vertex(x4, y4, color4);\r\n            this.vertex(x, y, color);\r\n        }\r\n    }\r\n    rect(filled, x, y, width, height, color = null) {\r\n        this.quad(filled, x, y, x + width, y, x + width, y + height, x, y + height, color, color, color, color);\r\n    }\r\n    rectLine(filled, x1, y1, x2, y2, width, color = null) {\r\n        this.check(filled ? ShapeType.Filled : ShapeType.Line, 8);\r\n        if (color === null)\r\n            color = this.color;\r\n        let t = this.tmp.set(y2 - y1, x1 - x2);\r\n        t.nor();\r\n        width *= 0.5;\r\n        let tx = t.x * width;\r\n        let ty = t.y * width;\r\n        if (!filled) {\r\n            this.vertex(x1 + tx, y1 + ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x2 - tx, y2 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x1 + tx, y1 + ty, color);\r\n            this.vertex(x2 - tx, y2 - ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n        }\r\n        else {\r\n            this.vertex(x1 + tx, y1 + ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x2 - tx, y2 - ty, color);\r\n            this.vertex(x2 + tx, y2 + ty, color);\r\n            this.vertex(x1 - tx, y1 - ty, color);\r\n        }\r\n    }\r\n    x(x, y, size) {\r\n        this.line(x - size, y - size, x + size, y + size);\r\n        this.line(x - size, y + size, x + size, y - size);\r\n    }\r\n    polygon(polygonVertices, offset, count, color = null) {\r\n        if (count < 3)\r\n            throw new Error('Polygon must contain at least 3 vertices');\r\n        this.check(ShapeType.Line, count * 2);\r\n        if (color === null)\r\n            color = this.color;\r\n        offset <<= 1;\r\n        count <<= 1;\r\n        let firstX = polygonVertices[offset];\r\n        let firstY = polygonVertices[offset + 1];\r\n        let last = offset + count;\r\n        for (let i = offset, n = offset + count - 2; i < n; i += 2) {\r\n            let x1 = polygonVertices[i];\r\n            let y1 = polygonVertices[i + 1];\r\n            let x2 = 0;\r\n            let y2 = 0;\r\n            if (i + 2 >= last) {\r\n                x2 = firstX;\r\n                y2 = firstY;\r\n            }\r\n            else {\r\n                x2 = polygonVertices[i + 2];\r\n                y2 = polygonVertices[i + 3];\r\n            }\r\n            this.vertex(x1, y1, color);\r\n            this.vertex(x2, y2, color);\r\n        }\r\n    }\r\n    circle(filled, x, y, radius, color = null, segments = 0) {\r\n        if (segments === 0)\r\n            segments = Math.max(1, (6 * Utils_1.MathUtils.cbrt(radius)) | 0);\r\n        if (segments <= 0)\r\n            throw new Error('segments must be > 0.');\r\n        if (color === null)\r\n            color = this.color;\r\n        let angle = (2 * Utils_1.MathUtils.PI) / segments;\r\n        let cos = Math.cos(angle);\r\n        let sin = Math.sin(angle);\r\n        let cx = radius, cy = 0;\r\n        if (!filled) {\r\n            this.check(ShapeType.Line, segments * 2 + 2);\r\n            for (let i = 0; i < segments; i++) {\r\n                this.vertex(x + cx, y + cy, color);\r\n                let temp = cx;\r\n                cx = cos * cx - sin * cy;\r\n                cy = sin * temp + cos * cy;\r\n                this.vertex(x + cx, y + cy, color);\r\n            }\r\n            // Ensure the last segment is identical to the first.\r\n            this.vertex(x + cx, y + cy, color);\r\n        }\r\n        else {\r\n            this.check(ShapeType.Filled, segments * 3 + 3);\r\n            segments--;\r\n            for (let i = 0; i < segments; i++) {\r\n                this.vertex(x, y, color);\r\n                this.vertex(x + cx, y + cy, color);\r\n                let temp = cx;\r\n                cx = cos * cx - sin * cy;\r\n                cy = sin * temp + cos * cy;\r\n                this.vertex(x + cx, y + cy, color);\r\n            }\r\n            // Ensure the last segment is identical to the first.\r\n            this.vertex(x, y, color);\r\n            this.vertex(x + cx, y + cy, color);\r\n        }\r\n        cx = radius;\r\n        cy = 0;\r\n        this.vertex(x + cx, y + cy, color);\r\n    }\r\n    curve(x1, y1, cx1, cy1, cx2, cy2, x2, y2, segments, color = null) {\r\n        this.check(ShapeType.Line, segments * 2 + 2);\r\n        if (color === null)\r\n            color = this.color;\r\n        // Algorithm from: http://www.antigrain.com/research/bezier_interpolation/index.html#PAGE_BEZIER_INTERPOLATION\r\n        let subdiv_step = 1 / segments;\r\n        let subdiv_step2 = subdiv_step * subdiv_step;\r\n        let subdiv_step3 = subdiv_step * subdiv_step * subdiv_step;\r\n        let pre1 = 3 * subdiv_step;\r\n        let pre2 = 3 * subdiv_step2;\r\n        let pre4 = 6 * subdiv_step2;\r\n        let pre5 = 6 * subdiv_step3;\r\n        let tmp1x = x1 - cx1 * 2 + cx2;\r\n        let tmp1y = y1 - cy1 * 2 + cy2;\r\n        let tmp2x = (cx1 - cx2) * 3 - x1 + x2;\r\n        let tmp2y = (cy1 - cy2) * 3 - y1 + y2;\r\n        let fx = x1;\r\n        let fy = y1;\r\n        let dfx = (cx1 - x1) * pre1 + tmp1x * pre2 + tmp2x * subdiv_step3;\r\n        let dfy = (cy1 - y1) * pre1 + tmp1y * pre2 + tmp2y * subdiv_step3;\r\n        let ddfx = tmp1x * pre4 + tmp2x * pre5;\r\n        let ddfy = tmp1y * pre4 + tmp2y * pre5;\r\n        let dddfx = tmp2x * pre5;\r\n        let dddfy = tmp2y * pre5;\r\n        while (segments-- > 0) {\r\n            this.vertex(fx, fy, color);\r\n            fx += dfx;\r\n            fy += dfy;\r\n            dfx += ddfx;\r\n            dfy += ddfy;\r\n            ddfx += dddfx;\r\n            ddfy += dddfy;\r\n            this.vertex(fx, fy, color);\r\n        }\r\n        this.vertex(fx, fy, color);\r\n        this.vertex(x2, y2, color);\r\n    }\r\n    vertex(x, y, color) {\r\n        let idx = this.vertexIndex;\r\n        let vertices = this.mesh.getVertices();\r\n        vertices[idx++] = x;\r\n        vertices[idx++] = y;\r\n        vertices[idx++] = color.r;\r\n        vertices[idx++] = color.g;\r\n        vertices[idx++] = color.b;\r\n        vertices[idx++] = color.a;\r\n        this.vertexIndex = idx;\r\n    }\r\n    end() {\r\n        if (!this.isDrawing)\r\n            throw new Error('ShapeRenderer.begin() has not been called');\r\n        this.flush();\r\n        let gl = this.context;\r\n        gl.disable(gl.BLEND);\r\n        this.isDrawing = false;\r\n    }\r\n    flush() {\r\n        if (this.vertexIndex === 0)\r\n            return;\r\n        this.mesh.setVerticesLength(this.vertexIndex);\r\n        this.mesh.draw(this.shader, this.shapeType);\r\n        this.vertexIndex = 0;\r\n    }\r\n    check(shapeType, numVertices) {\r\n        if (!this.isDrawing)\r\n            throw new Error('ShapeRenderer.begin() has not been called');\r\n        if (this.shapeType === shapeType) {\r\n            if (this.mesh.maxVertices() - this.mesh.numVertices() < numVertices)\r\n                this.flush();\r\n            else\r\n                return;\r\n        }\r\n        else {\r\n            this.flush();\r\n            this.shapeType = shapeType;\r\n        }\r\n    }\r\n    dispose() {\r\n        this.mesh.dispose();\r\n    }\r\n}\r\nexports.ShapeRenderer = ShapeRenderer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Sprite = void 0;\r\nconst Utils_1 = require(\"./Utils\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\n/* eslint-disable */\r\nconst X1 = 0;\r\nconst Y1 = 1;\r\nconst C1R = 2;\r\nconst C1G = 3;\r\nconst C1B = 4;\r\nconst C1A = 5;\r\nconst U1 = 6;\r\nconst V1 = 7;\r\nconst C1R2 = 8;\r\nconst C1G2 = 9;\r\nconst C1B2 = 10;\r\nconst C1A2 = 11;\r\nconst X2 = 12;\r\nconst Y2 = 13;\r\nconst C2R = 14;\r\nconst C2G = 15;\r\nconst C2B = 16;\r\nconst C2A = 17;\r\nconst U2 = 18;\r\nconst V2 = 19;\r\nconst C2R2 = 20;\r\nconst C2G2 = 21;\r\nconst C2B2 = 22;\r\nconst C2A2 = 23;\r\nconst X3 = 24;\r\nconst Y3 = 25;\r\nconst C3R = 26;\r\nconst C3G = 27;\r\nconst C3B = 28;\r\nconst C3A = 29;\r\nconst U3 = 30;\r\nconst V3 = 31;\r\nconst C3R2 = 32;\r\nconst C3G2 = 33;\r\nconst C3B2 = 34;\r\nconst C3A2 = 35;\r\nconst X4 = 36;\r\nconst Y4 = 37;\r\nconst C4R = 38;\r\nconst C4G = 39;\r\nconst C4B = 40;\r\nconst C4A = 41;\r\nconst U4 = 42;\r\nconst V4 = 43;\r\nconst C4R2 = 44;\r\nconst C4G2 = 45;\r\nconst C4B2 = 46;\r\nconst C4A2 = 47;\r\n/* eslint-enable */\r\n/**\r\n * An unoptimized version of Sprite. Always calculate all vertices, never update partially. Will improve later after refactoring the SpriteBatch.\r\n */\r\nclass Sprite {\r\n    constructor(region) {\r\n        this.region = region;\r\n        this.dirty = false;\r\n        this.position = new Vector2_1.Vector2(0, 0);\r\n        this.size = new Vector2_1.Vector2(0, 0);\r\n        this.origin = new Vector2_1.Vector2(0, 0);\r\n        this.scale = new Vector2_1.Vector2(1, 1);\r\n        this.color = new Utils_1.Color(1, 1, 1, 1);\r\n        this.rotation = 0;\r\n        this.vertices = new Float32Array(48);\r\n        this.bounds = {\r\n            x: 0,\r\n            y: 0,\r\n            width: 0,\r\n            height: 0\r\n        };\r\n        this.setSize(region.width, region.height);\r\n        this.setOrigin(region.width / 2, region.height / 2);\r\n    }\r\n    set(sprite) {\r\n        this.region = sprite.region;\r\n        this.position.setVector(sprite.position);\r\n        this.size.setVector(sprite.size);\r\n        this.origin.setVector(sprite.origin);\r\n        this.rotation = sprite.rotation;\r\n        this.scale.setVector(sprite.scale);\r\n        this.color.setFromColor(sprite.color);\r\n        this.dirty = true;\r\n    }\r\n    setBounds(x, y, width, height) {\r\n        this.setPosition(x, y);\r\n        this.setSize(x, y);\r\n        this.dirty = true;\r\n    }\r\n    setSize(width, height) {\r\n        this.size.set(width, height);\r\n        this.dirty = true;\r\n    }\r\n    setPosition(x, y) {\r\n        this.position.set(x, y);\r\n        this.dirty = true;\r\n    }\r\n    setOriginBasedPosition(x, y) {\r\n        this.setPosition(x - this.origin.x, y - this.origin.y);\r\n    }\r\n    setX(x) {\r\n        this.position.x = x;\r\n        this.dirty = true;\r\n    }\r\n    setY(y) {\r\n        this.position.y = y;\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the x position so that it is centered on the given x parameter */\r\n    setCenterX(x) {\r\n        this.setX(x - this.size.x / 2);\r\n    }\r\n    /** Sets the y position so that it is centered on the given y parameter */\r\n    setCenterY(y) {\r\n        this.setY(y - this.size.y / 2);\r\n    }\r\n    /** Sets the position so that the sprite is centered on (x, y) */\r\n    setCenter(x, y) {\r\n        this.setPosition(x - this.size.x / 2, y - this.size.y / 2);\r\n    }\r\n    /** Sets the x position relative to the current position where the sprite will be drawn. If origin, rotation, or scale are\r\n     * changed, it is slightly more efficient to translate after those operations. */\r\n    translateX(xAmount) {\r\n        this.translate(xAmount, 0);\r\n    }\r\n    /** Sets the y position relative to the current position where the sprite will be drawn. If origin, rotation, or scale are\r\n     * changed, it is slightly more efficient to translate after those operations. */\r\n    translateY(yAmount) {\r\n        this.translate(0, yAmount);\r\n    }\r\n    translate(xAmount, yAmount) {\r\n        this.position.add(xAmount, yAmount);\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the color used to tint this sprite. Default is {@link Color#WHITE}. */\r\n    setColor(tint) {\r\n        this.color.setFromColor(tint);\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the alpha portion of the color used to tint this sprite. */\r\n    setAlpha(a) {\r\n        this.color.a = a;\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the origin in relation to the sprite's position for scaling and rotation. */\r\n    setOrigin(originX, originY) {\r\n        this.origin.set(originX, originY);\r\n        this.dirty = true;\r\n    }\r\n    /** Place origin in the center of the sprite */\r\n    setOriginCenter() {\r\n        this.origin.set(this.size.x / 2, this.size.y / 2);\r\n        this.dirty = true;\r\n    }\r\n    setRotation(rad) {\r\n        this.rotation = rad;\r\n        this.dirty = true;\r\n    }\r\n    getRotation() {\r\n        return this.rotation;\r\n    }\r\n    rotate(rad) {\r\n        if (rad === 0)\r\n            return;\r\n        this.rotation += rad;\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the sprite's scale for both X and Y. The sprite scales out from the origin. This will not affect the values returned\r\n     * by {@link #getWidth()} and {@link #getHeight()} */\r\n    setScale(scaleX, scaleY) {\r\n        this.scale.set(scaleX, scaleY);\r\n        this.dirty = true;\r\n    }\r\n    /** Sets the sprite's scale relative to the current scale. for example: original scale 2 -> sprite.scale(4) -> final scale 6.\r\n     * The sprite scales out from the origin. This will not affect the values returned by {@link #getWidth()} and\r\n     * {@link #getHeight()} */\r\n    applyScale(amount) {\r\n        this.scale.scale(amount);\r\n        this.dirty = true;\r\n    }\r\n    /** Returns the packed vertices, colors, and texture coordinates for this sprite. */\r\n    getVertices(yDown = false) {\r\n        const { vertices, region } = this;\r\n        if (!this.dirty) {\r\n            return vertices;\r\n        }\r\n        let x = this.position.x;\r\n        let y = this.position.y;\r\n        let width = this.size.x;\r\n        let height = this.size.y;\r\n        let originX = this.origin.x;\r\n        let originY = this.origin.y;\r\n        let rotation = this.rotation;\r\n        let scaleX = this.scale.x;\r\n        let scaleY = this.scale.y;\r\n        let ou1 = region.u;\r\n        let ov1 = region.v;\r\n        let ou2 = region.u2;\r\n        let ov2 = region.v2;\r\n        const color = this.color;\r\n        let rotate = region.rotated;\r\n        const xRatio = width / region.originalWidth;\r\n        const yRatio = height / region.originalHeight;\r\n        const drawWidth = region.width * xRatio;\r\n        const drawHeight = region.height * yRatio;\r\n        const drawX = x + region.offsetX * xRatio;\r\n        let drawY = 0;\r\n        if (yDown) {\r\n            drawY = y + height - region.offsetY * yRatio - drawHeight;\r\n        }\r\n        else {\r\n            drawY = y + region.offsetY * yRatio;\r\n        }\r\n        x = drawX;\r\n        y = drawY;\r\n        width = drawWidth;\r\n        height = drawHeight;\r\n        if (yDown) {\r\n            const tmpV1 = ov1;\r\n            ov1 = ov2;\r\n            ov2 = tmpV1;\r\n        }\r\n        let x1 = -originX;\r\n        let x2 = width - originX;\r\n        let x3 = width - originX;\r\n        let x4 = -originX;\r\n        let y1 = -originY;\r\n        let y2 = -originY;\r\n        let y3 = height - originY;\r\n        let y4 = height - originY;\r\n        if (scaleX !== 1) {\r\n            x1 = x1 * scaleX;\r\n            x2 = x2 * scaleX;\r\n            x3 = x3 * scaleX;\r\n            x4 = x4 * scaleX;\r\n        }\r\n        if (scaleY !== 1) {\r\n            y1 = y1 * scaleY;\r\n            y2 = y2 * scaleY;\r\n            y3 = y3 * scaleY;\r\n            y4 = y4 * scaleY;\r\n        }\r\n        if (rotation !== 0) {\r\n            var cos = Math.cos(rotation);\r\n            var sin = Math.sin(rotation);\r\n            var rotatedX1 = cos * x1 - sin * y1;\r\n            var rotatedY1 = sin * x1 + cos * y1;\r\n            var rotatedX2 = cos * x2 - sin * y2;\r\n            var rotatedY2 = sin * x2 + cos * y2;\r\n            var rotatedX3 = cos * x3 - sin * y3;\r\n            var rotatedY3 = sin * x3 + cos * y3;\r\n            var rotatedX4 = cos * x4 - sin * y4;\r\n            var rotatedY4 = sin * x4 + cos * y4;\r\n            x1 = rotatedX1;\r\n            x2 = rotatedX2;\r\n            x3 = rotatedX3;\r\n            x4 = rotatedX4;\r\n            y1 = rotatedY1;\r\n            y2 = rotatedY2;\r\n            y3 = rotatedY3;\r\n            y4 = rotatedY4;\r\n        }\r\n        x1 += x + originX;\r\n        x2 += x + originX;\r\n        x3 += x + originX;\r\n        x4 += x + originX;\r\n        y1 += y + originY;\r\n        y2 += y + originY;\r\n        y3 += y + originY;\r\n        y4 += y + originY;\r\n        let u1 = ou1;\r\n        let v1 = ov1;\r\n        let u2 = ou2;\r\n        let v2 = ov2;\r\n        let u3 = u2;\r\n        let v3 = v1;\r\n        let u4 = u1;\r\n        let v4 = v2;\r\n        if (rotate) {\r\n            if (yDown) {\r\n                u1 = ou1;\r\n                v1 = ov2;\r\n                u2 = ou2;\r\n                v2 = ov1;\r\n                u3 = ou1;\r\n                v3 = ov1;\r\n                u4 = ou2;\r\n                v4 = ov2;\r\n            }\r\n            else {\r\n                u1 = ou2;\r\n                v1 = ov1;\r\n                u2 = ou1;\r\n                v2 = ov2;\r\n                u3 = ou2;\r\n                v3 = ov2;\r\n                u4 = ou1;\r\n                v4 = ov1;\r\n            }\r\n        }\r\n        var i = 0;\r\n        vertices[i++] = x1;\r\n        vertices[i++] = y1;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u1;\r\n        vertices[i++] = v1;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = x2;\r\n        vertices[i++] = y2;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u3;\r\n        vertices[i++] = v3;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = x3;\r\n        vertices[i++] = y3;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u2;\r\n        vertices[i++] = v2;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = x4;\r\n        vertices[i++] = y4;\r\n        vertices[i++] = color.r;\r\n        vertices[i++] = color.g;\r\n        vertices[i++] = color.b;\r\n        vertices[i++] = color.a;\r\n        vertices[i++] = u4;\r\n        vertices[i++] = v4;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i++] = 0;\r\n        vertices[i] = 0;\r\n        return vertices;\r\n    }\r\n    /** Returns the bounding axis aligned {@link Rectangle} that bounds this sprite. The rectangles x and y coordinates describe\r\n     * its bottom left corner. If you change the position or size of the sprite, you have to fetch the triangle again for it to be\r\n     * recomputed.\r\n     *\r\n     * @return the bounding Rectangle */\r\n    getBoundingRectangle() {\r\n        const vertices = this.vertices;\r\n        let minx = vertices[X1];\r\n        let miny = vertices[Y1];\r\n        let maxx = vertices[X1];\r\n        let maxy = vertices[Y1];\r\n        minx = minx > vertices[X2] ? vertices[X2] : minx;\r\n        minx = minx > vertices[X3] ? vertices[X3] : minx;\r\n        minx = minx > vertices[X4] ? vertices[X4] : minx;\r\n        maxx = maxx < vertices[X2] ? vertices[X2] : maxx;\r\n        maxx = maxx < vertices[X3] ? vertices[X3] : maxx;\r\n        maxx = maxx < vertices[X4] ? vertices[X4] : maxx;\r\n        miny = miny > vertices[Y2] ? vertices[Y2] : miny;\r\n        miny = miny > vertices[Y3] ? vertices[Y3] : miny;\r\n        miny = miny > vertices[Y4] ? vertices[Y4] : miny;\r\n        maxy = maxy < vertices[Y2] ? vertices[Y2] : maxy;\r\n        maxy = maxy < vertices[Y3] ? vertices[Y3] : maxy;\r\n        maxy = maxy < vertices[Y4] ? vertices[Y4] : maxy;\r\n        this.bounds.x = minx;\r\n        this.bounds.y = miny;\r\n        this.bounds.width = maxx - minx;\r\n        this.bounds.height = maxy - miny;\r\n        return this.bounds;\r\n    }\r\n    draw(batch) {\r\n        batch.drawVertices(this.region.texture, this.getVertices(batch.yDown));\r\n    }\r\n    drawWithAlpha(batch, alphaModulation) {\r\n        const oldAlpha = this.getColor().a;\r\n        this.setAlpha(oldAlpha * alphaModulation);\r\n        this.draw(batch);\r\n        this.setAlpha(oldAlpha);\r\n    }\r\n    getX() {\r\n        return this.position.x;\r\n    }\r\n    getY() {\r\n        return this.position.y;\r\n    }\r\n    /** @return the width of the sprite, not accounting for scale. */\r\n    getWidth() {\r\n        return this.size.x;\r\n    }\r\n    /** @return the height of the sprite, not accounting for scale. */\r\n    getHeight() {\r\n        return this.size.y;\r\n    }\r\n    /** The origin influences {@link #setPosition(float, float)}, {@link #setRotation(float)} and the expansion direction of\r\n     * scaling {@link #setScale(float, float)} */\r\n    getOriginX() {\r\n        return this.origin.x;\r\n    }\r\n    /** The origin influences {@link #setPosition(float, float)}, {@link #setRotation(float)} and the expansion direction of\r\n     * scaling {@link #setScale(float, float)} */\r\n    getOriginY() {\r\n        return this.origin.y;\r\n    }\r\n    /** X scale of the sprite, independent of size set by {@link #setSize(float, float)} */\r\n    getScaleX() {\r\n        return this.scale.x;\r\n    }\r\n    /** Y scale of the sprite, independent of size set by {@link #setSize(float, float)} */\r\n    getScaleY() {\r\n        return this.scale.y;\r\n    }\r\n    /** Returns the color of this sprite. If the returned instance is manipulated, {@link #setColor(Color)} must be called\r\n     * afterward. */\r\n    getColor() {\r\n        return this.color;\r\n    }\r\n}\r\nexports.Sprite = Sprite;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Texture = exports.TextureWrap = exports.TextureFilter = void 0;\r\nvar TextureFilter;\r\n(function (TextureFilter) {\r\n    TextureFilter[TextureFilter[\"Nearest\"] = 9728] = \"Nearest\";\r\n    TextureFilter[TextureFilter[\"Linear\"] = 9729] = \"Linear\";\r\n    TextureFilter[TextureFilter[\"MipMap\"] = 9987] = \"MipMap\";\r\n    TextureFilter[TextureFilter[\"MipMapNearestNearest\"] = 9984] = \"MipMapNearestNearest\";\r\n    TextureFilter[TextureFilter[\"MipMapLinearNearest\"] = 9985] = \"MipMapLinearNearest\";\r\n    TextureFilter[TextureFilter[\"MipMapNearestLinear\"] = 9986] = \"MipMapNearestLinear\";\r\n    TextureFilter[TextureFilter[\"MipMapLinearLinear\"] = 9987] = \"MipMapLinearLinear\"; // WebGLRenderingContext.LINEAR_MIPMAP_LINEAR\r\n})(TextureFilter = exports.TextureFilter || (exports.TextureFilter = {}));\r\nvar TextureWrap;\r\n(function (TextureWrap) {\r\n    TextureWrap[TextureWrap[\"MirroredRepeat\"] = 33648] = \"MirroredRepeat\";\r\n    TextureWrap[TextureWrap[\"ClampToEdge\"] = 33071] = \"ClampToEdge\";\r\n    TextureWrap[TextureWrap[\"Repeat\"] = 10497] = \"Repeat\"; // WebGLRenderingContext.REPEAT\r\n})(TextureWrap = exports.TextureWrap || (exports.TextureWrap = {}));\r\nclass Texture {\r\n    constructor(context, image, useMipMaps = false) {\r\n        this.texture = null;\r\n        this.boundUnit = 0;\r\n        this.useMipMaps = false;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this._image = image;\r\n        this.context = context;\r\n        this.useMipMaps = useMipMaps;\r\n        this.restore();\r\n        this.width = image.width;\r\n        this.height = image.height;\r\n    }\r\n    getImage() {\r\n        return this._image;\r\n    }\r\n    static load(gl, url, useMipmaps = false) {\r\n        return new Promise(resolve => {\r\n            const image = new Image();\r\n            image.onload = () => {\r\n                resolve(new Texture(gl, image, useMipmaps));\r\n            };\r\n            image.src = url;\r\n        });\r\n    }\r\n    getWebGLTexture() {\r\n        return this.texture;\r\n    }\r\n    setFilters(minFilter, magFilter) {\r\n        let gl = this.context;\r\n        this.bind();\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, Texture.validateMagFilter(magFilter));\r\n    }\r\n    static validateMagFilter(magFilter) {\r\n        switch (magFilter) {\r\n            case TextureFilter.MipMap:\r\n            case TextureFilter.MipMapLinearLinear:\r\n            case TextureFilter.MipMapLinearNearest:\r\n            case TextureFilter.MipMapNearestLinear:\r\n            case TextureFilter.MipMapNearestNearest:\r\n                return TextureFilter.Linear;\r\n            default:\r\n                return magFilter;\r\n        }\r\n    }\r\n    setWraps(uWrap, vWrap) {\r\n        let gl = this.context;\r\n        this.bind();\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, uWrap);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, vWrap);\r\n    }\r\n    update(useMipMaps) {\r\n        let gl = this.context;\r\n        if (!this.texture)\r\n            this.texture = this.context.createTexture();\r\n        this.bind();\r\n        if (Texture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL)\r\n            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._image);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, useMipMaps ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        if (useMipMaps)\r\n            gl.generateMipmap(gl.TEXTURE_2D);\r\n    }\r\n    restore() {\r\n        this.texture = null;\r\n        this.update(this.useMipMaps);\r\n    }\r\n    bind(unit = 0) {\r\n        let gl = this.context;\r\n        this.boundUnit = unit;\r\n        gl.activeTexture(gl.TEXTURE0 + unit);\r\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\r\n    }\r\n    unbind() {\r\n        let gl = this.context;\r\n        gl.activeTexture(gl.TEXTURE0 + this.boundUnit);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n    }\r\n    dispose() {\r\n        let gl = this.context;\r\n        gl.deleteTexture(this.texture);\r\n    }\r\n}\r\nexports.Texture = Texture;\r\nTexture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL = false;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TextureAtlas = void 0;\r\nconst Texture_1 = require(\"./Texture\");\r\nconst TextureRegion_1 = require(\"./TextureRegion\");\r\nfunction concatAndResolveUrl(url, concat) {\r\n    let url1 = url.split('/');\r\n    let url2 = concat.split('/');\r\n    let url3 = [];\r\n    for (let i = 0, l = url1.length; i < l; i++) {\r\n        if (url1[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url1[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url1[i]);\r\n        }\r\n    }\r\n    for (let i = 0, l = url2.length; i < l; i++) {\r\n        if (url2[i] === '..') {\r\n            url3.pop();\r\n        }\r\n        else if (url2[i] === '.') {\r\n            continue;\r\n        }\r\n        else {\r\n            url3.push(url2[i]);\r\n        }\r\n    }\r\n    return url3.join('/');\r\n}\r\nclass TextureAtlas {\r\n    constructor(pages, regions) {\r\n        this.pages = pages;\r\n        this.regions = regions;\r\n    }\r\n    dispose() {\r\n        for (let page of this.pages) {\r\n            page.dispose();\r\n        }\r\n    }\r\n    getPages() {\r\n        return this.pages;\r\n    }\r\n    getRegions() {\r\n        return this.regions;\r\n    }\r\n    findRegion(name, index) {\r\n        for (let i = 0; i < this.regions.length; i++) {\r\n            let region = this.regions[i];\r\n            if (region.name !== name)\r\n                continue;\r\n            if (index !== undefined && region.index !== index)\r\n                continue;\r\n            return region;\r\n        }\r\n        return null;\r\n    }\r\n    findRegions(name) {\r\n        return this.regions.filter(region => region.name === name).sort((a, b) => a.index - b.index);\r\n    }\r\n    static load(gl, packFileUrl, textureOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const packFileContent = yield fetch(packFileUrl).then(res => res.text());\r\n            const pageData = [];\r\n            const pages = [];\r\n            const regionsData = [];\r\n            let pageImage;\r\n            const lines = packFileContent.split(/\\r?\\n/);\r\n            let i = 0;\r\n            let tuple;\r\n            while (true) {\r\n                let line = lines[i];\r\n                if (line === undefined) {\r\n                    break;\r\n                }\r\n                if (line.trim().length === 0) {\r\n                    pageImage = null;\r\n                }\r\n                else if (pageImage === null) {\r\n                    const file = concatAndResolveUrl(packFileUrl, `../${line}`);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const width = parseInt(tuple[0], 10);\r\n                    const height = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const format = tuple[0];\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const [min, max] = tuple;\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const direction = tuple[0];\r\n                    let repeatX = Texture_1.TextureWrap.ClampToEdge;\r\n                    let repeatY = Texture_1.TextureWrap.ClampToEdge;\r\n                    if (direction === 'x') {\r\n                        repeatX = Texture_1.TextureWrap.Repeat;\r\n                    }\r\n                    else if (direction === 'y') {\r\n                        repeatY = Texture_1.TextureWrap.Repeat;\r\n                    }\r\n                    else if (direction === 'xy') {\r\n                        repeatX = Texture_1.TextureWrap.Repeat;\r\n                        repeatY = Texture_1.TextureWrap.Repeat;\r\n                    }\r\n                    const mipMaps = min !== 'Nearest' && min !== 'Linear';\r\n                    pageImage = {\r\n                        file,\r\n                        width,\r\n                        height,\r\n                        format,\r\n                        mipMaps,\r\n                        min,\r\n                        max,\r\n                        direction,\r\n                        repeatX,\r\n                        repeatY\r\n                    };\r\n                    pageData.push(pageImage);\r\n                }\r\n                else {\r\n                    const name = line;\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const rotate = tuple[0] === 'true';\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const left = parseInt(tuple[0], 10);\r\n                    const top = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    const width = parseInt(tuple[0], 10);\r\n                    const height = parseInt(tuple[1], 10);\r\n                    const region = {\r\n                        name,\r\n                        rotate,\r\n                        left,\r\n                        top,\r\n                        width,\r\n                        height,\r\n                        page: pageImage\r\n                    };\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    if (tuple.length === 4) {\r\n                        region.splits = tuple.map(i => parseInt(i, 10));\r\n                        i++;\r\n                        line = lines[i];\r\n                        tuple = line\r\n                            .split(':')[1]\r\n                            .split(',')\r\n                            .map(s => s.trim());\r\n                        if (tuple.length === 4) {\r\n                            region.pads = tuple.map(i => parseInt(i, 10));\r\n                            i++;\r\n                            line = lines[i];\r\n                            tuple = line\r\n                                .split(':')[1]\r\n                                .split(',')\r\n                                .map(s => s.trim());\r\n                        }\r\n                    }\r\n                    region.originalWidth = parseInt(tuple[0], 10);\r\n                    region.originalHeight = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    region.offsetX = parseInt(tuple[0], 10);\r\n                    region.offsetY = parseInt(tuple[1], 10);\r\n                    i++;\r\n                    line = lines[i];\r\n                    tuple = line\r\n                        .split(':')[1]\r\n                        .split(',')\r\n                        .map(s => s.trim());\r\n                    region.index = parseInt(tuple[0], 10);\r\n                    regionsData.push(region);\r\n                }\r\n                i++;\r\n            }\r\n            for (let page of pageData) {\r\n                page.texture = yield Texture_1.Texture.load(gl, page.file, textureOptions);\r\n                page.invTexWidth = 1 / page.texture.width;\r\n                page.invTexHeight = 1 / page.texture.height;\r\n            }\r\n            const regions = [];\r\n            for (let regionData of regionsData) {\r\n                const { left: x, top: y } = regionData;\r\n                const width = regionData.rotate ? regionData.height : regionData.width;\r\n                const height = regionData.rotate ? regionData.width : regionData.height;\r\n                const { texture, invTexWidth, invTexHeight } = regionData.page;\r\n                regions.push(new TextureRegion_1.TextureRegion(texture, x, y, width, height, regionData, invTexWidth, invTexHeight, regionData.rotate));\r\n            }\r\n            return new TextureAtlas(pages, regions);\r\n        });\r\n    }\r\n}\r\nexports.TextureAtlas = TextureAtlas;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TextureRegion = void 0;\r\nclass TextureRegion {\r\n    constructor(tex, x, y, width, height, extraData, invTexWidth, invTexHeight, rotate = false) {\r\n        this.name = null;\r\n        this.index = 0;\r\n        this.texture = null;\r\n        this.regionX = 0;\r\n        this.regionY = 0;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.invTexWidth = 0;\r\n        this.invTexHeight = 0;\r\n        this.originalWidth = 0;\r\n        this.originalHeight = 0;\r\n        this.offsetX = 0;\r\n        this.offsetY = 0;\r\n        this.u = 0;\r\n        this.v = 0;\r\n        this.u2 = 0;\r\n        this.v2 = 0;\r\n        this.rotated = false;\r\n        if (!invTexWidth || !invTexHeight) {\r\n            invTexWidth = 1 / tex.width;\r\n            invTexHeight = 1 / tex.height;\r\n        }\r\n        const u = x * invTexWidth;\r\n        const v = (y + height) * invTexHeight;\r\n        const u2 = (x + width) * invTexWidth;\r\n        const v2 = y * invTexHeight;\r\n        this.texture = tex;\r\n        this.regionX = x;\r\n        this.regionY = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.originalWidth = width;\r\n        this.originalHeight = height;\r\n        this.offsetX = 0;\r\n        this.offsetY = 0;\r\n        this.u = u;\r\n        this.v = v;\r\n        this.u2 = u2;\r\n        this.v2 = v2;\r\n        this.rotated = rotate;\r\n        for (let key in extraData) {\r\n            this[key] = extraData[key];\r\n        }\r\n    }\r\n    static splitTexture(texture, cols, rows) {\r\n        const { width, height } = texture;\r\n        const regionWidth = width / cols;\r\n        const regionHeight = height / rows;\r\n        const regions = [];\r\n        for (let y = 0; y < rows; y++) {\r\n            for (let x = 0; x < cols; x++) {\r\n                regions.push(new TextureRegion(texture, x * regionWidth, y * regionHeight, regionWidth, regionHeight, {}));\r\n            }\r\n        }\r\n        return regions;\r\n    }\r\n    draw(batch, x, y, width, height, originX = 0, originY = 0, rotation = 0, scaleX = 1, scaleY = 1) {\r\n        const { originalWidth, originalHeight, offsetX, offsetY, width: regionWidth, height: regionHeight } = this;\r\n        const xRatio = width / originalWidth;\r\n        const yRatio = height / originalHeight;\r\n        const drawWidth = regionWidth * xRatio;\r\n        const drawHeight = regionHeight * yRatio;\r\n        const drawX = x + offsetX * xRatio;\r\n        let drawY = 0;\r\n        if (batch.yDown) {\r\n            drawY = y + height - offsetY * yRatio - drawHeight;\r\n        }\r\n        else {\r\n            drawY = y + offsetY * yRatio;\r\n        }\r\n        originX = originX - (drawX - x);\r\n        originY = originY - (drawY - y);\r\n        batch.draw(this.texture, drawX, drawY, drawWidth, drawHeight, originX, originY, rotation, scaleX, scaleY, this.u, this.v, this.u2, this.v2, this.rotated);\r\n    }\r\n}\r\nexports.TextureRegion = TextureRegion;\r\n","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.copyArray = exports.createStage = exports.pointInRect = exports.resizeCanvas = exports.createGameLoop = exports.WindowedMean = exports.TimeKeeper = exports.Pools = exports.Pool = exports.Utils = exports.PowOut = exports.Pow = exports.Interpolation = exports.MathUtils = exports.Color = exports.StringSet = exports.IntSet = exports.Align = void 0;\r\nclass Align {\r\n    static isLeft(align) {\r\n        return (align & this.left) !== 0;\r\n    }\r\n    static isRight(align) {\r\n        return (align & this.right) !== 0;\r\n    }\r\n    static isTop(align) {\r\n        return (align & this.top) !== 0;\r\n    }\r\n    static isBottom(align) {\r\n        return (align & this.bottom) !== 0;\r\n    }\r\n    static isCenterVertical(align) {\r\n        return (align & this.top) === 0 && (align & this.bottom) === 0;\r\n    }\r\n    static isCenterHorizontal(align) {\r\n        return (align & this.left) === 0 && (align & this.right) === 0;\r\n    }\r\n}\r\nexports.Align = Align;\r\n_a = Align;\r\nAlign.center = 1 << 0;\r\nAlign.top = 1 << 1;\r\nAlign.bottom = 1 << 2;\r\nAlign.left = 1 << 3;\r\nAlign.right = 1 << 4;\r\nAlign.topLeft = _a.top | _a.left;\r\nAlign.topRight = _a.top | _a.right;\r\nAlign.bottomLeft = _a.bottom | _a.left;\r\nAlign.bottomRight = _a.bottom | _a.right;\r\nclass IntSet {\r\n    constructor() {\r\n        this.array = new Array();\r\n    }\r\n    add(value) {\r\n        let contains = this.contains(value);\r\n        this.array[value | 0] = value | 0;\r\n        return !contains;\r\n    }\r\n    contains(value) {\r\n        return this.array[value | 0] !== undefined;\r\n    }\r\n    remove(value) {\r\n        this.array[value | 0] = undefined;\r\n    }\r\n    clear() {\r\n        this.array.length = 0;\r\n    }\r\n}\r\nexports.IntSet = IntSet;\r\nclass StringSet {\r\n    constructor() {\r\n        this.entries = {};\r\n        this.size = 0;\r\n    }\r\n    add(value) {\r\n        let contains = this.entries[value];\r\n        this.entries[value] = true;\r\n        if (!contains) {\r\n            this.size++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    addAll(values) {\r\n        let oldSize = this.size;\r\n        for (var i = 0, n = values.length; i < n; i++)\r\n            this.add(values[i]);\r\n        return oldSize !== this.size;\r\n    }\r\n    contains(value) {\r\n        return this.entries[value];\r\n    }\r\n    clear() {\r\n        this.entries = {};\r\n        this.size = 0;\r\n    }\r\n}\r\nexports.StringSet = StringSet;\r\nclass Color {\r\n    constructor(r = 0, g = 0, b = 0, a = 0) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n    }\r\n    unsafeSet(r, g, b, a) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n    }\r\n    set(r, g, b, a) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n        return this.clamp();\r\n    }\r\n    setFromColor(c) {\r\n        this.r = c.r;\r\n        this.g = c.g;\r\n        this.b = c.b;\r\n        this.a = c.a;\r\n        return this;\r\n    }\r\n    setFromString(hex) {\r\n        hex = hex.charAt(0) === '#' ? hex.substring(1) : hex;\r\n        this.r = parseInt(hex.substring(0, 2), 16) / 255;\r\n        this.g = parseInt(hex.substring(2, 4), 16) / 255;\r\n        this.b = parseInt(hex.substring(4, 6), 16) / 255;\r\n        this.a = hex.length !== 8 ? 1 : parseInt(hex.substring(6, 8), 16) / 255;\r\n        return this;\r\n    }\r\n    add(r, g, b, a) {\r\n        this.r += r;\r\n        this.g += g;\r\n        this.b += b;\r\n        this.a += a;\r\n        return this.clamp();\r\n    }\r\n    clamp() {\r\n        if (this.r < 0)\r\n            this.r = 0;\r\n        else if (this.r > 1)\r\n            this.r = 1;\r\n        if (this.g < 0)\r\n            this.g = 0;\r\n        else if (this.g > 1)\r\n            this.g = 1;\r\n        if (this.b < 0)\r\n            this.b = 0;\r\n        else if (this.b > 1)\r\n            this.b = 1;\r\n        if (this.a < 0)\r\n            this.a = 0;\r\n        else if (this.a > 1)\r\n            this.a = 1;\r\n        return this;\r\n    }\r\n    toIntBits() {\r\n        return ((255 * this.a) << 24) | ((255 * this.b) << 16) | ((255 * this.g) << 8) | (255 * this.r);\r\n    }\r\n    static rgba8888ToColor(color, value) {\r\n        color.r = ((value & 0xff000000) >>> 24) / 255;\r\n        color.g = ((value & 0x00ff0000) >>> 16) / 255;\r\n        color.b = ((value & 0x0000ff00) >>> 8) / 255;\r\n        color.a = (value & 0x000000ff) / 255;\r\n    }\r\n    static rgb888ToColor(color, value) {\r\n        color.r = ((value & 0x00ff0000) >>> 16) / 255;\r\n        color.g = ((value & 0x0000ff00) >>> 8) / 255;\r\n        color.b = (value & 0x000000ff) / 255;\r\n    }\r\n    static fromString(hex) {\r\n        return new Color().setFromString(hex);\r\n    }\r\n}\r\nexports.Color = Color;\r\nColor.WHITE = new Color(1, 1, 1, 1);\r\nColor.RED = new Color(1, 0, 0, 1);\r\nColor.GREEN = new Color(0, 1, 0, 1);\r\nColor.BLUE = new Color(0, 0, 1, 1);\r\nColor.MAGENTA = new Color(1, 0, 1, 1);\r\nclass MathUtils {\r\n    static clamp(value, min, max) {\r\n        if (value < min)\r\n            return min;\r\n        if (value > max)\r\n            return max;\r\n        return value;\r\n    }\r\n    static cosDeg(degrees) {\r\n        return Math.cos(degrees * MathUtils.degRad);\r\n    }\r\n    static sinDeg(degrees) {\r\n        return Math.sin(degrees * MathUtils.degRad);\r\n    }\r\n    static signum(value) {\r\n        return value > 0 ? 1 : value < 0 ? -1 : 0;\r\n    }\r\n    static toInt(x) {\r\n        return x > 0 ? Math.floor(x) : Math.ceil(x);\r\n    }\r\n    static cbrt(x) {\r\n        let y = Math.pow(Math.abs(x), 1 / 3);\r\n        return x < 0 ? -y : y;\r\n    }\r\n    static randomTriangular(min, max) {\r\n        return MathUtils.randomTriangularWith(min, max, (min + max) * 0.5);\r\n    }\r\n    static randomTriangularWith(min, max, mode) {\r\n        let u = Math.random();\r\n        let d = max - min;\r\n        if (u <= (mode - min) / d)\r\n            return min + Math.sqrt(u * d * (mode - min));\r\n        return max - Math.sqrt((1 - u) * d * (max - mode));\r\n    }\r\n    static isPowerOfTwo(value) {\r\n        return value && (value & (value - 1)) === 0;\r\n    }\r\n}\r\nexports.MathUtils = MathUtils;\r\nMathUtils.PI = 3.1415927;\r\nMathUtils.PI2 = MathUtils.PI * 2;\r\nMathUtils.radiansToDegrees = 180 / MathUtils.PI;\r\nMathUtils.radDeg = MathUtils.radiansToDegrees;\r\nMathUtils.degreesToRadians = MathUtils.PI / 180;\r\nMathUtils.degRad = MathUtils.degreesToRadians;\r\nclass Interpolation {\r\n    apply(start, end, a) {\r\n        return start + (end - start) * this.applyInternal(a);\r\n    }\r\n}\r\nexports.Interpolation = Interpolation;\r\nclass Pow extends Interpolation {\r\n    constructor(power) {\r\n        super();\r\n        this.power = 2;\r\n        this.power = power;\r\n    }\r\n    applyInternal(a) {\r\n        if (a <= 0.5)\r\n            return Math.pow(a * 2, this.power) / 2;\r\n        return Math.pow((a - 1) * 2, this.power) / (this.power % 2 === 0 ? -2 : 2) + 1;\r\n    }\r\n}\r\nexports.Pow = Pow;\r\nclass PowOut extends Pow {\r\n    // constructor(power: number) {\r\n    //   super(power);\r\n    // }\r\n    applyInternal(a) {\r\n        return Math.pow(a - 1, this.power) * (this.power % 2 === 0 ? -1 : 1) + 1;\r\n    }\r\n}\r\nexports.PowOut = PowOut;\r\nclass Utils {\r\n    static arrayCopy(source, sourceStart, dest, destStart, numElements) {\r\n        for (let i = sourceStart, j = destStart; i < sourceStart + numElements; i++, j++) {\r\n            dest[j] = source[i];\r\n        }\r\n    }\r\n    static arrayFill(array, fromIndex, toIndex, value) {\r\n        for (let i = fromIndex; i < toIndex; i++)\r\n            array[i] = value;\r\n    }\r\n    static setArraySize(array, size, value = 0) {\r\n        let oldSize = array.length;\r\n        if (oldSize === size)\r\n            return array;\r\n        array.length = size;\r\n        if (oldSize < size) {\r\n            for (let i = oldSize; i < size; i++)\r\n                array[i] = value;\r\n        }\r\n        return array;\r\n    }\r\n    static ensureArrayCapacity(array, size, value = 0) {\r\n        if (array.length >= size)\r\n            return array;\r\n        return Utils.setArraySize(array, size, value);\r\n    }\r\n    static newArray(size, defaultValue) {\r\n        let array = new Array(size);\r\n        for (let i = 0; i < size; i++)\r\n            array[i] = defaultValue;\r\n        return array;\r\n    }\r\n    static newFloatArray(size) {\r\n        if (Utils.SUPPORTS_TYPED_ARRAYS)\r\n            return new Float32Array(size);\r\n        else {\r\n            let array = new Array(size);\r\n            for (let i = 0; i < array.length; i++)\r\n                array[i] = 0;\r\n            return array;\r\n        }\r\n    }\r\n    static newShortArray(size) {\r\n        if (Utils.SUPPORTS_TYPED_ARRAYS)\r\n            return new Int16Array(size);\r\n        else {\r\n            let array = new Array(size);\r\n            for (let i = 0; i < array.length; i++)\r\n                array[i] = 0;\r\n            return array;\r\n        }\r\n    }\r\n    static toFloatArray(array) {\r\n        return Utils.SUPPORTS_TYPED_ARRAYS ? new Float32Array(array) : array;\r\n    }\r\n    static toSinglePrecision(value) {\r\n        return Utils.SUPPORTS_TYPED_ARRAYS ? Math.fround(value) : value;\r\n    }\r\n    static contains(array, element, identity = true) {\r\n        for (var i = 0; i < array.length; i++)\r\n            if (array[i] === element)\r\n                return true;\r\n        return false;\r\n    }\r\n    static enumValue(type, name) {\r\n        return type[name[0].toUpperCase() + name.slice(1)];\r\n    }\r\n}\r\nexports.Utils = Utils;\r\nUtils.SUPPORTS_TYPED_ARRAYS = typeof Float32Array !== 'undefined';\r\nclass Pool {\r\n    constructor(instantiator) {\r\n        this.items = new Array();\r\n        if (instantiator) {\r\n            this.instantiator = instantiator;\r\n        }\r\n        else {\r\n            this.instantiator = () => ({});\r\n        }\r\n    }\r\n    obtain() {\r\n        const item = this.items.length > 0 ? this.items.pop() : this.instantiator();\r\n        return item;\r\n    }\r\n    free(item) {\r\n        if (item === null || item === void 0 ? void 0 : item.reset) {\r\n            item.reset();\r\n        }\r\n        this.items.push(item);\r\n    }\r\n    freeAll(items) {\r\n        for (let i = 0; i < items.length; i++)\r\n            this.free(items[i]);\r\n    }\r\n    clear() {\r\n        this.items.length = 0;\r\n    }\r\n}\r\nexports.Pool = Pool;\r\nclass Pools {\r\n    static free(name, object) {\r\n        if (this.pools[name]) {\r\n            this.pools[name].free(object);\r\n        }\r\n    }\r\n    static freeAll(name, objects) {\r\n        if (this.pools[name]) {\r\n            this.pools[name].freeAll(objects);\r\n        }\r\n    }\r\n    static get(name, instantiator) {\r\n        if (this.pools[name]) {\r\n            return this.pools[name];\r\n        }\r\n        this.pools[name] = new Pool(instantiator);\r\n        return this.pools[name];\r\n    }\r\n    static set(name, pool) {\r\n        this.pools[name] = pool;\r\n    }\r\n    static obtain(name, instantiator) {\r\n        return this.get(name, instantiator).obtain();\r\n    }\r\n}\r\nexports.Pools = Pools;\r\nPools.pools = {};\r\nclass TimeKeeper {\r\n    constructor() {\r\n        this.maxDelta = 0.064;\r\n        this.framesPerSecond = 0;\r\n        this.delta = 0;\r\n        this.totalTime = 0;\r\n        this.lastTime = Date.now() / 1000;\r\n        this.frameCount = 0;\r\n        this.frameTime = 0;\r\n    }\r\n    update() {\r\n        let now = Date.now() / 1000;\r\n        this.delta = now - this.lastTime;\r\n        this.frameTime += this.delta;\r\n        this.totalTime += this.delta;\r\n        if (this.delta > this.maxDelta)\r\n            this.delta = this.maxDelta;\r\n        this.lastTime = now;\r\n        this.frameCount++;\r\n        if (this.frameTime > 1) {\r\n            this.framesPerSecond = this.frameCount / this.frameTime;\r\n            this.frameTime = 0;\r\n            this.frameCount = 0;\r\n        }\r\n    }\r\n}\r\nexports.TimeKeeper = TimeKeeper;\r\nclass WindowedMean {\r\n    constructor(windowSize = 32) {\r\n        this.addedValues = 0;\r\n        this.lastValue = 0;\r\n        this.mean = 0;\r\n        this.dirty = true;\r\n        this.values = new Array(windowSize);\r\n    }\r\n    hasEnoughData() {\r\n        return this.addedValues >= this.values.length;\r\n    }\r\n    addValue(value) {\r\n        if (this.addedValues < this.values.length)\r\n            this.addedValues++;\r\n        this.values[this.lastValue++] = value;\r\n        if (this.lastValue > this.values.length - 1)\r\n            this.lastValue = 0;\r\n        this.dirty = true;\r\n    }\r\n    getMean() {\r\n        if (this.hasEnoughData()) {\r\n            if (this.dirty) {\r\n                let mean = 0;\r\n                for (let i = 0; i < this.values.length; i++)\r\n                    mean += this.values[i];\r\n                this.mean = mean / this.values.length;\r\n                this.dirty = false;\r\n            }\r\n            return this.mean;\r\n        }\r\n        return 0;\r\n    }\r\n}\r\nexports.WindowedMean = WindowedMean;\r\nconst createGameLoop = (update) => {\r\n    let lastUpdate = Date.now();\r\n    let fps = 0;\r\n    let running = true;\r\n    let requestId;\r\n    let frameInLastSecond = 0;\r\n    let elapsed = 0;\r\n    function loop() {\r\n        if (running) {\r\n            const delta = Date.now() - lastUpdate;\r\n            lastUpdate = Date.now();\r\n            frameInLastSecond++;\r\n            elapsed += delta;\r\n            if (elapsed >= 1000) {\r\n                fps = frameInLastSecond;\r\n                frameInLastSecond = 0;\r\n                elapsed -= 1000;\r\n            }\r\n            requestId = requestAnimationFrame(loop);\r\n            update(delta / 1000);\r\n        }\r\n    }\r\n    loop();\r\n    return {\r\n        isRunning: () => running,\r\n        start: () => {\r\n            if (!running) {\r\n                running = true;\r\n                loop();\r\n            }\r\n        },\r\n        stop: () => {\r\n            if (requestId) {\r\n                cancelAnimationFrame(requestId);\r\n            }\r\n            running = false;\r\n        },\r\n        getFps: () => fps\r\n    };\r\n};\r\nexports.createGameLoop = createGameLoop;\r\nconst resizeCanvas = (canvas, deviceRatio) => {\r\n    const devicePixelRatio = deviceRatio || window.devicePixelRatio || 1;\r\n    const displayWidth = canvas.clientWidth * devicePixelRatio;\r\n    const displayHeight = canvas.clientHeight * devicePixelRatio;\r\n    if (canvas.width !== displayWidth || canvas.height !== displayHeight) {\r\n        canvas.width = displayWidth;\r\n        canvas.height = displayHeight;\r\n    }\r\n    return [displayWidth, displayHeight];\r\n};\r\nexports.resizeCanvas = resizeCanvas;\r\nconst pointInRect = (pX, pY, x, y, width, height) => {\r\n    return pX > x && pX < x + width && pY > y && pY < y + height;\r\n};\r\nexports.pointInRect = pointInRect;\r\nconst createStage = (options) => {\r\n    const defaultOptions = {\r\n        hidden: false,\r\n        info: true\r\n    };\r\n    options = Object.assign(Object.assign({}, defaultOptions), options);\r\n    const wrapper = document.createElement('div');\r\n    wrapper.setAttribute('style', `position:fixed;top:0;left:0;right:0;bottom:0;`);\r\n    if (options.wrapperClassName) {\r\n        wrapper.className = options.wrapperClassName;\r\n    }\r\n    if (options.hidden) {\r\n        wrapper.style.display = 'none';\r\n    }\r\n    const canvas = document.createElement('canvas');\r\n    canvas.setAttribute('style', `width:100%;height:100%;`);\r\n    const info = document.createElement('div');\r\n    info.setAttribute('style', `position:absolute;top:1em;left:1em;color:white`);\r\n    if (!options.info) {\r\n        info.style.display = 'none';\r\n    }\r\n    wrapper.appendChild(canvas);\r\n    wrapper.appendChild(info);\r\n    document.body.appendChild(wrapper);\r\n    return {\r\n        getCanvas: () => canvas,\r\n        getInfo: () => info,\r\n        show: () => (wrapper.style.display = 'block'),\r\n        hide: () => (wrapper.style.display = 'none'),\r\n        cleanup: () => document.body.removeChild(wrapper)\r\n    };\r\n};\r\nexports.createStage = createStage;\r\nconst copyArray = (src, target, targetOffset = 0, srcOffset = 0, count = target.length) => {\r\n    for (let i = 0; i < count; i++) {\r\n        target[targetOffset + i] = src[srcOffset + i];\r\n    }\r\n};\r\nexports.copyArray = copyArray;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Vector2 = void 0;\r\nclass Vector2 {\r\n    constructor(x = 0, y = 0) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    getX() {\r\n        return this.x;\r\n    }\r\n    getY() {\r\n        return this.y;\r\n    }\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n    setVector(v) {\r\n        return this.set(v.x, v.y);\r\n    }\r\n    add(x, y) {\r\n        this.x += x;\r\n        this.y += y;\r\n        return this;\r\n    }\r\n    addVector(v) {\r\n        return this.add(v.x, v.y);\r\n    }\r\n    sub(x, y) {\r\n        return this.add(-x, -y);\r\n    }\r\n    subVector(v) {\r\n        return this.sub(v.x, v.y);\r\n    }\r\n    scale(scalar) {\r\n        this.x *= scalar;\r\n        this.y *= scalar;\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    distanceSqr(v) {\r\n        const deltaX = this.x - v.x;\r\n        const deltaY = this.y - v.y;\r\n        return deltaX * deltaX + deltaY * deltaY;\r\n    }\r\n    distance(v) {\r\n        return Math.sqrt(this.distanceSqr(v));\r\n    }\r\n    angle() {\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n    len2() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    len() {\r\n        return Math.sqrt(this.len2());\r\n    }\r\n    nor() {\r\n        const len = this.len();\r\n        if (len !== 0) {\r\n            this.x /= len;\r\n            this.y /= len;\r\n        }\r\n        return this;\r\n    }\r\n    rotateRad(rad) {\r\n        const cos = Math.cos(rad);\r\n        const sin = Math.sin(rad);\r\n        const newX = this.x * cos - this.y * sin;\r\n        const newY = this.x * sin + this.y * cos;\r\n        this.x = newX;\r\n        this.y = newY;\r\n        return this;\r\n    }\r\n    rotate(degrees) {\r\n        return this.rotateRad((degrees * Math.PI) / 180);\r\n    }\r\n    cpy() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n}\r\nexports.Vector2 = Vector2;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Vector3 = void 0;\r\nconst Matrix4_1 = require(\"./Matrix4\");\r\nclass Vector3 {\r\n    constructor(x = 0, y = 0, z = 0) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    setFrom(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n        return this;\r\n    }\r\n    set(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return this;\r\n    }\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        this.z += v.z;\r\n        return this;\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        this.z -= v.z;\r\n        return this;\r\n    }\r\n    scale(s) {\r\n        this.x *= s;\r\n        this.y *= s;\r\n        this.z *= s;\r\n        return this;\r\n    }\r\n    normalize() {\r\n        let len = this.length();\r\n        if (len === 0)\r\n            return this;\r\n        len = 1 / len;\r\n        this.x *= len;\r\n        this.y *= len;\r\n        this.z *= len;\r\n        return this;\r\n    }\r\n    cross(v) {\r\n        return this.set(this.y * v.z - this.z * v.y, this.z * v.x - this.x * v.z, this.x * v.y - this.y * v.x);\r\n    }\r\n    multiply(matrix) {\r\n        let l_mat = matrix.values;\r\n        return this.set(this.x * l_mat[Matrix4_1.M00] + this.y * l_mat[Matrix4_1.M01] + this.z * l_mat[Matrix4_1.M02] + l_mat[Matrix4_1.M03], this.x * l_mat[Matrix4_1.M10] + this.y * l_mat[Matrix4_1.M11] + this.z * l_mat[Matrix4_1.M12] + l_mat[Matrix4_1.M13], this.x * l_mat[Matrix4_1.M20] + this.y * l_mat[Matrix4_1.M21] + this.z * l_mat[Matrix4_1.M22] + l_mat[Matrix4_1.M23]);\r\n    }\r\n    project(matrix) {\r\n        let l_mat = matrix.values;\r\n        let l_w = 1 / (this.x * l_mat[Matrix4_1.M30] + this.y * l_mat[Matrix4_1.M31] + this.z * l_mat[Matrix4_1.M32] + l_mat[Matrix4_1.M33]);\r\n        return this.set((this.x * l_mat[Matrix4_1.M00] + this.y * l_mat[Matrix4_1.M01] + this.z * l_mat[Matrix4_1.M02] + l_mat[Matrix4_1.M03]) * l_w, (this.x * l_mat[Matrix4_1.M10] + this.y * l_mat[Matrix4_1.M11] + this.z * l_mat[Matrix4_1.M12] + l_mat[Matrix4_1.M13]) * l_w, (this.x * l_mat[Matrix4_1.M20] + this.y * l_mat[Matrix4_1.M21] + this.z * l_mat[Matrix4_1.M22] + l_mat[Matrix4_1.M23]) * l_w);\r\n    }\r\n    unproject(output, invMatrix, viewX, viewY, viewWidth, viewHeight) {\r\n        let { x, y, z } = this;\r\n        x = x - viewX;\r\n        y = viewHeight - y - 1;\r\n        y = y - viewY;\r\n        output.set((2 * x) / viewWidth - 1, (2 * y) / viewHeight - 1, 2 * z - 1);\r\n        output.project(invMatrix);\r\n        return output;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n    }\r\n    distance(v) {\r\n        let a = v.x - this.x;\r\n        let b = v.y - this.y;\r\n        let c = v.z - this.z;\r\n        return Math.sqrt(a * a + b * b + c * c);\r\n    }\r\n}\r\nexports.Vector3 = Vector3;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createViewport = void 0;\r\nconst Camera_1 = require(\"./Camera\");\r\nconst Utils_1 = require(\"./Utils\");\r\nconst createViewport = (canvas, width, height, options) => {\r\n    const defaultOptions = {\r\n        autoUpdate: true,\r\n        pixelRatio: undefined,\r\n        crop: true\r\n    };\r\n    options = Object.assign(Object.assign({}, defaultOptions), options);\r\n    let contextOption;\r\n    if (options.disablePremultipliedAlpha) {\r\n        contextOption = {\r\n            premultipliedAlpha: false\r\n        };\r\n    }\r\n    contextOption = Object.assign(Object.assign({}, contextOption), options.contextOption);\r\n    const gl = canvas.getContext('webgl2', contextOption);\r\n    const additionalCameras = [];\r\n    let { autoUpdate, pixelRatio, crop } = options;\r\n    pixelRatio = pixelRatio || window.devicePixelRatio || 1;\r\n    const viewportInfo = {\r\n        pixelRatio,\r\n        x: 0,\r\n        y: 0,\r\n        width,\r\n        height,\r\n        worldWidth: width,\r\n        worldHeight: height\r\n    };\r\n    let resizeHandler;\r\n    const [vWidth, vHeight] = (0, Utils_1.resizeCanvas)(canvas, pixelRatio);\r\n    const camera = new Camera_1.OrthoCamera(width, height, vWidth, vHeight);\r\n    if (autoUpdate) {\r\n        resizeHandler = e => {\r\n            viewportObject.update();\r\n        };\r\n        window.addEventListener('resize', resizeHandler);\r\n    }\r\n    const viewportObject = {\r\n        getViewportInfo() {\r\n            return viewportInfo;\r\n        },\r\n        getCamera() {\r\n            return camera;\r\n        },\r\n        addCamera(camera) {\r\n            additionalCameras.push(camera);\r\n        },\r\n        getContext() {\r\n            return gl;\r\n        },\r\n        getCanvas() {\r\n            return canvas;\r\n        },\r\n        update() {\r\n            let [vWidth, vHeight] = (0, Utils_1.resizeCanvas)(canvas, pixelRatio);\r\n            const ratio = width / height;\r\n            const vRatio = vWidth / vHeight;\r\n            if (crop) {\r\n                let displayWidth, displayHeight;\r\n                if (ratio < vRatio) {\r\n                    displayHeight = vHeight;\r\n                    displayWidth = vHeight * ratio;\r\n                }\r\n                else {\r\n                    displayWidth = vWidth;\r\n                    displayHeight = vWidth / ratio;\r\n                }\r\n                const displayX = (vWidth - displayWidth) / 2;\r\n                const displayY = (vHeight - displayHeight) / 2;\r\n                viewportInfo.x = displayX;\r\n                viewportInfo.y = displayY;\r\n                viewportInfo.width = displayWidth;\r\n                viewportInfo.height = displayHeight;\r\n                gl.viewport(displayX, displayY, displayWidth, displayHeight);\r\n                camera.setPosition(width / 2, height / 2);\r\n                camera.resize(width, height, displayWidth, displayHeight);\r\n                for (let camera of additionalCameras) {\r\n                    camera.setPosition(width / 2, height / 2);\r\n                    camera.resize(width, height, displayWidth, displayHeight);\r\n                }\r\n            }\r\n            else {\r\n                viewportInfo.x = 0;\r\n                viewportInfo.y = 0;\r\n                viewportInfo.width = vWidth;\r\n                viewportInfo.height = vHeight;\r\n                gl.viewport(0, 0, vWidth, vHeight);\r\n                let cameraWidth, cameraHeight, cameraX, cameraY;\r\n                if (ratio < vRatio) {\r\n                    cameraHeight = height;\r\n                    cameraWidth = cameraHeight * vRatio;\r\n                    cameraX = -(cameraWidth - width) / 2;\r\n                    cameraY = 0;\r\n                }\r\n                else {\r\n                    cameraWidth = width;\r\n                    cameraHeight = cameraWidth / vRatio;\r\n                    cameraX = 0;\r\n                    cameraY = -(cameraHeight - height) / 2;\r\n                }\r\n                camera.setPosition(cameraX + cameraWidth / 2, cameraY + cameraHeight / 2);\r\n                camera.resize(cameraWidth, cameraHeight, vWidth, vHeight);\r\n                for (let camera of additionalCameras) {\r\n                    camera.setPosition(cameraX + cameraWidth / 2, cameraY + cameraHeight / 2);\r\n                    camera.resize(cameraWidth, cameraHeight, vWidth, vHeight);\r\n                }\r\n            }\r\n        },\r\n        cleanUp() {\r\n            if (resizeHandler) {\r\n                window.removeEventListener('resize', resizeHandler);\r\n            }\r\n        }\r\n    };\r\n    autoUpdate && viewportObject.update();\r\n    return viewportObject;\r\n};\r\nexports.createViewport = createViewport;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ViewportInputHandler = void 0;\r\nconst InputHandler_1 = require(\"./InputHandler\");\r\nconst Vector2_1 = require(\"./Vector2\");\r\nconst createViewportAwareInputListener = (handler, viewport) => {\r\n    return (x, y) => {\r\n        const { x: vX, y: vY, pixelRatio } = viewport.getViewportInfo();\r\n        x = x * pixelRatio - vX;\r\n        y = y * pixelRatio - vY;\r\n        handler(x, y);\r\n    };\r\n};\r\nclass ViewportInputHandler {\r\n    constructor(viewport) {\r\n        this.screenCoord = new Vector2_1.Vector2();\r\n        this.worldCoord = new Vector2_1.Vector2();\r\n        this.viewport = viewport;\r\n        this.canvas = viewport.getCanvas();\r\n        this.inputHandler = new InputHandler_1.InputHandler(this.canvas);\r\n    }\r\n    isTouched() {\r\n        return this.inputHandler.isTouched();\r\n    }\r\n    cleanup() {\r\n        this.inputHandler.cleanup();\r\n    }\r\n    addEventListener(event, listener) {\r\n        this.inputHandler.addEventListener(event, createViewportAwareInputListener(listener, this.viewport));\r\n    }\r\n    getX() {\r\n        const { x: vX, pixelRatio } = this.viewport.getViewportInfo();\r\n        return this.inputHandler.getX() * pixelRatio - vX;\r\n    }\r\n    getY() {\r\n        const { y: vY, pixelRatio } = this.viewport.getViewportInfo();\r\n        return this.inputHandler.getY() * pixelRatio - vY;\r\n    }\r\n    getTouchedWorldCoord(camera) {\r\n        if (!camera) {\r\n            camera = this.viewport.getCamera();\r\n        }\r\n        this.screenCoord.set(this.getX(), this.getY());\r\n        camera.unprojectVector2(this.worldCoord, this.screenCoord);\r\n        return this.worldCoord;\r\n    }\r\n}\r\nexports.ViewportInputHandler = ViewportInputHandler;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Animation\"), exports);\r\n__exportStar(require(\"./AssetManager\"), exports);\r\n__exportStar(require(\"./BitmapFont\"), exports);\r\n__exportStar(require(\"./BitmapFontCache\"), exports);\r\n__exportStar(require(\"./BitmapFontData\"), exports);\r\n__exportStar(require(\"./BoundingBox\"), exports);\r\n__exportStar(require(\"./Camera\"), exports);\r\n__exportStar(require(\"./Game\"), exports);\r\n__exportStar(require(\"./Glyph\"), exports);\r\n__exportStar(require(\"./GlyphLayout\"), exports);\r\n__exportStar(require(\"./GlyphRun\"), exports);\r\n__exportStar(require(\"./InputHandler\"), exports);\r\n__exportStar(require(\"./Matrix4\"), exports);\r\n__exportStar(require(\"./Mesh\"), exports);\r\n__exportStar(require(\"./NumberUtils\"), exports);\r\n__exportStar(require(\"./PolygonBatcher\"), exports);\r\n__exportStar(require(\"./Shader\"), exports);\r\n__exportStar(require(\"./Sprite\"), exports);\r\n__exportStar(require(\"./ShapeRenderer\"), exports);\r\n__exportStar(require(\"./Texture\"), exports);\r\n__exportStar(require(\"./TextureAtlas\"), exports);\r\n__exportStar(require(\"./TextureRegion\"), exports);\r\n__exportStar(require(\"./Utils\"), exports);\r\n__exportStar(require(\"./Vector2\"), exports);\r\n__exportStar(require(\"./Vector3\"), exports);\r\n__exportStar(require(\"./Viewport\"), exports);\r\n__exportStar(require(\"./ViewportInputHandler\"), exports);\r\n","// Generated by Haxe 3.4.0 (git build development @ d3955c6)\n// with \"haxe -js bin\\hxDaedalus.js --macro include('hxDaedalus') --macro include('hxPixels') --macro include('wings.jsCanvas')\"\n(function ($hx_exports, $global) { \"use strict\";\n$hx_exports[\"wings\"] = $hx_exports[\"wings\"] || {};\n$hx_exports[\"wings\"][\"jsCanvas\"] = $hx_exports[\"wings\"][\"jsCanvas\"] || {};\n;$hx_exports[\"wings\"][\"core\"] = $hx_exports[\"wings\"][\"core\"] || {};\n$hx_exports[\"hxPixels\"] = $hx_exports[\"hxPixels\"] || {};\n$hx_exports[\"hxPixels\"][\"_Pixels\"] = $hx_exports[\"hxPixels\"][\"_Pixels\"] || {};\n$hx_exports[\"hxDaedalus\"] = $hx_exports[\"hxDaedalus\"] || {};\n$hx_exports[\"hxDaedalus\"][\"view\"] = $hx_exports[\"hxDaedalus\"][\"view\"] || {};\n;$hx_exports[\"hxDaedalus\"][\"iterators\"] = $hx_exports[\"hxDaedalus\"][\"iterators\"] || {};\n;$hx_exports[\"hxDaedalus\"][\"factories\"] = $hx_exports[\"hxDaedalus\"][\"factories\"] || {};\n;$hx_exports[\"hxDaedalus\"][\"data\"] = $hx_exports[\"hxDaedalus\"][\"data\"] || {};\n$hx_exports[\"hxDaedalus\"][\"data\"][\"math\"] = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"] || {};\n;$hx_exports[\"hxDaedalus\"][\"data\"][\"graph\"] = $hx_exports[\"hxDaedalus\"][\"data\"][\"graph\"] || {};\n;$hx_exports[\"hxDaedalus\"][\"ai\"] = $hx_exports[\"hxDaedalus\"][\"ai\"] || {};\n$hx_exports[\"hxDaedalus\"][\"ai\"][\"trajectory\"] = $hx_exports[\"hxDaedalus\"][\"ai\"][\"trajectory\"] || {};\nvar $estr = function() { return js_Boot.__string_rec(this,''); };\nfunction $extend(from, fields) {\n\tfunction Inherit() {} Inherit.prototype = from; var proto = new Inherit();\n\tfor (var name in fields) proto[name] = fields[name];\n\tif( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;\n\treturn proto;\n}\nvar HxOverrides = function() { };\nHxOverrides.__name__ = true;\nHxOverrides.cca = function(s,index) {\n\tvar x = s.charCodeAt(index);\n\tif(x != x) {\n\t\treturn undefined;\n\t}\n\treturn x;\n};\nHxOverrides.substr = function(s,pos,len) {\n\tif(len == null) {\n\t\tlen = s.length;\n\t} else if(len < 0) {\n\t\tif(pos == 0) {\n\t\t\tlen = s.length + len;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\treturn s.substr(pos,len);\n};\nMath.__name__ = true;\nvar Std = function() { };\nStd.__name__ = true;\nStd.string = function(s) {\n\treturn js_Boot.__string_rec(s,\"\");\n};\nStd.parseInt = function(x) {\n\tvar v = parseInt(x,10);\n\tif(v == 0 && (HxOverrides.cca(x,1) == 120 || HxOverrides.cca(x,1) == 88)) {\n\t\tv = parseInt(x);\n\t}\n\tif(isNaN(v)) {\n\t\treturn null;\n\t}\n\treturn v;\n};\nvar StringTools = function() { };\nStringTools.__name__ = true;\nStringTools.hex = function(n,digits) {\n\tvar s = \"\";\n\tvar hexChars = \"0123456789ABCDEF\";\n\twhile(true) {\n\t\ts = hexChars.charAt(n & 15) + s;\n\t\tn >>>= 4;\n\t\tif(!(n > 0)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(digits != null) {\n\t\twhile(s.length < digits) s = \"0\" + s;\n\t}\n\treturn s;\n};\nvar haxe_IMap = function() { };\nhaxe_IMap.__name__ = true;\nvar haxe_ds_ObjectMap = function() {\n\tthis.h = { __keys__ : { }};\n};\nhaxe_ds_ObjectMap.__name__ = true;\nhaxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];\nhaxe_ds_ObjectMap.prototype = {\n\tset: function(key,value) {\n\t\tvar id = key.__id__ || (key.__id__ = ++haxe_ds_ObjectMap.count);\n\t\tthis.h[id] = value;\n\t\tthis.h.__keys__[id] = key;\n\t}\n\t,__class__: haxe_ds_ObjectMap\n};\nvar haxe_ds_StringMap = function() {\n\tthis.h = { };\n};\nhaxe_ds_StringMap.__name__ = true;\nhaxe_ds_StringMap.__interfaces__ = [haxe_IMap];\nhaxe_ds_StringMap.prototype = {\n\tsetReserved: function(key,value) {\n\t\tif(this.rh == null) {\n\t\t\tthis.rh = { };\n\t\t}\n\t\tthis.rh[\"$\" + key] = value;\n\t}\n\t,getReserved: function(key) {\n\t\tif(this.rh == null) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn this.rh[\"$\" + key];\n\t\t}\n\t}\n\t,__class__: haxe_ds_StringMap\n};\nvar haxe_io_Bytes = function(data) {\n\tthis.length = data.byteLength;\n\tthis.b = new Uint8Array(data);\n\tthis.b.bufferValue = data;\n\tdata.hxBytes = this;\n\tdata.bytes = this.b;\n};\nhaxe_io_Bytes.__name__ = true;\nhaxe_io_Bytes.prototype = {\n\tblit: function(pos,src,srcpos,len) {\n\t\tif(pos < 0 || srcpos < 0 || len < 0 || pos + len > this.length || srcpos + len > src.length) {\n\t\t\tthrow new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);\n\t\t}\n\t\tif(srcpos == 0 && len == src.b.byteLength) {\n\t\t\tthis.b.set(src.b,pos);\n\t\t} else {\n\t\t\tthis.b.set(src.b.subarray(srcpos,srcpos + len),pos);\n\t\t}\n\t}\n\t,__class__: haxe_io_Bytes\n};\nvar haxe_io_Error = { __ename__ : true, __constructs__ : [\"Blocked\",\"Overflow\",\"OutsideBounds\",\"Custom\"] };\nhaxe_io_Error.Blocked = [\"Blocked\",0];\nhaxe_io_Error.Blocked.toString = $estr;\nhaxe_io_Error.Blocked.__enum__ = haxe_io_Error;\nhaxe_io_Error.Overflow = [\"Overflow\",1];\nhaxe_io_Error.Overflow.toString = $estr;\nhaxe_io_Error.Overflow.__enum__ = haxe_io_Error;\nhaxe_io_Error.OutsideBounds = [\"OutsideBounds\",2];\nhaxe_io_Error.OutsideBounds.toString = $estr;\nhaxe_io_Error.OutsideBounds.__enum__ = haxe_io_Error;\nhaxe_io_Error.Custom = function(e) { var $x = [\"Custom\",3,e]; $x.__enum__ = haxe_io_Error; $x.toString = $estr; return $x; };\nvar hxDaedalus_ai_AStar = $hx_exports[\"hxDaedalus\"][\"ai\"][\"AStar\"] = function() {\n\tthis.iterEdge = new hxDaedalus_iterators_FromFaceToInnerEdges();\n};\nhxDaedalus_ai_AStar.__name__ = true;\nhxDaedalus_ai_AStar.prototype = {\n\tdispose: function() {\n\t\tthis._mesh = null;\n\t\tthis.closedFaces = null;\n\t\tthis.sortedOpenedFaces = null;\n\t\tthis.openedFaces = null;\n\t\tthis.entryEdges = null;\n\t\tthis.entryX = null;\n\t\tthis.entryY = null;\n\t\tthis.scoreF = null;\n\t\tthis.scoreG = null;\n\t\tthis.scoreH = null;\n\t\tthis.predecessor = null;\n\t}\n\t,get_radius: function() {\n\t\treturn this._radius;\n\t}\n\t,set_radius: function(value) {\n\t\tthis._radius = value;\n\t\tthis.radiusSquared = this._radius * this._radius;\n\t\tthis.diameter = this._radius * 2;\n\t\tthis.diameterSquared = this.diameter * this.diameter;\n\t\treturn value;\n\t}\n\t,set_mesh: function(value) {\n\t\tthis._mesh = value;\n\t\treturn value;\n\t}\n\t,findPath: function(fromX,fromY,toX,toY,resultListFaces,resultListEdges) {\n\t\tthis.closedFaces = new haxe_ds_ObjectMap();\n\t\tthis.sortedOpenedFaces = [];\n\t\tthis.openedFaces = new haxe_ds_ObjectMap();\n\t\tthis.entryEdges = new haxe_ds_ObjectMap();\n\t\tthis.entryX = new haxe_ds_ObjectMap();\n\t\tthis.entryY = new haxe_ds_ObjectMap();\n\t\tthis.scoreF = new haxe_ds_ObjectMap();\n\t\tthis.scoreG = new haxe_ds_ObjectMap();\n\t\tthis.scoreH = new haxe_ds_ObjectMap();\n\t\tthis.predecessor = new haxe_ds_ObjectMap();\n\t\tvar loc;\n\t\tvar locEdge;\n\t\tvar locVertex;\n\t\tvar distance;\n\t\tvar p1;\n\t\tvar p2;\n\t\tvar p3;\n\t\tloc = hxDaedalus_data_math_Geom2D.locatePosition(fromX,fromY,this._mesh);\n\t\tswitch(loc[1]) {\n\t\tcase 0:\n\t\t\tvar vertex = loc[2];\n\t\t\tlocVertex = vertex;\n\t\t\treturn;\n\t\tcase 1:\n\t\t\tvar edge = loc[2];\n\t\t\tlocEdge = edge;\n\t\t\tif(locEdge.get_isConstrained()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.fromFace = locEdge.get_leftFace();\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tvar face = loc[2];\n\t\t\tthis.fromFace = face;\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tbreak;\n\t\t}\n\t\tloc = hxDaedalus_data_math_Geom2D.locatePosition(toX,toY,this._mesh);\n\t\tswitch(loc[1]) {\n\t\tcase 0:\n\t\t\tvar vertex1 = loc[2];\n\t\t\tlocVertex = vertex1;\n\t\t\tthis.toFace = locVertex.get_edge().get_leftFace();\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tvar edge1 = loc[2];\n\t\t\tlocEdge = edge1;\n\t\t\tthis.toFace = locEdge.get_leftFace();\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tvar face1 = loc[2];\n\t\t\tthis.toFace = face1;\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tbreak;\n\t\t}\n\t\tthis.sortedOpenedFaces.push(this.fromFace);\n\t\tthis.entryEdges.set(this.fromFace,null);\n\t\tthis.entryX.set(this.fromFace,fromX);\n\t\tthis.entryY.set(this.fromFace,fromY);\n\t\tthis.scoreG.set(this.fromFace,0);\n\t\tvar dist = Math.sqrt((toX - fromX) * (toX - fromX) + (toY - fromY) * (toY - fromY));\n\t\tthis.scoreH.set(this.fromFace,dist);\n\t\tthis.scoreF.set(this.fromFace,dist);\n\t\tvar innerEdge;\n\t\tvar neighbourFace;\n\t\tvar f;\n\t\tvar g;\n\t\tvar h;\n\t\tvar fromPoint = new hxDaedalus_data_math_Point2D();\n\t\tvar entryPoint = new hxDaedalus_data_math_Point2D();\n\t\tvar distancePoint = new hxDaedalus_data_math_Point2D();\n\t\tvar fillDatas;\n\t\twhile(true) {\n\t\t\tif(this.sortedOpenedFaces.length == 0) {\n\t\t\t\tthis.curFace = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.curFace = this.sortedOpenedFaces.pop();\n\t\t\tif(this.curFace == this.toFace) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.iterEdge.set_fromFace(this.curFace);\n\t\t\twhile(true) {\n\t\t\t\tinnerEdge = this.iterEdge.next();\n\t\t\t\tif(!(innerEdge != null)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(innerEdge.get_isConstrained()) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tneighbourFace = innerEdge.get_rightFace();\n\t\t\t\tif(!this.closedFaces.h[neighbourFace.__id__]) {\n\t\t\t\t\tif(this.curFace != this.fromFace && this._radius > 0 && !this.isWalkableByRadius(this.entryEdges.h[this.curFace.__id__],this.curFace,innerEdge)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfromPoint.x = this.entryX.h[this.curFace.__id__];\n\t\t\t\t\tfromPoint.y = this.entryY.h[this.curFace.__id__];\n\t\t\t\t\tentryPoint.x = (innerEdge.get_originVertex().get_pos().x + innerEdge.get_destinationVertex().get_pos().x) / 2;\n\t\t\t\t\tentryPoint.y = (innerEdge.get_originVertex().get_pos().y + innerEdge.get_destinationVertex().get_pos().y) / 2;\n\t\t\t\t\tdistancePoint.x = entryPoint.x - toX;\n\t\t\t\t\tdistancePoint.y = entryPoint.y - toY;\n\t\t\t\t\th = distancePoint.get_length();\n\t\t\t\t\tdistancePoint.x = fromPoint.x - entryPoint.x;\n\t\t\t\t\tdistancePoint.y = fromPoint.y - entryPoint.y;\n\t\t\t\t\tg = this.scoreG.h[this.curFace.__id__] + distancePoint.get_length();\n\t\t\t\t\tf = h + g;\n\t\t\t\t\tfillDatas = false;\n\t\t\t\t\tif(this.openedFaces.h[neighbourFace.__id__] == null || !this.openedFaces.h[neighbourFace.__id__]) {\n\t\t\t\t\t\tthis.sortedOpenedFaces.push(neighbourFace);\n\t\t\t\t\t\tthis.openedFaces.set(neighbourFace,true);\n\t\t\t\t\t\tfillDatas = true;\n\t\t\t\t\t} else if(this.scoreF.h[neighbourFace.__id__] > f) {\n\t\t\t\t\t\tfillDatas = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(fillDatas) {\n\t\t\t\t\t\tthis.entryEdges.set(neighbourFace,innerEdge);\n\t\t\t\t\t\tvar v = entryPoint.x;\n\t\t\t\t\t\tthis.entryX.set(neighbourFace,v);\n\t\t\t\t\t\tvar v1 = entryPoint.y;\n\t\t\t\t\t\tthis.entryY.set(neighbourFace,v1);\n\t\t\t\t\t\tthis.scoreF.set(neighbourFace,f);\n\t\t\t\t\t\tthis.scoreG.set(neighbourFace,g);\n\t\t\t\t\t\tthis.scoreH.set(neighbourFace,h);\n\t\t\t\t\t\tvar v2 = this.curFace;\n\t\t\t\t\t\tthis.predecessor.set(neighbourFace,v2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.openedFaces.set(this.curFace,false);\n\t\t\tthis.closedFaces.set(this.curFace,true);\n\t\t\tthis.sortedOpenedFaces.sort($bind(this,this.sortingFaces));\n\t\t}\n\t\tif(this.curFace == null) {\n\t\t\treturn;\n\t\t}\n\t\tresultListFaces.push(this.curFace);\n\t\twhile(this.curFace != this.fromFace) {\n\t\t\tresultListEdges.unshift(this.entryEdges.h[this.curFace.__id__]);\n\t\t\tthis.curFace = this.predecessor.h[this.curFace.__id__];\n\t\t\tresultListFaces.unshift(this.curFace);\n\t\t}\n\t}\n\t,sortingFaces: function(a,b) {\n\t\tif(this.scoreF.h[a.__id__] == this.scoreF.h[b.__id__]) {\n\t\t\treturn 0;\n\t\t} else if(this.scoreF.h[a.__id__] < this.scoreF.h[b.__id__]) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\t,isWalkableByRadius: function(fromEdge,throughFace,toEdge) {\n\t\tvar vA = null;\n\t\tvar vB = null;\n\t\tvar vC = null;\n\t\tif(fromEdge.get_originVertex() == toEdge.get_originVertex()) {\n\t\t\tvA = fromEdge.get_destinationVertex();\n\t\t\tvB = toEdge.get_destinationVertex();\n\t\t\tvC = fromEdge.get_originVertex();\n\t\t} else if(fromEdge.get_destinationVertex() == toEdge.get_destinationVertex()) {\n\t\t\tvA = fromEdge.get_originVertex();\n\t\t\tvB = toEdge.get_originVertex();\n\t\t\tvC = fromEdge.get_destinationVertex();\n\t\t} else if(fromEdge.get_originVertex() == toEdge.get_destinationVertex()) {\n\t\t\tvA = fromEdge.get_destinationVertex();\n\t\t\tvB = toEdge.get_originVertex();\n\t\t\tvC = fromEdge.get_originVertex();\n\t\t} else if(fromEdge.get_destinationVertex() == toEdge.get_originVertex()) {\n\t\t\tvA = fromEdge.get_originVertex();\n\t\t\tvB = toEdge.get_destinationVertex();\n\t\t\tvC = fromEdge.get_destinationVertex();\n\t\t}\n\t\tvar dot;\n\t\tvar result;\n\t\tvar distSquared;\n\t\tdot = (vC.get_pos().x - vA.get_pos().x) * (vB.get_pos().x - vA.get_pos().x) + (vC.get_pos().y - vA.get_pos().y) * (vB.get_pos().y - vA.get_pos().y);\n\t\tif(dot <= 0) {\n\t\t\tdistSquared = (vC.get_pos().x - vA.get_pos().x) * (vC.get_pos().x - vA.get_pos().x) + (vC.get_pos().y - vA.get_pos().y) * (vC.get_pos().y - vA.get_pos().y);\n\t\t\tif(distSquared >= this.diameterSquared) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tdot = (vC.get_pos().x - vB.get_pos().x) * (vA.get_pos().x - vB.get_pos().x) + (vC.get_pos().y - vB.get_pos().y) * (vA.get_pos().y - vB.get_pos().y);\n\t\tif(dot <= 0) {\n\t\t\tdistSquared = (vC.get_pos().x - vB.get_pos().x) * (vC.get_pos().x - vB.get_pos().x) + (vC.get_pos().y - vB.get_pos().y) * (vC.get_pos().y - vB.get_pos().y);\n\t\t\tif(distSquared >= this.diameterSquared) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tvar adjEdge;\n\t\tif(throughFace.get_edge() != fromEdge && throughFace.get_edge().get_oppositeEdge() != fromEdge && throughFace.get_edge() != toEdge && throughFace.get_edge().get_oppositeEdge() != toEdge) {\n\t\t\tadjEdge = throughFace.get_edge();\n\t\t} else if(throughFace.get_edge().get_nextLeftEdge() != fromEdge && throughFace.get_edge().get_nextLeftEdge().get_oppositeEdge() != fromEdge && throughFace.get_edge().get_nextLeftEdge() != toEdge && throughFace.get_edge().get_nextLeftEdge().get_oppositeEdge() != toEdge) {\n\t\t\tadjEdge = throughFace.get_edge().get_nextLeftEdge();\n\t\t} else {\n\t\t\tadjEdge = throughFace.get_edge().get_prevLeftEdge();\n\t\t}\n\t\tif(adjEdge.get_isConstrained()) {\n\t\t\tvar proj = new hxDaedalus_data_math_Point2D(vC.get_pos().x,vC.get_pos().y);\n\t\t\thxDaedalus_data_math_Geom2D.projectOrthogonaly(proj,adjEdge);\n\t\t\tdistSquared = (proj.x - vC.get_pos().x) * (proj.x - vC.get_pos().x) + (proj.y - vC.get_pos().y) * (proj.y - vC.get_pos().y);\n\t\t\tif(distSquared >= this.diameterSquared) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tvar distSquaredA = (vC.get_pos().x - vA.get_pos().x) * (vC.get_pos().x - vA.get_pos().x) + (vC.get_pos().y - vA.get_pos().y) * (vC.get_pos().y - vA.get_pos().y);\n\t\t\tvar distSquaredB = (vC.get_pos().x - vB.get_pos().x) * (vC.get_pos().x - vB.get_pos().x) + (vC.get_pos().y - vB.get_pos().y) * (vC.get_pos().y - vB.get_pos().y);\n\t\t\tif(distSquaredA < this.diameterSquared || distSquaredB < this.diameterSquared) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tvar vFaceToCheck = [];\n\t\t\t\tvar vFaceIsFromEdge = [];\n\t\t\t\tvar facesDone = new haxe_ds_ObjectMap();\n\t\t\t\tvFaceIsFromEdge.push(adjEdge);\n\t\t\t\tif(adjEdge.get_leftFace() == throughFace) {\n\t\t\t\t\tvFaceToCheck.push(adjEdge.get_rightFace());\n\t\t\t\t\tfacesDone.set(adjEdge.get_rightFace(),true);\n\t\t\t\t} else {\n\t\t\t\t\tvFaceToCheck.push(adjEdge.get_leftFace());\n\t\t\t\t\tfacesDone.set(adjEdge.get_leftFace(),true);\n\t\t\t\t}\n\t\t\t\tvar currFace;\n\t\t\t\tvar faceFromEdge;\n\t\t\t\tvar currEdgeA;\n\t\t\t\tvar nextFaceA;\n\t\t\t\tvar currEdgeB;\n\t\t\t\tvar nextFaceB;\n\t\t\t\twhile(vFaceToCheck.length > 0) {\n\t\t\t\t\tcurrFace = vFaceToCheck.shift();\n\t\t\t\t\tfaceFromEdge = vFaceIsFromEdge.shift();\n\t\t\t\t\tif(currFace.get_edge() == faceFromEdge || currFace.get_edge() == faceFromEdge.get_oppositeEdge()) {\n\t\t\t\t\t\tcurrEdgeA = currFace.get_edge().get_nextLeftEdge();\n\t\t\t\t\t\tcurrEdgeB = currFace.get_edge().get_nextLeftEdge().get_nextLeftEdge();\n\t\t\t\t\t} else if(currFace.get_edge().get_nextLeftEdge() == faceFromEdge || currFace.get_edge().get_nextLeftEdge() == faceFromEdge.get_oppositeEdge()) {\n\t\t\t\t\t\tcurrEdgeA = currFace.get_edge();\n\t\t\t\t\t\tcurrEdgeB = currFace.get_edge().get_nextLeftEdge().get_nextLeftEdge();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrEdgeA = currFace.get_edge();\n\t\t\t\t\t\tcurrEdgeB = currFace.get_edge().get_nextLeftEdge();\n\t\t\t\t\t}\n\t\t\t\t\tif(currEdgeA.get_leftFace() == currFace) {\n\t\t\t\t\t\tnextFaceA = currEdgeA.get_rightFace();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextFaceA = currEdgeA.get_leftFace();\n\t\t\t\t\t}\n\t\t\t\t\tif(currEdgeB.get_leftFace() == currFace) {\n\t\t\t\t\t\tnextFaceB = currEdgeB.get_rightFace();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextFaceB = currEdgeB.get_leftFace();\n\t\t\t\t\t}\n\t\t\t\t\tif(!facesDone.h[nextFaceA.__id__] && hxDaedalus_data_math_Geom2D.distanceSquaredVertexToEdge(vC,currEdgeA) < this.diameterSquared) {\n\t\t\t\t\t\tif(currEdgeA.get_isConstrained()) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvFaceToCheck.push(nextFaceA);\n\t\t\t\t\t\t\tvFaceIsFromEdge.push(currEdgeA);\n\t\t\t\t\t\t\tfacesDone.set(nextFaceA,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!facesDone.h[nextFaceB.__id__] && hxDaedalus_data_math_Geom2D.distanceSquaredVertexToEdge(vC,currEdgeB) < this.diameterSquared) {\n\t\t\t\t\t\tif(currEdgeB.get_isConstrained()) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvFaceToCheck.push(nextFaceB);\n\t\t\t\t\t\t\tvFaceIsFromEdge.push(currEdgeB);\n\t\t\t\t\t\t\tfacesDone.set(nextFaceB,true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\t,__class__: hxDaedalus_ai_AStar\n};\nvar hxDaedalus_ai_EntityAI = $hx_exports[\"hxDaedalus\"][\"ai\"][\"EntityAI\"] = function() {\n\tthis._radius = 10;\n\tthis.x = this.y = 0;\n\tthis.dirNormX = 1;\n\tthis.dirNormY = 0;\n};\nhxDaedalus_ai_EntityAI.__name__ = true;\nhxDaedalus_ai_EntityAI.prototype = {\n\tbuildApproximation: function() {\n\t\tthis._approximateObject = new hxDaedalus_data_Object();\n\t\tthis._approximateObject.get_matrix().translate(this.x,this.y);\n\t\tvar coordinates = [];\n\t\tthis._approximateObject.set_coordinates(coordinates);\n\t\tif(this._radius == 0) {\n\t\t\treturn;\n\t\t}\n\t\tvar _g = 0;\n\t\twhile(_g < 6) {\n\t\t\tvar i = _g++;\n\t\t\tcoordinates.push(this._radius * Math.cos(2 * Math.PI * i / 6));\n\t\t\tcoordinates.push(this._radius * Math.sin(2 * Math.PI * i / 6));\n\t\t\tcoordinates.push(this._radius * Math.cos(2 * Math.PI * (i + 1) / 6));\n\t\t\tcoordinates.push(this._radius * Math.sin(2 * Math.PI * (i + 1) / 6));\n\t\t}\n\t}\n\t,get_approximateObject: function() {\n\t\tthis._approximateObject.get_matrix().identity();\n\t\tthis._approximateObject.get_matrix().translate(this.x,this.y);\n\t\treturn this._approximateObject;\n\t}\n\t,get_radius: function() {\n\t\treturn this._radius;\n\t}\n\t,get_radiusSquared: function() {\n\t\treturn this._radiusSquared;\n\t}\n\t,set_radius: function(value) {\n\t\tthis._radius = value;\n\t\tthis._radiusSquared = this._radius * this._radius;\n\t\treturn value;\n\t}\n\t,__class__: hxDaedalus_ai_EntityAI\n};\nvar hxDaedalus_ai_Funnel = $hx_exports[\"hxDaedalus\"][\"ai\"][\"Funnel\"] = function() {\n\tthis._currPoolPointsIndex = 0;\n\tthis._poolPointsSize = 3000;\n\tthis._numSamplesCircle = 16;\n\tthis._radiusSquared = 0;\n\tthis._radius = 0;\n\tthis._poolPoints = [];\n\tvar _g1 = 0;\n\tvar _g = this._poolPointsSize;\n\twhile(_g1 < _g) {\n\t\tvar i = _g1++;\n\t\tthis._poolPoints.push(new hxDaedalus_data_math_Point2D());\n\t}\n};\nhxDaedalus_ai_Funnel.__name__ = true;\nhxDaedalus_ai_Funnel.prototype = {\n\tdispose: function() {\n\t\tthis._sampleCircle = null;\n\t}\n\t,getPoint: function(x,y) {\n\t\tif(y == null) {\n\t\t\ty = 0;\n\t\t}\n\t\tif(x == null) {\n\t\t\tx = 0;\n\t\t}\n\t\tthis.__point = this._poolPoints[this._currPoolPointsIndex];\n\t\tthis.__point.setXY(x,y);\n\t\tthis._currPoolPointsIndex++;\n\t\tif(this._currPoolPointsIndex == this._poolPointsSize) {\n\t\t\tthis._poolPoints.push(new hxDaedalus_data_math_Point2D());\n\t\t\tthis._poolPointsSize++;\n\t\t}\n\t\treturn this.__point;\n\t}\n\t,getCopyPoint: function(pointToCopy) {\n\t\treturn this.getPoint(pointToCopy.x,pointToCopy.y);\n\t}\n\t,get_radius: function() {\n\t\treturn this._radius;\n\t}\n\t,set_radius: function(value) {\n\t\tthis._radius = Math.max(0,value);\n\t\tthis._radiusSquared = this._radius * this._radius;\n\t\tthis._sampleCircle = [];\n\t\tif(this.get_radius() == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tvar _g1 = 0;\n\t\tvar _g = this._numSamplesCircle;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tthis._sampleCircle.push(new hxDaedalus_data_math_Point2D(this._radius * Math.cos(-2 * Math.PI * i / this._numSamplesCircle),this._radius * Math.sin(-2 * Math.PI * i / this._numSamplesCircle)));\n\t\t}\n\t\tthis._sampleCircleDistanceSquared = (this._sampleCircle[0].x - this._sampleCircle[1].x) * (this._sampleCircle[0].x - this._sampleCircle[1].x) + (this._sampleCircle[0].y - this._sampleCircle[1].y) * (this._sampleCircle[0].y - this._sampleCircle[1].y);\n\t\treturn this._radius;\n\t}\n\t,findPath: function(fromX,fromY,toX,toY,listFaces,listEdges,resultPath) {\n\t\tthis._currPoolPointsIndex = 0;\n\t\tif(this._radius > 0) {\n\t\t\tvar checkFace = listFaces[0];\n\t\t\tvar distanceSquared;\n\t\t\tvar distance;\n\t\t\tvar p1;\n\t\t\tvar p2;\n\t\t\tvar p3;\n\t\t\tp1 = checkFace.get_edge().get_originVertex().get_pos();\n\t\t\tp2 = checkFace.get_edge().get_destinationVertex().get_pos();\n\t\t\tp3 = checkFace.get_edge().get_nextLeftEdge().get_destinationVertex().get_pos();\n\t\t\tdistanceSquared = (p1.x - fromX) * (p1.x - fromX) + (p1.y - fromY) * (p1.y - fromY);\n\t\t\tif(distanceSquared <= this._radiusSquared) {\n\t\t\t\tdistance = Math.sqrt(distanceSquared);\n\t\t\t\tfromX = this._radius * 1.01 * ((fromX - p1.x) / distance) + p1.x;\n\t\t\t\tfromY = this._radius * 1.01 * ((fromY - p1.y) / distance) + p1.y;\n\t\t\t} else {\n\t\t\t\tdistanceSquared = (p2.x - fromX) * (p2.x - fromX) + (p2.y - fromY) * (p2.y - fromY);\n\t\t\t\tif(distanceSquared <= this._radiusSquared) {\n\t\t\t\t\tdistance = Math.sqrt(distanceSquared);\n\t\t\t\t\tfromX = this._radius * 1.01 * ((fromX - p2.x) / distance) + p2.x;\n\t\t\t\t\tfromY = this._radius * 1.01 * ((fromY - p2.y) / distance) + p2.y;\n\t\t\t\t} else {\n\t\t\t\t\tdistanceSquared = (p3.x - fromX) * (p3.x - fromX) + (p3.y - fromY) * (p3.y - fromY);\n\t\t\t\t\tif(distanceSquared <= this._radiusSquared) {\n\t\t\t\t\t\tdistance = Math.sqrt(distanceSquared);\n\t\t\t\t\t\tfromX = this._radius * 1.01 * ((fromX - p3.x) / distance) + p3.x;\n\t\t\t\t\t\tfromY = this._radius * 1.01 * ((fromY - p3.y) / distance) + p3.y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcheckFace = listFaces[listFaces.length - 1];\n\t\t\tp1 = checkFace.get_edge().get_originVertex().get_pos();\n\t\t\tp2 = checkFace.get_edge().get_destinationVertex().get_pos();\n\t\t\tp3 = checkFace.get_edge().get_nextLeftEdge().get_destinationVertex().get_pos();\n\t\t\tdistanceSquared = (p1.x - toX) * (p1.x - toX) + (p1.y - toY) * (p1.y - toY);\n\t\t\tif(distanceSquared <= this._radiusSquared) {\n\t\t\t\tdistance = Math.sqrt(distanceSquared);\n\t\t\t\ttoX = this._radius * 1.01 * ((toX - p1.x) / distance) + p1.x;\n\t\t\t\ttoY = this._radius * 1.01 * ((toY - p1.y) / distance) + p1.y;\n\t\t\t} else {\n\t\t\t\tdistanceSquared = (p2.x - toX) * (p2.x - toX) + (p2.y - toY) * (p2.y - toY);\n\t\t\t\tif(distanceSquared <= this._radiusSquared) {\n\t\t\t\t\tdistance = Math.sqrt(distanceSquared);\n\t\t\t\t\ttoX = this._radius * 1.01 * ((toX - p2.x) / distance) + p2.x;\n\t\t\t\t\ttoY = this._radius * 1.01 * ((toY - p2.y) / distance) + p2.y;\n\t\t\t\t} else {\n\t\t\t\t\tdistanceSquared = (p3.x - toX) * (p3.x - toX) + (p3.y - toY) * (p3.y - toY);\n\t\t\t\t\tif(distanceSquared <= this._radiusSquared) {\n\t\t\t\t\t\tdistance = Math.sqrt(distanceSquared);\n\t\t\t\t\t\ttoX = this._radius * 1.01 * ((toX - p3.x) / distance) + p3.x;\n\t\t\t\t\t\ttoY = this._radius * 1.01 * ((toY - p3.y) / distance) + p3.y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar startPoint;\n\t\tvar endPoint;\n\t\tstartPoint = new hxDaedalus_data_math_Point2D(fromX,fromY);\n\t\tendPoint = new hxDaedalus_data_math_Point2D(toX,toY);\n\t\tif(listFaces.length == 1) {\n\t\t\tresultPath.push(startPoint.x);\n\t\t\tresultPath.push(startPoint.y);\n\t\t\tresultPath.push(endPoint.x);\n\t\t\tresultPath.push(endPoint.y);\n\t\t\treturn;\n\t\t}\n\t\tvar i;\n\t\tvar j;\n\t\tvar k;\n\t\tvar currEdge = null;\n\t\tvar currVertex = null;\n\t\tvar direction;\n\t\tvar _g = hxDaedalus_data_math_Geom2D.isInFace(fromX,fromY,listFaces[0]);\n\t\tif(_g[1] == 1) {\n\t\t\tvar edge = _g[2];\n\t\t\tif(listEdges[0] == edge) {\n\t\t\t\tlistEdges.shift();\n\t\t\t\tlistFaces.shift();\n\t\t\t}\n\t\t}\n\t\tvar funnelLeft = [];\n\t\tvar funnelRight = [];\n\t\tfunnelLeft.push(startPoint);\n\t\tfunnelRight.push(startPoint);\n\t\tvar verticesDoneSide = new haxe_ds_ObjectMap();\n\t\tvar pointsList = [];\n\t\tvar pointSides = new haxe_ds_ObjectMap();\n\t\tvar pointSuccessor = new haxe_ds_ObjectMap();\n\t\tpointSides.set(startPoint,0);\n\t\tcurrEdge = listEdges[0];\n\t\tvar relativPos = hxDaedalus_data_math_Geom2D.getRelativePosition2(fromX,fromY,currEdge);\n\t\tvar prevPoint;\n\t\tvar newPointA;\n\t\tvar newPointB;\n\t\tnewPointA = this.getCopyPoint(currEdge.get_destinationVertex().get_pos());\n\t\tnewPointB = this.getCopyPoint(currEdge.get_originVertex().get_pos());\n\t\tpointsList.push(newPointA);\n\t\tpointsList.push(newPointB);\n\t\tpointSuccessor.set(startPoint,newPointA);\n\t\tpointSuccessor.set(newPointA,newPointB);\n\t\tprevPoint = newPointB;\n\t\tif(relativPos == 1) {\n\t\t\tpointSides.set(newPointA,1);\n\t\t\tpointSides.set(newPointB,-1);\n\t\t\tverticesDoneSide.set(currEdge.get_destinationVertex(),1);\n\t\t\tverticesDoneSide.set(currEdge.get_originVertex(),-1);\n\t\t} else if(relativPos == -1) {\n\t\t\tpointSides.set(newPointA,-1);\n\t\t\tpointSides.set(newPointB,1);\n\t\t\tverticesDoneSide.set(currEdge.get_destinationVertex(),-1);\n\t\t\tverticesDoneSide.set(currEdge.get_originVertex(),1);\n\t\t}\n\t\tvar fromVertex = listEdges[0].get_originVertex();\n\t\tvar fromFromVertex = listEdges[0].get_destinationVertex();\n\t\tvar _g2 = 1;\n\t\tvar _g1 = listEdges.length;\n\t\twhile(_g2 < _g1) {\n\t\t\tvar i1 = _g2++;\n\t\t\tcurrEdge = listEdges[i1];\n\t\t\tif(currEdge.get_originVertex() == fromVertex) {\n\t\t\t\tcurrVertex = currEdge.get_destinationVertex();\n\t\t\t} else if(currEdge.get_destinationVertex() == fromVertex) {\n\t\t\t\tcurrVertex = currEdge.get_originVertex();\n\t\t\t} else if(currEdge.get_originVertex() == fromFromVertex) {\n\t\t\t\tcurrVertex = currEdge.get_destinationVertex();\n\t\t\t\tfromVertex = fromFromVertex;\n\t\t\t} else if(currEdge.get_destinationVertex() == fromFromVertex) {\n\t\t\t\tcurrVertex = currEdge.get_originVertex();\n\t\t\t\tfromVertex = fromFromVertex;\n\t\t\t}\n\t\t\tnewPointA = this.getCopyPoint(currVertex.get_pos());\n\t\t\tpointsList.push(newPointA);\n\t\t\tdirection = -verticesDoneSide.h[fromVertex.__id__];\n\t\t\tpointSides.set(newPointA,direction);\n\t\t\tpointSuccessor.set(prevPoint,newPointA);\n\t\t\tverticesDoneSide.set(currVertex,direction);\n\t\t\tprevPoint = newPointA;\n\t\t\tfromFromVertex = fromVertex;\n\t\t\tfromVertex = currVertex;\n\t\t}\n\t\tpointSuccessor.set(prevPoint,endPoint);\n\t\tpointSides.set(endPoint,0);\n\t\tvar pathPoints = [];\n\t\tvar pathSides = new haxe_ds_ObjectMap();\n\t\tpathPoints.push(startPoint);\n\t\tpathSides.set(startPoint,0);\n\t\tvar currPos;\n\t\tvar _g21 = 0;\n\t\tvar _g11 = pointsList.length;\n\t\twhile(_g21 < _g11) {\n\t\t\tvar i2 = _g21++;\n\t\t\tcurrPos = pointsList[i2];\n\t\t\tif(pointSides.h[currPos.__id__] == -1) {\n\t\t\t\tj = funnelLeft.length - 2;\n\t\t\t\twhile(j >= 0) {\n\t\t\t\t\tdirection = hxDaedalus_data_math_Geom2D.getDirection(funnelLeft[j].x,funnelLeft[j].y,funnelLeft[j + 1].x,funnelLeft[j + 1].y,currPos.x,currPos.y);\n\t\t\t\t\tif(direction != -1) {\n\t\t\t\t\t\tfunnelLeft.shift();\n\t\t\t\t\t\tvar _g4 = 0;\n\t\t\t\t\t\tvar _g3 = j;\n\t\t\t\t\t\twhile(_g4 < _g3) {\n\t\t\t\t\t\t\tvar k1 = _g4++;\n\t\t\t\t\t\t\tpathPoints.push(funnelLeft[0]);\n\t\t\t\t\t\t\tpathSides.set(funnelLeft[0],1);\n\t\t\t\t\t\t\tfunnelLeft.shift();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpathPoints.push(funnelLeft[0]);\n\t\t\t\t\t\tpathSides.set(funnelLeft[0],1);\n\t\t\t\t\t\tfunnelRight.splice(0,funnelRight.length);\n\t\t\t\t\t\tfunnelRight.push(funnelLeft[0]);\n\t\t\t\t\t\tfunnelRight.push(currPos);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t--j;\n\t\t\t\t}\n\t\t\t\tfunnelRight.push(currPos);\n\t\t\t\tj = funnelRight.length - 3;\n\t\t\t\twhile(j >= 0) {\n\t\t\t\t\tdirection = hxDaedalus_data_math_Geom2D.getDirection(funnelRight[j].x,funnelRight[j].y,funnelRight[j + 1].x,funnelRight[j + 1].y,currPos.x,currPos.y);\n\t\t\t\t\tif(direction == -1) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfunnelRight.splice(j + 1,1);\n\t\t\t\t\t}\n\t\t\t\t\t--j;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tj = funnelRight.length - 2;\n\t\t\t\twhile(j >= 0) {\n\t\t\t\t\tdirection = hxDaedalus_data_math_Geom2D.getDirection(funnelRight[j].x,funnelRight[j].y,funnelRight[j + 1].x,funnelRight[j + 1].y,currPos.x,currPos.y);\n\t\t\t\t\tif(direction != 1) {\n\t\t\t\t\t\tfunnelRight.shift();\n\t\t\t\t\t\tvar _g41 = 0;\n\t\t\t\t\t\tvar _g31 = j;\n\t\t\t\t\t\twhile(_g41 < _g31) {\n\t\t\t\t\t\t\tvar k2 = _g41++;\n\t\t\t\t\t\t\tpathPoints.push(funnelRight[0]);\n\t\t\t\t\t\t\tpathSides.set(funnelRight[0],-1);\n\t\t\t\t\t\t\tfunnelRight.shift();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpathPoints.push(funnelRight[0]);\n\t\t\t\t\t\tpathSides.set(funnelRight[0],-1);\n\t\t\t\t\t\tfunnelLeft.splice(0,funnelLeft.length);\n\t\t\t\t\t\tfunnelLeft.push(funnelRight[0]);\n\t\t\t\t\t\tfunnelLeft.push(currPos);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t--j;\n\t\t\t\t}\n\t\t\t\tfunnelLeft.push(currPos);\n\t\t\t\tj = funnelLeft.length - 3;\n\t\t\t\twhile(j >= 0) {\n\t\t\t\t\tdirection = hxDaedalus_data_math_Geom2D.getDirection(funnelLeft[j].x,funnelLeft[j].y,funnelLeft[j + 1].x,funnelLeft[j + 1].y,currPos.x,currPos.y);\n\t\t\t\t\tif(direction == 1) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfunnelLeft.splice(j + 1,1);\n\t\t\t\t\t}\n\t\t\t\t\t--j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar blocked = false;\n\t\tj = funnelRight.length - 2;\n\t\twhile(j >= 0) {\n\t\t\tdirection = hxDaedalus_data_math_Geom2D.getDirection(funnelRight[j].x,funnelRight[j].y,funnelRight[j + 1].x,funnelRight[j + 1].y,toX,toY);\n\t\t\tif(direction != 1) {\n\t\t\t\tfunnelRight.shift();\n\t\t\t\tvar _g22 = 0;\n\t\t\t\tvar _g12 = j + 1;\n\t\t\t\twhile(_g22 < _g12) {\n\t\t\t\t\tvar k3 = _g22++;\n\t\t\t\t\tpathPoints.push(funnelRight[0]);\n\t\t\t\t\tpathSides.set(funnelRight[0],-1);\n\t\t\t\t\tfunnelRight.shift();\n\t\t\t\t}\n\t\t\t\tpathPoints.push(endPoint);\n\t\t\t\tpathSides.set(endPoint,0);\n\t\t\t\tblocked = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t--j;\n\t\t}\n\t\tif(!blocked) {\n\t\t\tj = funnelLeft.length - 2;\n\t\t\twhile(j >= 0) {\n\t\t\t\tdirection = hxDaedalus_data_math_Geom2D.getDirection(funnelLeft[j].x,funnelLeft[j].y,funnelLeft[j + 1].x,funnelLeft[j + 1].y,toX,toY);\n\t\t\t\tif(direction != -1) {\n\t\t\t\t\tfunnelLeft.shift();\n\t\t\t\t\tvar _g23 = 0;\n\t\t\t\t\tvar _g13 = j + 1;\n\t\t\t\t\twhile(_g23 < _g13) {\n\t\t\t\t\t\tvar k4 = _g23++;\n\t\t\t\t\t\tpathPoints.push(funnelLeft[0]);\n\t\t\t\t\t\tpathSides.set(funnelLeft[0],1);\n\t\t\t\t\t\tfunnelLeft.shift();\n\t\t\t\t\t}\n\t\t\t\t\tpathPoints.push(endPoint);\n\t\t\t\t\tpathSides.set(endPoint,0);\n\t\t\t\t\tblocked = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t--j;\n\t\t\t}\n\t\t}\n\t\tif(!blocked) {\n\t\t\tpathPoints.push(endPoint);\n\t\t\tpathSides.set(endPoint,0);\n\t\t\tblocked = true;\n\t\t}\n\t\tvar adjustedPoints = [];\n\t\tif(this.get_radius() > 0) {\n\t\t\tvar newPath = [];\n\t\t\tif(pathPoints.length == 2) {\n\t\t\t\tthis.adjustWithTangents(pathPoints[0],false,pathPoints[1],false,pointSides,pointSuccessor,newPath,adjustedPoints);\n\t\t\t} else if(pathPoints.length > 2) {\n\t\t\t\tthis.adjustWithTangents(pathPoints[0],false,pathPoints[1],true,pointSides,pointSuccessor,newPath,adjustedPoints);\n\t\t\t\tif(pathPoints.length > 3) {\n\t\t\t\t\tvar _g24 = 1;\n\t\t\t\t\tvar _g14 = pathPoints.length - 3 + 1;\n\t\t\t\t\twhile(_g24 < _g14) {\n\t\t\t\t\t\tvar i3 = _g24++;\n\t\t\t\t\t\tthis.adjustWithTangents(pathPoints[i3],true,pathPoints[i3 + 1],true,pointSides,pointSuccessor,newPath,adjustedPoints);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar pathLength = pathPoints.length;\n\t\t\t\tthis.adjustWithTangents(pathPoints[pathLength - 2],true,pathPoints[pathLength - 1],false,pointSides,pointSuccessor,newPath,adjustedPoints);\n\t\t\t}\n\t\t\tnewPath.push(endPoint);\n\t\t\tthis.checkAdjustedPath(newPath,adjustedPoints,pointSides);\n\t\t\tvar smoothPoints = [];\n\t\t\ti = newPath.length - 2;\n\t\t\twhile(i >= 1) {\n\t\t\t\tthis.smoothAngle(adjustedPoints[i * 2 - 1],newPath[i],adjustedPoints[i * 2],pointSides.h[newPath[i].__id__],smoothPoints);\n\t\t\t\twhile(smoothPoints.length != 0) {\n\t\t\t\t\tvar temp = i * 2;\n\t\t\t\t\tadjustedPoints.splice(temp,0);\n\t\t\t\t\tvar x = smoothPoints.pop();\n\t\t\t\t\tadjustedPoints.splice(temp,0,x);\n\t\t\t\t}\n\t\t\t\t--i;\n\t\t\t}\n\t\t} else {\n\t\t\tadjustedPoints = pathPoints;\n\t\t}\n\t\tvar _g25 = 0;\n\t\tvar _g15 = adjustedPoints.length;\n\t\twhile(_g25 < _g15) {\n\t\t\tvar i4 = _g25++;\n\t\t\tresultPath.push(adjustedPoints[i4].x);\n\t\t\tresultPath.push(adjustedPoints[i4].y);\n\t\t}\n\t}\n\t,adjustWithTangents: function(p1,applyRadiusToP1,p2,applyRadiusToP2,pointSides,pointSuccessor,newPath,adjustedPoints) {\n\t\tvar tangentsResult = [];\n\t\tvar side1 = pointSides.h[p1.__id__];\n\t\tvar side2 = pointSides.h[p2.__id__];\n\t\tvar pTangent1 = null;\n\t\tvar pTangent2 = null;\n\t\tif(!applyRadiusToP1 && !applyRadiusToP2) {\n\t\t\tpTangent1 = p1;\n\t\t\tpTangent2 = p2;\n\t\t} else if(!applyRadiusToP1) {\n\t\t\tif(hxDaedalus_data_math_Geom2D.tangentsPointToCircle(p1.x,p1.y,p2.x,p2.y,this._radius,tangentsResult)) {\n\t\t\t\tif(side2 == 1) {\n\t\t\t\t\tpTangent1 = p1;\n\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\t\t} else {\n\t\t\t\t\tpTangent1 = p1;\n\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if(!applyRadiusToP2) {\n\t\t\tif(hxDaedalus_data_math_Geom2D.tangentsPointToCircle(p2.x,p2.y,p1.x,p1.y,this._radius,tangentsResult)) {\n\t\t\t\tif(tangentsResult.length > 0) {\n\t\t\t\t\tif(side1 == 1) {\n\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\t\t\t\tpTangent2 = p2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\t\t\t\tpTangent2 = p2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if(side1 == 1 && side2 == 1) {\n\t\t\thxDaedalus_data_math_Geom2D.tangentsParalCircleToCircle(this._radius,p1.x,p1.y,p2.x,p2.y,tangentsResult);\n\t\t\tpTangent1 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\tpTangent2 = this.getPoint(tangentsResult[4],tangentsResult[5]);\n\t\t} else if(side1 == -1 && side2 == -1) {\n\t\t\thxDaedalus_data_math_Geom2D.tangentsParalCircleToCircle(this._radius,p1.x,p1.y,p2.x,p2.y,tangentsResult);\n\t\t\tpTangent1 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\tpTangent2 = this.getPoint(tangentsResult[6],tangentsResult[7]);\n\t\t} else if(side1 == 1 && side2 == -1) {\n\t\t\tif(hxDaedalus_data_math_Geom2D.tangentsCrossCircleToCircle(this._radius,p1.x,p1.y,p2.x,p2.y,tangentsResult)) {\n\t\t\t\tpTangent1 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\t\tpTangent2 = this.getPoint(tangentsResult[6],tangentsResult[7]);\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if(hxDaedalus_data_math_Geom2D.tangentsCrossCircleToCircle(this._radius,p1.x,p1.y,p2.x,p2.y,tangentsResult)) {\n\t\t\tpTangent1 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\tpTangent2 = this.getPoint(tangentsResult[4],tangentsResult[5]);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\tvar successor = pointSuccessor.h[p1.__id__];\n\t\tvar distance;\n\t\twhile(successor != p2) {\n\t\t\tdistance = hxDaedalus_data_math_Geom2D.distanceSquaredPointToSegment(successor.x,successor.y,pTangent1.x,pTangent1.y,pTangent2.x,pTangent2.y);\n\t\t\tif(distance < this._radiusSquared) {\n\t\t\t\tthis.adjustWithTangents(p1,applyRadiusToP1,successor,true,pointSides,pointSuccessor,newPath,adjustedPoints);\n\t\t\t\tthis.adjustWithTangents(successor,true,p2,applyRadiusToP2,pointSides,pointSuccessor,newPath,adjustedPoints);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tsuccessor = pointSuccessor.h[successor.__id__];\n\t\t\t}\n\t\t}\n\t\tadjustedPoints.push(pTangent1);\n\t\tadjustedPoints.push(pTangent2);\n\t\tnewPath.push(p1);\n\t}\n\t,checkAdjustedPath: function(newPath,adjustedPoints,pointSides) {\n\t\tvar needCheck = true;\n\t\tvar point0;\n\t\tvar point0Side;\n\t\tvar point1;\n\t\tvar point1Side;\n\t\tvar point2;\n\t\tvar point2Side;\n\t\tvar pt1;\n\t\tvar pt2;\n\t\tvar pt3;\n\t\tvar dot;\n\t\tvar tangentsResult = [];\n\t\tvar pTangent1 = null;\n\t\tvar pTangent2 = null;\n\t\twhile(needCheck) {\n\t\t\tneedCheck = false;\n\t\t\tvar i = 2;\n\t\t\twhile(i < newPath.length) {\n\t\t\t\tpoint2 = newPath[i];\n\t\t\t\tpoint2Side = pointSides.h[point2.__id__];\n\t\t\t\tpoint1 = newPath[i - 1];\n\t\t\t\tpoint1Side = pointSides.h[point1.__id__];\n\t\t\t\tpoint0 = newPath[i - 2];\n\t\t\t\tpoint0Side = pointSides.h[point0.__id__];\n\t\t\t\tif(point1Side == point2Side) {\n\t\t\t\t\tpt1 = adjustedPoints[(i - 2) * 2];\n\t\t\t\t\tpt2 = adjustedPoints[(i - 1) * 2 - 1];\n\t\t\t\t\tpt3 = adjustedPoints[(i - 1) * 2];\n\t\t\t\t\tdot = (pt1.x - pt2.x) * (pt3.x - pt2.x) + (pt1.y - pt2.y) * (pt3.y - pt2.y);\n\t\t\t\t\tif(dot > 0) {\n\t\t\t\t\t\tif(i == 2) {\n\t\t\t\t\t\t\thxDaedalus_data_math_Geom2D.tangentsPointToCircle(point0.x,point0.y,point2.x,point2.y,this._radius,tangentsResult);\n\t\t\t\t\t\t\tif(point2Side == 1) {\n\t\t\t\t\t\t\t\tpTangent1 = point0;\n\t\t\t\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpTangent1 = point0;\n\t\t\t\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if(i == newPath.length - 1) {\n\t\t\t\t\t\t\thxDaedalus_data_math_Geom2D.tangentsPointToCircle(point2.x,point2.y,point0.x,point0.y,this._radius,tangentsResult);\n\t\t\t\t\t\t\tif(point0Side == 1) {\n\t\t\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\t\t\t\t\t\tpTangent2 = point2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\t\t\t\t\t\tpTangent2 = point2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if(point0Side == 1 && point2Side == -1) {\n\t\t\t\t\t\t\thxDaedalus_data_math_Geom2D.tangentsCrossCircleToCircle(this._radius,point0.x,point0.y,point2.x,point2.y,tangentsResult);\n\t\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[6],tangentsResult[7]);\n\t\t\t\t\t\t} else if(point0Side == -1 && point2Side == 1) {\n\t\t\t\t\t\t\thxDaedalus_data_math_Geom2D.tangentsCrossCircleToCircle(this._radius,point0.x,point0.y,point2.x,point2.y,tangentsResult);\n\t\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[4],tangentsResult[5]);\n\t\t\t\t\t\t} else if(point0Side == 1 && point2Side == 1) {\n\t\t\t\t\t\t\thxDaedalus_data_math_Geom2D.tangentsParalCircleToCircle(this._radius,point0.x,point0.y,point2.x,point2.y,tangentsResult);\n\t\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[2],tangentsResult[3]);\n\t\t\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[4],tangentsResult[5]);\n\t\t\t\t\t\t} else if(point0Side == -1 && point2Side == -1) {\n\t\t\t\t\t\t\thxDaedalus_data_math_Geom2D.tangentsParalCircleToCircle(this._radius,point0.x,point0.y,point2.x,point2.y,tangentsResult);\n\t\t\t\t\t\t\tpTangent1 = this.getPoint(tangentsResult[0],tangentsResult[1]);\n\t\t\t\t\t\t\tpTangent2 = this.getPoint(tangentsResult[6],tangentsResult[7]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar temp = (i - 2) * 2;\n\t\t\t\t\t\tadjustedPoints.splice(temp,1);\n\t\t\t\t\t\tadjustedPoints.splice(temp,0,pTangent1);\n\t\t\t\t\t\ttemp = i * 2 - 1;\n\t\t\t\t\t\tadjustedPoints.splice(temp,1);\n\t\t\t\t\t\tadjustedPoints.splice(temp,0,pTangent2);\n\t\t\t\t\t\tnewPath.splice(i - 1,1);\n\t\t\t\t\t\tadjustedPoints.splice((i - 1) * 2 - 1,2);\n\t\t\t\t\t\ttangentsResult.splice(0,tangentsResult.length);\n\t\t\t\t\t\t--i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++i;\n\t\t\t}\n\t\t}\n\t}\n\t,smoothAngle: function(prevPoint,pointToSmooth,nextPoint,side,encirclePoints) {\n\t\tvar angleType = hxDaedalus_data_math_Geom2D.getDirection(prevPoint.x,prevPoint.y,pointToSmooth.x,pointToSmooth.y,nextPoint.x,nextPoint.y);\n\t\tvar distanceSquared = (prevPoint.x - nextPoint.x) * (prevPoint.x - nextPoint.x) + (prevPoint.y - nextPoint.y) * (prevPoint.y - nextPoint.y);\n\t\tif(distanceSquared <= this._sampleCircleDistanceSquared) {\n\t\t\treturn;\n\t\t}\n\t\tvar index = 0;\n\t\tvar side1;\n\t\tvar side2;\n\t\tvar pointInArea;\n\t\tvar xToCheck;\n\t\tvar yToCheck;\n\t\tvar _g1 = 0;\n\t\tvar _g = this._numSamplesCircle;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tpointInArea = false;\n\t\t\txToCheck = pointToSmooth.x + this._sampleCircle[i].x;\n\t\t\tyToCheck = pointToSmooth.y + this._sampleCircle[i].y;\n\t\t\tside1 = hxDaedalus_data_math_Geom2D.getDirection(prevPoint.x,prevPoint.y,pointToSmooth.x,pointToSmooth.y,xToCheck,yToCheck);\n\t\t\tside2 = hxDaedalus_data_math_Geom2D.getDirection(pointToSmooth.x,pointToSmooth.y,nextPoint.x,nextPoint.y,xToCheck,yToCheck);\n\t\t\tif(side == 1) {\n\t\t\t\tif(angleType == -1) {\n\t\t\t\t\tif(side1 == -1 && side2 == -1) {\n\t\t\t\t\t\tpointInArea = true;\n\t\t\t\t\t}\n\t\t\t\t} else if(side1 == -1 || side2 == -1) {\n\t\t\t\t\tpointInArea = true;\n\t\t\t\t}\n\t\t\t} else if(angleType == 1) {\n\t\t\t\tif(side1 == 1 && side2 == 1) {\n\t\t\t\t\tpointInArea = true;\n\t\t\t\t}\n\t\t\t} else if(side1 == 1 || side2 == 1) {\n\t\t\t\tpointInArea = true;\n\t\t\t}\n\t\t\tif(pointInArea) {\n\t\t\t\tencirclePoints.splice(index,0);\n\t\t\t\tvar x = new hxDaedalus_data_math_Point2D(xToCheck,yToCheck);\n\t\t\t\tencirclePoints.splice(index,0,x);\n\t\t\t\t++index;\n\t\t\t} else {\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t}\n\t\tif(side == -1) {\n\t\t\tencirclePoints.reverse();\n\t\t}\n\t}\n\t,__class__: hxDaedalus_ai_Funnel\n};\nvar hxDaedalus_ai_PathFinder = $hx_exports[\"hxDaedalus\"][\"ai\"][\"PathFinder\"] = function() {\n\tthis.astar = new hxDaedalus_ai_AStar();\n\tthis.funnel = new hxDaedalus_ai_Funnel();\n\tthis.listFaces = [];\n\tthis.listEdges = [];\n};\nhxDaedalus_ai_PathFinder.__name__ = true;\nhxDaedalus_ai_PathFinder.prototype = {\n\tdispose: function() {\n\t\tthis._mesh = null;\n\t\tthis.astar.dispose();\n\t\tthis.astar = null;\n\t\tthis.funnel.dispose();\n\t\tthis.funnel = null;\n\t\tthis.listEdges = null;\n\t\tthis.listFaces = null;\n\t}\n\t,get_mesh: function() {\n\t\treturn this._mesh;\n\t}\n\t,set_mesh: function(value) {\n\t\tthis._mesh = value;\n\t\tthis.astar.set_mesh(this._mesh);\n\t\treturn value;\n\t}\n\t,findPath: function(toX,toY,resultPath) {\n\t\tresultPath.splice(0,resultPath.length);\n\t\tvar cond = this._mesh == null;\n\t\tvar cond1 = this.entity == null;\n\t\tif(hxDaedalus_data_math_Geom2D.isCircleIntersectingAnyConstraint(toX,toY,this.entity.get_radius(),this._mesh)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.astar.set_radius(this.entity.get_radius());\n\t\tthis.funnel.set_radius(this.entity.get_radius());\n\t\tthis.listFaces.splice(0,this.listFaces.length);\n\t\tthis.listEdges.splice(0,this.listEdges.length);\n\t\tthis.astar.findPath(this.entity.x,this.entity.y,toX,toY,this.listFaces,this.listEdges);\n\t\tif(this.listFaces.length == 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis.funnel.findPath(this.entity.x,this.entity.y,toX,toY,this.listFaces,this.listEdges,resultPath);\n\t}\n\t,__class__: hxDaedalus_ai_PathFinder\n};\nvar hxDaedalus_ai_trajectory_LinearPathSampler = $hx_exports[\"hxDaedalus\"][\"ai\"][\"trajectory\"][\"LinearPathSampler\"] = function() {\n\tthis._samplingDistanceSquared = 1;\n\tthis._samplingDistance = 1;\n\tthis._preCompX = [];\n\tthis._preCompY = [];\n};\nhxDaedalus_ai_trajectory_LinearPathSampler.__name__ = true;\nhxDaedalus_ai_trajectory_LinearPathSampler.pythag = function(a,b) {\n\treturn Math.sqrt(a * a + b * b);\n};\nhxDaedalus_ai_trajectory_LinearPathSampler.prototype = {\n\tdispose: function() {\n\t\tthis.entity = null;\n\t\tthis._path = null;\n\t\tthis._preCompX = null;\n\t\tthis._preCompY = null;\n\t}\n\t,get_x: function() {\n\t\treturn this._currentX;\n\t}\n\t,get_y: function() {\n\t\treturn this._currentY;\n\t}\n\t,get_hasPrev: function() {\n\t\treturn this._hasPrev;\n\t}\n\t,get_hasNext: function() {\n\t\treturn this._hasNext;\n\t}\n\t,get_count: function() {\n\t\treturn this._count;\n\t}\n\t,set_count: function(value) {\n\t\tthis._count = value;\n\t\tif(this._count < 0) {\n\t\t\tthis._count = 0;\n\t\t}\n\t\tif(this._count > this.get_countMax() - 1) {\n\t\t\tthis._count = this.get_countMax() - 1;\n\t\t}\n\t\tthis._hasPrev = this._count == 0 ? false : true;\n\t\tthis._hasNext = this._count == this.get_countMax() - 1 ? false : true;\n\t\tthis._currentX = this._preCompX[this._count];\n\t\tthis._currentY = this._preCompY[this._count];\n\t\tthis.updateEntity();\n\t\treturn this._count;\n\t}\n\t,get_countMax: function() {\n\t\treturn this._preCompX.length - 1;\n\t}\n\t,get_samplingDistance: function() {\n\t\treturn this._samplingDistance;\n\t}\n\t,set_samplingDistance: function(value) {\n\t\tthis._samplingDistance = value;\n\t\tthis._samplingDistanceSquared = this._samplingDistance * this._samplingDistance;\n\t\treturn value;\n\t}\n\t,set_path: function(value) {\n\t\tthis._path = value;\n\t\tthis._preComputed = false;\n\t\tthis.reset();\n\t\treturn value;\n\t}\n\t,reset: function() {\n\t\tif(this._path.length > 0) {\n\t\t\tvar cond = (this._path.length & 1) == 0;\n\t\t\tthis._currentX = this._path[0];\n\t\t\tthis._currentY = this._path[1];\n\t\t\tthis._iPrev = 0;\n\t\t\tthis._iNext = 2;\n\t\t\tthis._hasPrev = false;\n\t\t\tthis._hasNext = true;\n\t\t\tthis._count = 0;\n\t\t\tthis.updateEntity();\n\t\t} else {\n\t\t\tthis._hasPrev = false;\n\t\t\tthis._hasNext = false;\n\t\t\tthis._count = 0;\n\t\t}\n\t}\n\t,preCompute: function() {\n\t\tthis._preCompX.splice(0,this._preCompX.length);\n\t\tthis._preCompY.splice(0,this._preCompY.length);\n\t\tthis._count = 0;\n\t\tthis._preCompX.push(this._currentX);\n\t\tthis._preCompY.push(this._currentY);\n\t\tthis._preComputed = false;\n\t\twhile(this.next()) {\n\t\t\tthis._preCompX.push(this._currentX);\n\t\t\tthis._preCompY.push(this._currentY);\n\t\t}\n\t\tthis.reset();\n\t\tthis._preComputed = true;\n\t}\n\t,prev: function() {\n\t\tif(!this._hasPrev) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._hasNext = true;\n\t\tif(this._preComputed) {\n\t\t\tthis._count--;\n\t\t\tif(this._count == 0) {\n\t\t\t\tthis._hasPrev = false;\n\t\t\t}\n\t\t\tthis._currentX = this._preCompX[this._count];\n\t\t\tthis._currentY = this._preCompY[this._count];\n\t\t\tthis.updateEntity();\n\t\t\treturn true;\n\t\t}\n\t\tvar remainingDist = this._samplingDistance;\n\t\tvar dist = 0;\n\t\twhile(true) {\n\t\t\tvar pathPrev = this._path[this._iPrev];\n\t\t\tvar pathPrev1 = this._path[this._iPrev + 1];\n\t\t\tvar a = this._currentX - pathPrev;\n\t\t\tvar b = this._currentY - pathPrev1;\n\t\t\tdist = Math.sqrt(a * a + b * b);\n\t\t\tif(dist < remainingDist) {\n\t\t\t\tremainingDist -= dist;\n\t\t\t\tthis._iPrev -= 2;\n\t\t\t\tthis._iNext -= 2;\n\t\t\t\tif(this._iNext == 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(this._iNext == 0) {\n\t\t\tthis._currentX = this._path[0];\n\t\t\tthis._currentY = this._path[1];\n\t\t\tthis._hasPrev = false;\n\t\t\tthis._iNext = 2;\n\t\t\tthis._iPrev = 0;\n\t\t\tthis.updateEntity();\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis._currentX += (this._path[this._iPrev] - this._currentX) * remainingDist / dist;\n\t\t\tthis._currentY += (this._path[this._iPrev + 1] - this._currentY) * remainingDist / dist;\n\t\t\tthis.updateEntity();\n\t\t\treturn true;\n\t\t}\n\t}\n\t,next: function() {\n\t\tif(!this._hasNext) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._hasPrev = true;\n\t\tif(this._preComputed) {\n\t\t\tthis._count++;\n\t\t\tif(this._count == this._preCompX.length - 1) {\n\t\t\t\tthis._hasNext = false;\n\t\t\t}\n\t\t\tthis._currentX = this._preCompX[this._count];\n\t\t\tthis._currentY = this._preCompY[this._count];\n\t\t\tthis.updateEntity();\n\t\t\treturn true;\n\t\t}\n\t\tvar remainingDist = this._samplingDistance;\n\t\tvar dist = 0;\n\t\twhile(true) {\n\t\t\tvar pathNext = this._path[this._iNext];\n\t\t\tvar pathNext1 = this._path[this._iNext + 1];\n\t\t\tvar a = this._currentX - pathNext;\n\t\t\tvar b = this._currentY - pathNext1;\n\t\t\tdist = Math.sqrt(a * a + b * b);\n\t\t\tif(dist < remainingDist) {\n\t\t\t\tremainingDist -= dist;\n\t\t\t\tthis._currentX = this._path[this._iNext];\n\t\t\t\tthis._currentY = this._path[this._iNext + 1];\n\t\t\t\tthis._iPrev += 2;\n\t\t\t\tthis._iNext += 2;\n\t\t\t\tif(this._iNext == this._path.length) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(this._iNext == this._path.length) {\n\t\t\tthis._currentX = this._path[this._iPrev];\n\t\t\tthis._currentY = this._path[this._iPrev + 1];\n\t\t\tthis._hasNext = false;\n\t\t\tthis._iNext = this._path.length - 2;\n\t\t\tthis._iPrev = this._iNext - 2;\n\t\t\tthis.updateEntity();\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis._currentX += (this._path[this._iNext] - this._currentX) * remainingDist / dist;\n\t\t\tthis._currentY += (this._path[this._iNext + 1] - this._currentY) * remainingDist / dist;\n\t\t\tthis.updateEntity();\n\t\t\treturn true;\n\t\t}\n\t}\n\t,updateEntity: function() {\n\t\tif(this.entity == null) {\n\t\t\treturn;\n\t\t}\n\t\tvar cond = isNaN(this._currentX) && isNaN(this._currentY);\n\t\tthis.entity.x = this._currentX;\n\t\tthis.entity.y = this._currentY;\n\t}\n\t,__class__: hxDaedalus_ai_trajectory_LinearPathSampler\n};\nvar hxDaedalus_ai_trajectory_PathIterator = $hx_exports[\"hxDaedalus\"][\"ai\"][\"trajectory\"][\"PathIterator\"] = function() {\n};\nhxDaedalus_ai_trajectory_PathIterator.__name__ = true;\nhxDaedalus_ai_trajectory_PathIterator.prototype = {\n\tget_entity: function() {\n\t\treturn this._entity;\n\t}\n\t,set_entity: function(value) {\n\t\tthis._entity = value;\n\t\treturn value;\n\t}\n\t,get_x: function() {\n\t\treturn this._currentX;\n\t}\n\t,get_y: function() {\n\t\treturn this._currentY;\n\t}\n\t,get_hasPrev: function() {\n\t\treturn this._hasPrev;\n\t}\n\t,get_hasNext: function() {\n\t\treturn this._hasNext;\n\t}\n\t,get_count: function() {\n\t\treturn this._count;\n\t}\n\t,get_countMax: function() {\n\t\treturn this._countMax;\n\t}\n\t,set_path: function(value) {\n\t\tthis._path = value;\n\t\tthis._countMax = this._path.length / 2 | 0;\n\t\tthis.reset();\n\t\treturn value;\n\t}\n\t,reset: function() {\n\t\tthis._count = 0;\n\t\tthis._currentX = this._path[this._count];\n\t\tthis._currentY = this._path[this._count + 1];\n\t\tthis.updateEntity();\n\t\tthis._hasPrev = false;\n\t\tthis._hasNext = this._path.length > 2;\n\t}\n\t,prev: function() {\n\t\tif(!this._hasPrev) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._hasNext = true;\n\t\tthis._count--;\n\t\tthis._currentX = this._path[this._count * 2];\n\t\tthis._currentY = this._path[this._count * 2 + 1];\n\t\tthis.updateEntity();\n\t\tif(this._count == 0) {\n\t\t\tthis._hasPrev = false;\n\t\t}\n\t\treturn true;\n\t}\n\t,next: function() {\n\t\tif(!this._hasNext) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._hasPrev = true;\n\t\tthis._count++;\n\t\tthis._currentX = this._path[this._count * 2];\n\t\tthis._currentY = this._path[this._count * 2 + 1];\n\t\tthis.updateEntity();\n\t\tif((this._count + 1) * 2 == this._path.length) {\n\t\t\tthis._hasNext = false;\n\t\t}\n\t\treturn true;\n\t}\n\t,updateEntity: function() {\n\t\tif(this._entity == null) {\n\t\t\treturn;\n\t\t}\n\t\tthis._entity.x = this._currentX;\n\t\tthis._entity.y = this._currentY;\n\t}\n\t,__class__: hxDaedalus_ai_trajectory_PathIterator\n};\nvar hxDaedalus_data_Constants = $hx_exports[\"hxDaedalus\"][\"data\"][\"Constants\"] = function() { };\nhxDaedalus_data_Constants.__name__ = true;\nvar hxDaedalus_data_ConstraintSegment = $hx_exports[\"hxDaedalus\"][\"data\"][\"ConstraintSegment\"] = function() {\n\tthis._id = hxDaedalus_data_ConstraintSegment.INC;\n\thxDaedalus_data_ConstraintSegment.INC++;\n\tthis._edges = [];\n};\nhxDaedalus_data_ConstraintSegment.__name__ = true;\nhxDaedalus_data_ConstraintSegment.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,addEdge: function(edge) {\n\t\tif(this._edges.indexOf(edge) == -1 && this._edges.indexOf(edge.get_oppositeEdge()) == -1) {\n\t\t\tthis._edges.push(edge);\n\t\t}\n\t}\n\t,removeEdge: function(edge) {\n\t\tvar index = this._edges.indexOf(edge);\n\t\tif(index == -1) {\n\t\t\tindex = this._edges.indexOf(edge.get_oppositeEdge());\n\t\t}\n\t\tif(index != -1) {\n\t\t\tthis._edges.splice(index,1);\n\t\t}\n\t}\n\t,get_edges: function() {\n\t\treturn this._edges;\n\t}\n\t,dispose: function() {\n\t\tthis._edges = null;\n\t\tthis.fromShape = null;\n\t}\n\t,toString: function() {\n\t\treturn \"seg_id \" + this._id;\n\t}\n\t,__class__: hxDaedalus_data_ConstraintSegment\n};\nvar hxDaedalus_data_ConstraintShape = $hx_exports[\"hxDaedalus\"][\"data\"][\"ConstraintShape\"] = function() {\n\tthis._id = hxDaedalus_data_ConstraintShape.INC;\n\thxDaedalus_data_ConstraintShape.INC++;\n\tthis.segments = [];\n};\nhxDaedalus_data_ConstraintShape.__name__ = true;\nhxDaedalus_data_ConstraintShape.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,dispose: function() {\n\t\twhile(this.segments.length > 0) this.segments.pop().dispose();\n\t\tthis.segments = null;\n\t}\n\t,__class__: hxDaedalus_data_ConstraintShape\n};\nvar hxDaedalus_data_Edge = $hx_exports[\"hxDaedalus\"][\"data\"][\"Edge\"] = function() {\n\tthis.colorDebug = -1;\n\tthis._id = hxDaedalus_data_Edge.INC;\n\thxDaedalus_data_Edge.INC++;\n\tthis.fromConstraintSegments = [];\n};\nhxDaedalus_data_Edge.__name__ = true;\nhxDaedalus_data_Edge.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,get_isReal: function() {\n\t\treturn this._isReal;\n\t}\n\t,get_isConstrained: function() {\n\t\treturn this._isConstrained;\n\t}\n\t,setDatas: function(originVertex,oppositeEdge,nextLeftEdge,leftFace,isReal,isConstrained) {\n\t\tif(isConstrained == null) {\n\t\t\tisConstrained = false;\n\t\t}\n\t\tif(isReal == null) {\n\t\t\tisReal = true;\n\t\t}\n\t\tthis._isConstrained = isConstrained;\n\t\tthis._isReal = isReal;\n\t\tthis._originVertex = originVertex;\n\t\tthis._oppositeEdge = oppositeEdge;\n\t\tthis._nextLeftEdge = nextLeftEdge;\n\t\tthis._leftFace = leftFace;\n\t}\n\t,addFromConstraintSegment: function(segment) {\n\t\tif(this.fromConstraintSegments.indexOf(segment) == -1) {\n\t\t\tthis.fromConstraintSegments.push(segment);\n\t\t}\n\t}\n\t,removeFromConstraintSegment: function(segment) {\n\t\tvar index = this.fromConstraintSegments.indexOf(segment);\n\t\tif(index != -1) {\n\t\t\tthis.fromConstraintSegments.splice(index,1);\n\t\t}\n\t}\n\t,set_originVertex: function(value) {\n\t\tthis._originVertex = value;\n\t\treturn value;\n\t}\n\t,set_nextLeftEdge: function(value) {\n\t\tthis._nextLeftEdge = value;\n\t\treturn value;\n\t}\n\t,set_leftFace: function(value) {\n\t\tthis._leftFace = value;\n\t\treturn value;\n\t}\n\t,set_isConstrained: function(value) {\n\t\tthis._isConstrained = value;\n\t\treturn value;\n\t}\n\t,dispose: function() {\n\t\tthis._originVertex = null;\n\t\tthis._oppositeEdge = null;\n\t\tthis._nextLeftEdge = null;\n\t\tthis._leftFace = null;\n\t\tthis.fromConstraintSegments = null;\n\t}\n\t,get_originVertex: function() {\n\t\treturn this._originVertex;\n\t}\n\t,get_destinationVertex: function() {\n\t\treturn this.get_oppositeEdge().get_originVertex();\n\t}\n\t,get_oppositeEdge: function() {\n\t\treturn this._oppositeEdge;\n\t}\n\t,get_nextLeftEdge: function() {\n\t\treturn this._nextLeftEdge;\n\t}\n\t,get_prevLeftEdge: function() {\n\t\treturn this._nextLeftEdge.get_nextLeftEdge();\n\t}\n\t,get_nextRightEdge: function() {\n\t\treturn this._oppositeEdge.get_nextLeftEdge().get_nextLeftEdge().get_oppositeEdge();\n\t}\n\t,get_prevRightEdge: function() {\n\t\treturn this._oppositeEdge.get_nextLeftEdge().get_oppositeEdge();\n\t}\n\t,get_rotLeftEdge: function() {\n\t\treturn this._nextLeftEdge.get_nextLeftEdge().get_oppositeEdge();\n\t}\n\t,get_rotRightEdge: function() {\n\t\treturn this._oppositeEdge.get_nextLeftEdge();\n\t}\n\t,get_leftFace: function() {\n\t\treturn this._leftFace;\n\t}\n\t,get_rightFace: function() {\n\t\treturn this._oppositeEdge.get_leftFace();\n\t}\n\t,toString: function() {\n\t\treturn \"edge \" + this.get_originVertex().get_id() + \" - \" + this.get_destinationVertex().get_id();\n\t}\n\t,__class__: hxDaedalus_data_Edge\n};\nvar hxDaedalus_data_Face = $hx_exports[\"hxDaedalus\"][\"data\"][\"Face\"] = function() {\n\tthis.colorDebug = -1;\n\tthis._id = hxDaedalus_data_Face.INC;\n\thxDaedalus_data_Face.INC++;\n};\nhxDaedalus_data_Face.__name__ = true;\nhxDaedalus_data_Face.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,get_isReal: function() {\n\t\treturn this._isReal;\n\t}\n\t,set_datas: function(edge) {\n\t\tthis._isReal = true;\n\t\tthis._edge = edge;\n\t}\n\t,setDatas: function(edge,isReal) {\n\t\tif(isReal == null) {\n\t\t\tisReal = true;\n\t\t}\n\t\tthis._isReal = isReal;\n\t\tthis._edge = edge;\n\t}\n\t,dispose: function() {\n\t\tthis._edge = null;\n\t}\n\t,get_edge: function() {\n\t\treturn this._edge;\n\t}\n\t,__class__: hxDaedalus_data_Face\n};\nvar hxDaedalus_data_Mesh = $hx_exports[\"hxDaedalus\"][\"data\"][\"Mesh\"] = function(width,height) {\n\tthis.__objectsUpdateInProgress = false;\n\tthis.__edgesToCheck = null;\n\tthis.__centerVertex = null;\n\tthis._objects = null;\n\tthis._constraintShapes = null;\n\tthis._faces = null;\n\tthis._edges = null;\n\tthis._vertices = null;\n\tthis._clipping = false;\n\tthis._height = 0;\n\tthis._width = 0;\n\tthis._id = hxDaedalus_data_Mesh.INC;\n\thxDaedalus_data_Mesh.INC++;\n\tthis._width = width;\n\tthis._height = height;\n\tthis._clipping = true;\n\tthis._vertices = [];\n\tthis._edges = [];\n\tthis._faces = [];\n\tthis._constraintShapes = [];\n\tthis._objects = [];\n\tthis.__edgesToCheck = [];\n};\nhxDaedalus_data_Mesh.__name__ = true;\nhxDaedalus_data_Mesh.prototype = {\n\tget_height: function() {\n\t\treturn this._height;\n\t}\n\t,get_width: function() {\n\t\treturn this._width;\n\t}\n\t,get_clipping: function() {\n\t\treturn this._clipping;\n\t}\n\t,set_clipping: function(value) {\n\t\tthis._clipping = value;\n\t\treturn value;\n\t}\n\t,get_id: function() {\n\t\treturn this._id;\n\t}\n\t,dispose: function() {\n\t\twhile(this._vertices.length > 0) this._vertices.pop().dispose();\n\t\tthis._vertices = null;\n\t\twhile(this._edges.length > 0) this._edges.pop().dispose();\n\t\tthis._edges = null;\n\t\twhile(this._faces.length > 0) this._faces.pop().dispose();\n\t\tthis._faces = null;\n\t\twhile(this._constraintShapes.length > 0) this._constraintShapes.pop().dispose();\n\t\tthis._constraintShapes = null;\n\t\twhile(this._objects.length > 0) this._objects.pop().dispose();\n\t\tthis._objects = null;\n\t\tthis.__edgesToCheck = null;\n\t\tthis.__centerVertex = null;\n\t}\n\t,get___constraintShapes: function() {\n\t\treturn this._constraintShapes;\n\t}\n\t,buildFromRecord: function(rec) {\n\t\tvar positions = rec.split(\";\");\n\t\tvar i = 0;\n\t\twhile(i < positions.length) {\n\t\t\tthis.insertConstraintSegment(parseFloat(positions[i]),parseFloat(positions[i + 1]),parseFloat(positions[i + 2]),parseFloat(positions[i + 3]));\n\t\t\ti += 4;\n\t\t}\n\t}\n\t,insertObject: function(object) {\n\t\tif(object.get_constraintShape() != null) {\n\t\t\tthis.deleteObject(object);\n\t\t}\n\t\tvar shape = new hxDaedalus_data_ConstraintShape();\n\t\tvar segment;\n\t\tvar coordinates = object.get_coordinates();\n\t\tvar m = object.get_matrix();\n\t\tobject.updateMatrixFromValues();\n\t\tvar x1;\n\t\tvar y1;\n\t\tvar x2;\n\t\tvar y2;\n\t\tvar transfx1;\n\t\tvar transfy1;\n\t\tvar transfx2;\n\t\tvar transfy2;\n\t\tvar i = 0;\n\t\twhile(i < coordinates.length) {\n\t\t\tx1 = coordinates[i];\n\t\t\ty1 = coordinates[i + 1];\n\t\t\tx2 = coordinates[i + 2];\n\t\t\ty2 = coordinates[i + 3];\n\t\t\ttransfx1 = m.transformX(x1,y1);\n\t\t\ttransfy1 = m.transformY(x1,y1);\n\t\t\ttransfx2 = m.transformX(x2,y2);\n\t\t\ttransfy2 = m.transformY(x2,y2);\n\t\t\tsegment = this.insertConstraintSegment(transfx1,transfy1,transfx2,transfy2);\n\t\t\tif(segment != null) {\n\t\t\t\tsegment.fromShape = shape;\n\t\t\t\tshape.segments.push(segment);\n\t\t\t}\n\t\t\ti += 4;\n\t\t}\n\t\tthis._constraintShapes.push(shape);\n\t\tobject.set_constraintShape(shape);\n\t\tif(!this.__objectsUpdateInProgress) {\n\t\t\tthis._objects.push(object);\n\t\t}\n\t}\n\t,deleteObject: function(object) {\n\t\tif(object.get_constraintShape() == null) {\n\t\t\treturn;\n\t\t}\n\t\tthis.deleteConstraintShape(object.get_constraintShape());\n\t\tobject.set_constraintShape(null);\n\t\tif(!this.__objectsUpdateInProgress) {\n\t\t\tvar index = this._objects.indexOf(object);\n\t\t\tthis._objects.splice(index,1);\n\t\t}\n\t}\n\t,updateObjects: function() {\n\t\tthis.__objectsUpdateInProgress = true;\n\t\tvar _g1 = 0;\n\t\tvar _g = this._objects.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tif(this._objects[i].get_hasChanged()) {\n\t\t\t\tthis.deleteObject(this._objects[i]);\n\t\t\t\tthis.insertObject(this._objects[i]);\n\t\t\t\tthis._objects[i].set_hasChanged(false);\n\t\t\t}\n\t\t}\n\t\tthis.__objectsUpdateInProgress = false;\n\t}\n\t,insertConstraintShape: function(coordinates) {\n\t\tvar shape = new hxDaedalus_data_ConstraintShape();\n\t\tvar segment = null;\n\t\tvar i = 0;\n\t\twhile(i < coordinates.length) {\n\t\t\tsegment = this.insertConstraintSegment(coordinates[i],coordinates[i + 1],coordinates[i + 2],coordinates[i + 3]);\n\t\t\tif(segment != null) {\n\t\t\t\tsegment.fromShape = shape;\n\t\t\t\tshape.segments.push(segment);\n\t\t\t}\n\t\t\ti += 4;\n\t\t}\n\t\tthis._constraintShapes.push(shape);\n\t\treturn shape;\n\t}\n\t,deleteConstraintShape: function(shape) {\n\t\tvar _g1 = 0;\n\t\tvar _g = shape.segments.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tthis.deleteConstraintSegment(shape.segments[i]);\n\t\t}\n\t\tshape.dispose();\n\t\tthis._constraintShapes.splice(this._constraintShapes.indexOf(shape),1);\n\t}\n\t,insertConstraintSegment: function(x1,y1,x2,y2) {\n\t\tvar p1pos = this.findPositionFromBounds(x1,y1);\n\t\tvar p2pos = this.findPositionFromBounds(x2,y2);\n\t\tvar newX1 = x1;\n\t\tvar newY1 = y1;\n\t\tvar newX2 = x2;\n\t\tvar newY2 = y2;\n\t\tif(this._clipping && (p1pos != 0 || p2pos != 0)) {\n\t\t\tvar intersectPoint = new hxDaedalus_data_math_Point2D();\n\t\t\tif(p1pos != 0 && p2pos != 0) {\n\t\t\t\tif(x1 <= 0 && x2 <= 0 || x1 >= this._width && x2 >= this._width || y1 <= 0 && y2 <= 0 || y1 >= this._height && y2 >= this._height) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif(p1pos == 8 && p2pos == 4 || p1pos == 4 && p2pos == 8) {\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,0,this._height,intersectPoint);\n\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,this._width,0,this._width,this._height,intersectPoint);\n\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t} else if(p1pos == 2 && p2pos == 6 || p1pos == 6 && p2pos == 2) {\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,this._width,0,intersectPoint);\n\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,this._height,this._width,this._height,intersectPoint);\n\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t} else if(p1pos == 2 && p2pos == 8 || p1pos == 8 && p2pos == 2) {\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,this._width,0,intersectPoint)) {\n\t\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,0,this._height,intersectPoint);\n\t\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else if(p1pos == 2 && p2pos == 4 || p1pos == 4 && p2pos == 2) {\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,this._width,0,intersectPoint)) {\n\t\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,this._width,0,this._width,this._height,intersectPoint);\n\t\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else if(p1pos == 6 && p2pos == 4 || p1pos == 4 && p2pos == 6) {\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,this._height,this._width,this._height,intersectPoint)) {\n\t\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,this._width,0,this._width,this._height,intersectPoint);\n\t\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else if(p1pos == 8 && p2pos == 6 || p1pos == 6 && p2pos == 8) {\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,this._height,this._width,this._height,intersectPoint)) {\n\t\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,0,this._height,intersectPoint);\n\t\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar firstDone = false;\n\t\t\t\t\tvar secondDone = false;\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,this._width,0,intersectPoint)) {\n\t\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\t\tfirstDone = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,this._width,0,this._width,this._height,intersectPoint)) {\n\t\t\t\t\t\tif(!firstDone) {\n\t\t\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\t\t\tfirstDone = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t\t\t\tsecondDone = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!secondDone && hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,this._height,this._width,this._height,intersectPoint)) {\n\t\t\t\t\t\tif(!firstDone) {\n\t\t\t\t\t\t\tnewX1 = intersectPoint.x;\n\t\t\t\t\t\t\tnewY1 = intersectPoint.y;\n\t\t\t\t\t\t\tfirstDone = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t\t\t\tsecondDone = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!secondDone && hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,0,this._height,intersectPoint)) {\n\t\t\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t\t\t}\n\t\t\t\t\tif(!firstDone) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(p1pos == 2 || p2pos == 2) {\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,this._width,0,intersectPoint);\n\t\t\t\t} else if(p1pos == 4 || p2pos == 4) {\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,this._width,0,this._width,this._height,intersectPoint);\n\t\t\t\t} else if(p1pos == 6 || p2pos == 6) {\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,this._height,this._width,this._height,intersectPoint);\n\t\t\t\t} else if(p1pos == 8 || p2pos == 8) {\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,0,this._height,intersectPoint);\n\t\t\t\t} else if(!hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,this._width,0,intersectPoint)) {\n\t\t\t\t\tif(!hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,this._width,0,this._width,this._height,intersectPoint)) {\n\t\t\t\t\t\tif(!hxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,this._height,this._width,this._height,intersectPoint)) {\n\t\t\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2segments(x1,y1,x2,y2,0,0,0,this._height,intersectPoint);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(p1pos == 0) {\n\t\t\t\t\tnewX1 = x1;\n\t\t\t\t\tnewY1 = y1;\n\t\t\t\t} else {\n\t\t\t\t\tnewX1 = x2;\n\t\t\t\t\tnewY1 = y2;\n\t\t\t\t}\n\t\t\t\tnewX2 = intersectPoint.x;\n\t\t\t\tnewY2 = intersectPoint.y;\n\t\t\t}\n\t\t}\n\t\tvar vertexDown = this.insertVertex(newX1,newY1);\n\t\tif(vertexDown == null) {\n\t\t\treturn null;\n\t\t}\n\t\tvar vertexUp = this.insertVertex(newX2,newY2);\n\t\tif(vertexUp == null) {\n\t\t\treturn null;\n\t\t}\n\t\tif(vertexDown == vertexUp) {\n\t\t\treturn null;\n\t\t}\n\t\tvar iterVertexToOutEdges = new hxDaedalus_iterators_FromVertexToOutgoingEdges();\n\t\tvar currVertex;\n\t\tvar currEdge;\n\t\tvar i;\n\t\tvar segment = new hxDaedalus_data_ConstraintSegment();\n\t\tvar tempEdgeDownUp = new hxDaedalus_data_Edge();\n\t\tvar tempSdgeUpDown = new hxDaedalus_data_Edge();\n\t\ttempEdgeDownUp.setDatas(vertexDown,tempSdgeUpDown,null,null,true,true);\n\t\ttempSdgeUpDown.setDatas(vertexUp,tempEdgeDownUp,null,null,true,true);\n\t\tvar intersectedEdges = [];\n\t\tvar leftBoundingEdges = [];\n\t\tvar rightBoundingEdges = [];\n\t\tvar currObjet;\n\t\tvar pIntersect = new hxDaedalus_data_math_Point2D();\n\t\tvar edgeLeft;\n\t\tvar newEdgeDownUp;\n\t\tvar newEdgeUpDown;\n\t\tvar done;\n\t\tcurrVertex = vertexDown;\n\t\tcurrObjet = hxDaedalus_data_math_Intersection.EVertex(currVertex);\n\t\twhile(true) {\n\t\t\tdone = false;\n\t\t\tswitch(currObjet[1]) {\n\t\t\tcase 0:\n\t\t\t\tvar vertex = currObjet[2];\n\t\t\t\tcurrVertex = vertex;\n\t\t\t\titerVertexToOutEdges.set_fromVertex(currVertex);\n\t\t\t\twhile(true) {\n\t\t\t\t\tcurrEdge = iterVertexToOutEdges.next();\n\t\t\t\t\tif(!(currEdge != null)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(currEdge.get_destinationVertex() == vertexUp) {\n\t\t\t\t\t\tif(!currEdge.get_isConstrained()) {\n\t\t\t\t\t\t\tcurrEdge.set_isConstrained(true);\n\t\t\t\t\t\t\tcurrEdge.get_oppositeEdge().set_isConstrained(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrEdge.addFromConstraintSegment(segment);\n\t\t\t\t\t\tcurrEdge.get_oppositeEdge().fromConstraintSegments = currEdge.fromConstraintSegments;\n\t\t\t\t\t\tvertexDown.addFromConstraintSegment(segment);\n\t\t\t\t\t\tvertexUp.addFromConstraintSegment(segment);\n\t\t\t\t\t\tsegment.addEdge(currEdge);\n\t\t\t\t\t\treturn segment;\n\t\t\t\t\t}\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.distanceSquaredVertexToEdge(currEdge.get_destinationVertex(),tempEdgeDownUp) <= 0.0001) {\n\t\t\t\t\t\tif(!currEdge.get_isConstrained()) {\n\t\t\t\t\t\t\tcurrEdge.set_isConstrained(true);\n\t\t\t\t\t\t\tcurrEdge.get_oppositeEdge().set_isConstrained(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrEdge.addFromConstraintSegment(segment);\n\t\t\t\t\t\tcurrEdge.get_oppositeEdge().fromConstraintSegments = currEdge.fromConstraintSegments;\n\t\t\t\t\t\tvertexDown.addFromConstraintSegment(segment);\n\t\t\t\t\t\tsegment.addEdge(currEdge);\n\t\t\t\t\t\tvertexDown = currEdge.get_destinationVertex();\n\t\t\t\t\t\ttempEdgeDownUp.set_originVertex(vertexDown);\n\t\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EVertex(vertexDown);\n\t\t\t\t\t\tdone = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(done) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\titerVertexToOutEdges.set_fromVertex(currVertex);\n\t\t\t\twhile(true) {\n\t\t\t\t\tcurrEdge = iterVertexToOutEdges.next();\n\t\t\t\t\tif(!(currEdge != null)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcurrEdge = currEdge.get_nextLeftEdge();\n\t\t\t\t\tif(hxDaedalus_data_math_Geom2D.intersections2edges(currEdge,tempEdgeDownUp,pIntersect)) {\n\t\t\t\t\t\tif(currEdge.get_isConstrained()) {\n\t\t\t\t\t\t\tvertexDown = this.splitEdge(currEdge,pIntersect.x,pIntersect.y);\n\t\t\t\t\t\t\titerVertexToOutEdges.set_fromVertex(currVertex);\n\t\t\t\t\t\t\twhile(true) {\n\t\t\t\t\t\t\t\tcurrEdge = iterVertexToOutEdges.next();\n\t\t\t\t\t\t\t\tif(!(currEdge != null)) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(currEdge.get_destinationVertex() == vertexDown) {\n\t\t\t\t\t\t\t\t\tcurrEdge.set_isConstrained(true);\n\t\t\t\t\t\t\t\t\tcurrEdge.get_oppositeEdge().set_isConstrained(true);\n\t\t\t\t\t\t\t\t\tcurrEdge.addFromConstraintSegment(segment);\n\t\t\t\t\t\t\t\t\tcurrEdge.get_oppositeEdge().fromConstraintSegments = currEdge.fromConstraintSegments;\n\t\t\t\t\t\t\t\t\tsegment.addEdge(currEdge);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrVertex.addFromConstraintSegment(segment);\n\t\t\t\t\t\t\ttempEdgeDownUp.set_originVertex(vertexDown);\n\t\t\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EVertex(vertexDown);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tintersectedEdges.push(currEdge);\n\t\t\t\t\t\t\tleftBoundingEdges.unshift(currEdge.get_nextLeftEdge());\n\t\t\t\t\t\t\trightBoundingEdges.push(currEdge.get_prevLeftEdge());\n\t\t\t\t\t\t\tcurrEdge = currEdge.get_oppositeEdge();\n\t\t\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EEdge(currEdge);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tvar edge = currObjet[2];\n\t\t\t\tcurrEdge = edge;\n\t\t\t\tedgeLeft = currEdge.get_nextLeftEdge();\n\t\t\t\tif(edgeLeft.get_destinationVertex() == vertexUp) {\n\t\t\t\t\tleftBoundingEdges.unshift(edgeLeft.get_nextLeftEdge());\n\t\t\t\t\trightBoundingEdges.push(edgeLeft);\n\t\t\t\t\tnewEdgeDownUp = new hxDaedalus_data_Edge();\n\t\t\t\t\tnewEdgeUpDown = new hxDaedalus_data_Edge();\n\t\t\t\t\tnewEdgeDownUp.setDatas(vertexDown,newEdgeUpDown,null,null,true,true);\n\t\t\t\t\tnewEdgeUpDown.setDatas(vertexUp,newEdgeDownUp,null,null,true,true);\n\t\t\t\t\tleftBoundingEdges.push(newEdgeDownUp);\n\t\t\t\t\trightBoundingEdges.push(newEdgeUpDown);\n\t\t\t\t\tthis.insertNewConstrainedEdge(segment,newEdgeDownUp,intersectedEdges,leftBoundingEdges,rightBoundingEdges);\n\t\t\t\t\treturn segment;\n\t\t\t\t} else if(hxDaedalus_data_math_Geom2D.distanceSquaredVertexToEdge(edgeLeft.get_destinationVertex(),tempEdgeDownUp) <= 0.0001) {\n\t\t\t\t\tleftBoundingEdges.unshift(edgeLeft.get_nextLeftEdge());\n\t\t\t\t\trightBoundingEdges.push(edgeLeft);\n\t\t\t\t\tnewEdgeDownUp = new hxDaedalus_data_Edge();\n\t\t\t\t\tnewEdgeUpDown = new hxDaedalus_data_Edge();\n\t\t\t\t\tnewEdgeDownUp.setDatas(vertexDown,newEdgeUpDown,null,null,true,true);\n\t\t\t\t\tnewEdgeUpDown.setDatas(edgeLeft.get_destinationVertex(),newEdgeDownUp,null,null,true,true);\n\t\t\t\t\tleftBoundingEdges.push(newEdgeDownUp);\n\t\t\t\t\trightBoundingEdges.push(newEdgeUpDown);\n\t\t\t\t\tthis.insertNewConstrainedEdge(segment,newEdgeDownUp,intersectedEdges,leftBoundingEdges,rightBoundingEdges);\n\t\t\t\t\tintersectedEdges.splice(0,intersectedEdges.length);\n\t\t\t\t\tleftBoundingEdges.splice(0,leftBoundingEdges.length);\n\t\t\t\t\trightBoundingEdges.splice(0,rightBoundingEdges.length);\n\t\t\t\t\tvertexDown = edgeLeft.get_destinationVertex();\n\t\t\t\t\ttempEdgeDownUp.set_originVertex(vertexDown);\n\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EVertex(vertexDown);\n\t\t\t\t} else if(hxDaedalus_data_math_Geom2D.intersections2edges(edgeLeft,tempEdgeDownUp,pIntersect)) {\n\t\t\t\t\tif(edgeLeft.get_isConstrained()) {\n\t\t\t\t\t\tcurrVertex = this.splitEdge(edgeLeft,pIntersect.x,pIntersect.y);\n\t\t\t\t\t\titerVertexToOutEdges.set_fromVertex(currVertex);\n\t\t\t\t\t\twhile(true) {\n\t\t\t\t\t\t\tcurrEdge = iterVertexToOutEdges.next();\n\t\t\t\t\t\t\tif(!(currEdge != null)) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(currEdge.get_destinationVertex() == leftBoundingEdges[0].get_originVertex()) {\n\t\t\t\t\t\t\t\tleftBoundingEdges.unshift(currEdge);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(currEdge.get_destinationVertex() == rightBoundingEdges[rightBoundingEdges.length - 1].get_destinationVertex()) {\n\t\t\t\t\t\t\t\trightBoundingEdges.push(currEdge.get_oppositeEdge());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewEdgeDownUp = new hxDaedalus_data_Edge();\n\t\t\t\t\t\tnewEdgeUpDown = new hxDaedalus_data_Edge();\n\t\t\t\t\t\tnewEdgeDownUp.setDatas(vertexDown,newEdgeUpDown,null,null,true,true);\n\t\t\t\t\t\tnewEdgeUpDown.setDatas(currVertex,newEdgeDownUp,null,null,true,true);\n\t\t\t\t\t\tleftBoundingEdges.push(newEdgeDownUp);\n\t\t\t\t\t\trightBoundingEdges.push(newEdgeUpDown);\n\t\t\t\t\t\tthis.insertNewConstrainedEdge(segment,newEdgeDownUp,intersectedEdges,leftBoundingEdges,rightBoundingEdges);\n\t\t\t\t\t\tintersectedEdges.splice(0,intersectedEdges.length);\n\t\t\t\t\t\tleftBoundingEdges.splice(0,leftBoundingEdges.length);\n\t\t\t\t\t\trightBoundingEdges.splice(0,rightBoundingEdges.length);\n\t\t\t\t\t\tvertexDown = currVertex;\n\t\t\t\t\t\ttempEdgeDownUp.set_originVertex(vertexDown);\n\t\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EVertex(vertexDown);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tintersectedEdges.push(edgeLeft);\n\t\t\t\t\t\tleftBoundingEdges.unshift(edgeLeft.get_nextLeftEdge());\n\t\t\t\t\t\tcurrEdge = edgeLeft.get_oppositeEdge();\n\t\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EEdge(currEdge);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tedgeLeft = edgeLeft.get_nextLeftEdge();\n\t\t\t\t\thxDaedalus_data_math_Geom2D.intersections2edges(edgeLeft,tempEdgeDownUp,pIntersect);\n\t\t\t\t\tif(edgeLeft.get_isConstrained()) {\n\t\t\t\t\t\tcurrVertex = this.splitEdge(edgeLeft,pIntersect.x,pIntersect.y);\n\t\t\t\t\t\titerVertexToOutEdges.set_fromVertex(currVertex);\n\t\t\t\t\t\twhile(true) {\n\t\t\t\t\t\t\tcurrEdge = iterVertexToOutEdges.next();\n\t\t\t\t\t\t\tif(!(currEdge != null)) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(currEdge.get_destinationVertex() == leftBoundingEdges[0].get_originVertex()) {\n\t\t\t\t\t\t\t\tleftBoundingEdges.unshift(currEdge);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(currEdge.get_destinationVertex() == rightBoundingEdges[rightBoundingEdges.length - 1].get_destinationVertex()) {\n\t\t\t\t\t\t\t\trightBoundingEdges.push(currEdge.get_oppositeEdge());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewEdgeDownUp = new hxDaedalus_data_Edge();\n\t\t\t\t\t\tnewEdgeUpDown = new hxDaedalus_data_Edge();\n\t\t\t\t\t\tnewEdgeDownUp.setDatas(vertexDown,newEdgeUpDown,null,null,true,true);\n\t\t\t\t\t\tnewEdgeUpDown.setDatas(currVertex,newEdgeDownUp,null,null,true,true);\n\t\t\t\t\t\tleftBoundingEdges.push(newEdgeDownUp);\n\t\t\t\t\t\trightBoundingEdges.push(newEdgeUpDown);\n\t\t\t\t\t\tthis.insertNewConstrainedEdge(segment,newEdgeDownUp,intersectedEdges,leftBoundingEdges,rightBoundingEdges);\n\t\t\t\t\t\tintersectedEdges.splice(0,intersectedEdges.length);\n\t\t\t\t\t\tleftBoundingEdges.splice(0,leftBoundingEdges.length);\n\t\t\t\t\t\trightBoundingEdges.splice(0,rightBoundingEdges.length);\n\t\t\t\t\t\tvertexDown = currVertex;\n\t\t\t\t\t\ttempEdgeDownUp.set_originVertex(vertexDown);\n\t\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EVertex(vertexDown);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tintersectedEdges.push(edgeLeft);\n\t\t\t\t\t\trightBoundingEdges.push(edgeLeft.get_prevLeftEdge());\n\t\t\t\t\t\tcurrEdge = edgeLeft.get_oppositeEdge();\n\t\t\t\t\t\tcurrObjet = hxDaedalus_data_math_Intersection.EEdge(currEdge);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tvar face = currObjet[2];\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t,insertNewConstrainedEdge: function(fromSegment,edgeDownUp,intersectedEdges,leftBoundingEdges,rightBoundingEdges) {\n\t\tthis._edges.push(edgeDownUp);\n\t\tthis._edges.push(edgeDownUp.get_oppositeEdge());\n\t\tedgeDownUp.addFromConstraintSegment(fromSegment);\n\t\tedgeDownUp.get_oppositeEdge().fromConstraintSegments = edgeDownUp.fromConstraintSegments;\n\t\tfromSegment.addEdge(edgeDownUp);\n\t\tedgeDownUp.get_originVertex().addFromConstraintSegment(fromSegment);\n\t\tedgeDownUp.get_destinationVertex().addFromConstraintSegment(fromSegment);\n\t\tthis.untriangulate(intersectedEdges);\n\t\tthis.triangulate(leftBoundingEdges,true);\n\t\tthis.triangulate(rightBoundingEdges,true);\n\t}\n\t,deleteConstraintSegment: function(segment) {\n\t\tvar i;\n\t\tvar vertexToDelete = [];\n\t\tvar edge = null;\n\t\tvar vertex;\n\t\tvar fromConstraintSegment;\n\t\tvar _g1 = 0;\n\t\tvar _g = segment.get_edges().length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i1 = _g1++;\n\t\t\tedge = segment.get_edges()[i1];\n\t\t\tedge.removeFromConstraintSegment(segment);\n\t\t\tif(edge.fromConstraintSegments.length == 0) {\n\t\t\t\tedge.set_isConstrained(false);\n\t\t\t\tedge.get_oppositeEdge().set_isConstrained(false);\n\t\t\t}\n\t\t\tvertex = edge.get_originVertex();\n\t\t\tvertex.removeFromConstraintSegment(segment);\n\t\t\tvertexToDelete.push(vertex);\n\t\t}\n\t\tvertex = edge.get_destinationVertex();\n\t\tvertex.removeFromConstraintSegment(segment);\n\t\tvertexToDelete.push(vertex);\n\t\tvar _g11 = 0;\n\t\tvar _g2 = vertexToDelete.length;\n\t\twhile(_g11 < _g2) {\n\t\t\tvar i2 = _g11++;\n\t\t\tthis.deleteVertex(vertexToDelete[i2]);\n\t\t}\n\t\tsegment.dispose();\n\t}\n\t,check: function() {\n\t\tvar _g1 = 0;\n\t\tvar _g = this._edges.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tif(this._edges[i].get_nextLeftEdge() == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\t,insertVertex: function(x,y) {\n\t\tif(x < 0 || y < 0 || x > this._width || y > this._height) {\n\t\t\treturn null;\n\t\t}\n\t\tthis.__edgesToCheck.splice(0,this.__edgesToCheck.length);\n\t\tvar inObject = hxDaedalus_data_math_Geom2D.locatePosition(x,y,this);\n\t\tvar newVertex = null;\n\t\tswitch(inObject[1]) {\n\t\tcase 0:\n\t\t\tvar vertex = inObject[2];\n\t\t\tnewVertex = vertex;\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tvar edge = inObject[2];\n\t\t\tnewVertex = this.splitEdge(edge,x,y);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tvar face = inObject[2];\n\t\t\tnewVertex = this.splitFace(face,x,y);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tbreak;\n\t\t}\n\t\tthis.restoreAsDelaunay();\n\t\treturn newVertex;\n\t}\n\t,flipEdge: function(edge) {\n\t\tvar eBot_Top = edge;\n\t\tvar eTop_Bot = edge.get_oppositeEdge();\n\t\tvar eLeft_Right = new hxDaedalus_data_Edge();\n\t\tvar eRight_Left = new hxDaedalus_data_Edge();\n\t\tvar eTop_Left = eBot_Top.get_nextLeftEdge();\n\t\tvar eLeft_Bot = eTop_Left.get_nextLeftEdge();\n\t\tvar eBot_Right = eTop_Bot.get_nextLeftEdge();\n\t\tvar eRight_Top = eBot_Right.get_nextLeftEdge();\n\t\tvar vBot = eBot_Top.get_originVertex();\n\t\tvar vTop = eTop_Bot.get_originVertex();\n\t\tvar vLeft = eLeft_Bot.get_originVertex();\n\t\tvar vRight = eRight_Top.get_originVertex();\n\t\tvar fLeft = eBot_Top.get_leftFace();\n\t\tvar fRight = eTop_Bot.get_leftFace();\n\t\tvar fBot = new hxDaedalus_data_Face();\n\t\tvar fTop = new hxDaedalus_data_Face();\n\t\tthis._edges.push(eLeft_Right);\n\t\tthis._edges.push(eRight_Left);\n\t\tthis._faces.push(fTop);\n\t\tthis._faces.push(fBot);\n\t\teLeft_Right.setDatas(vLeft,eRight_Left,eRight_Top,fTop,edge.get_isReal(),edge.get_isConstrained());\n\t\teRight_Left.setDatas(vRight,eLeft_Right,eLeft_Bot,fBot,edge.get_isReal(),edge.get_isConstrained());\n\t\tfTop.setDatas(eLeft_Right);\n\t\tfBot.setDatas(eRight_Left);\n\t\tif(vTop.get_edge() == eTop_Bot) {\n\t\t\tvTop.setDatas(eTop_Left);\n\t\t}\n\t\tif(vBot.get_edge() == eBot_Top) {\n\t\t\tvBot.setDatas(eBot_Right);\n\t\t}\n\t\teTop_Left.set_nextLeftEdge(eLeft_Right);\n\t\teTop_Left.set_leftFace(fTop);\n\t\teLeft_Bot.set_nextLeftEdge(eBot_Right);\n\t\teLeft_Bot.set_leftFace(fBot);\n\t\teBot_Right.set_nextLeftEdge(eRight_Left);\n\t\teBot_Right.set_leftFace(fBot);\n\t\teRight_Top.set_nextLeftEdge(eTop_Left);\n\t\teRight_Top.set_leftFace(fTop);\n\t\teBot_Top.dispose();\n\t\teTop_Bot.dispose();\n\t\tthis._edges.splice(this._edges.indexOf(eBot_Top),1);\n\t\tthis._edges.splice(this._edges.indexOf(eTop_Bot),1);\n\t\tfLeft.dispose();\n\t\tfRight.dispose();\n\t\tthis._faces.splice(this._faces.indexOf(fLeft),1);\n\t\tthis._faces.splice(this._faces.indexOf(fRight),1);\n\t\treturn eRight_Left;\n\t}\n\t,splitEdge: function(edge,x,y) {\n\t\tthis.__edgesToCheck.splice(0,this.__edgesToCheck.length);\n\t\tvar eLeft_Right = edge;\n\t\tvar eRight_Left = eLeft_Right.get_oppositeEdge();\n\t\tvar eRight_Top = eLeft_Right.get_nextLeftEdge();\n\t\tvar eTop_Left = eRight_Top.get_nextLeftEdge();\n\t\tvar eLeft_Bot = eRight_Left.get_nextLeftEdge();\n\t\tvar eBot_Right = eLeft_Bot.get_nextLeftEdge();\n\t\tvar vTop = eTop_Left.get_originVertex();\n\t\tvar vLeft = eLeft_Right.get_originVertex();\n\t\tvar vBot = eBot_Right.get_originVertex();\n\t\tvar vRight = eRight_Left.get_originVertex();\n\t\tvar fTop = eLeft_Right.get_leftFace();\n\t\tvar fBot = eRight_Left.get_leftFace();\n\t\tif((vLeft.get_pos().x - x) * (vLeft.get_pos().x - x) + (vLeft.get_pos().y - y) * (vLeft.get_pos().y - y) <= 0.0001) {\n\t\t\treturn vLeft;\n\t\t}\n\t\tif((vRight.get_pos().x - x) * (vRight.get_pos().x - x) + (vRight.get_pos().y - y) * (vRight.get_pos().y - y) <= 0.0001) {\n\t\t\treturn vRight;\n\t\t}\n\t\tvar vCenter = new hxDaedalus_data_Vertex();\n\t\tvar eTop_Center = new hxDaedalus_data_Edge();\n\t\tvar eCenter_Top = new hxDaedalus_data_Edge();\n\t\tvar eBot_Center = new hxDaedalus_data_Edge();\n\t\tvar eCenter_Bot = new hxDaedalus_data_Edge();\n\t\tvar eLeft_Center = new hxDaedalus_data_Edge();\n\t\tvar eCenter_Left = new hxDaedalus_data_Edge();\n\t\tvar eRight_Center = new hxDaedalus_data_Edge();\n\t\tvar eCenter_Right = new hxDaedalus_data_Edge();\n\t\tvar fTopLeft = new hxDaedalus_data_Face();\n\t\tvar fBotLeft = new hxDaedalus_data_Face();\n\t\tvar fBotRight = new hxDaedalus_data_Face();\n\t\tvar fTopRight = new hxDaedalus_data_Face();\n\t\tthis._vertices.push(vCenter);\n\t\tthis._edges.push(eCenter_Top);\n\t\tthis._edges.push(eTop_Center);\n\t\tthis._edges.push(eCenter_Left);\n\t\tthis._edges.push(eLeft_Center);\n\t\tthis._edges.push(eCenter_Bot);\n\t\tthis._edges.push(eBot_Center);\n\t\tthis._edges.push(eCenter_Right);\n\t\tthis._edges.push(eRight_Center);\n\t\tthis._faces.push(fTopRight);\n\t\tthis._faces.push(fBotRight);\n\t\tthis._faces.push(fBotLeft);\n\t\tthis._faces.push(fTopLeft);\n\t\tvCenter.setDatas(fTop.get_isReal() ? eCenter_Top : eCenter_Bot);\n\t\tvCenter.get_pos().x = x;\n\t\tvCenter.get_pos().y = y;\n\t\thxDaedalus_data_math_Geom2D.projectOrthogonaly(vCenter.get_pos(),eLeft_Right);\n\t\teCenter_Top.setDatas(vCenter,eTop_Center,eTop_Left,fTopLeft,fTop.get_isReal());\n\t\teTop_Center.setDatas(vTop,eCenter_Top,eCenter_Right,fTopRight,fTop.get_isReal());\n\t\teCenter_Left.setDatas(vCenter,eLeft_Center,eLeft_Bot,fBotLeft,edge.get_isReal(),edge.get_isConstrained());\n\t\teLeft_Center.setDatas(vLeft,eCenter_Left,eCenter_Top,fTopLeft,edge.get_isReal(),edge.get_isConstrained());\n\t\teCenter_Bot.setDatas(vCenter,eBot_Center,eBot_Right,fBotRight,fBot.get_isReal());\n\t\teBot_Center.setDatas(vBot,eCenter_Bot,eCenter_Left,fBotLeft,fBot.get_isReal());\n\t\teCenter_Right.setDatas(vCenter,eRight_Center,eRight_Top,fTopRight,edge.get_isReal(),edge.get_isConstrained());\n\t\teRight_Center.setDatas(vRight,eCenter_Right,eCenter_Bot,fBotRight,edge.get_isReal(),edge.get_isConstrained());\n\t\tfTopLeft.setDatas(eCenter_Top,fTop.get_isReal());\n\t\tfBotLeft.setDatas(eCenter_Left,fBot.get_isReal());\n\t\tfBotRight.setDatas(eCenter_Bot,fBot.get_isReal());\n\t\tfTopRight.setDatas(eCenter_Right,fTop.get_isReal());\n\t\tif(vLeft.get_edge() == eLeft_Right) {\n\t\t\tvLeft.setDatas(eLeft_Center);\n\t\t}\n\t\tif(vRight.get_edge() == eRight_Left) {\n\t\t\tvRight.setDatas(eRight_Center);\n\t\t}\n\t\teTop_Left.set_nextLeftEdge(eLeft_Center);\n\t\teTop_Left.set_leftFace(fTopLeft);\n\t\teLeft_Bot.set_nextLeftEdge(eBot_Center);\n\t\teLeft_Bot.set_leftFace(fBotLeft);\n\t\teBot_Right.set_nextLeftEdge(eRight_Center);\n\t\teBot_Right.set_leftFace(fBotRight);\n\t\teRight_Top.set_nextLeftEdge(eTop_Center);\n\t\teRight_Top.set_leftFace(fTopRight);\n\t\tif(eLeft_Right.get_isConstrained()) {\n\t\t\tvar fromSegments = eLeft_Right.fromConstraintSegments;\n\t\t\teLeft_Center.fromConstraintSegments = fromSegments.slice(0);\n\t\t\teCenter_Left.fromConstraintSegments = eLeft_Center.fromConstraintSegments;\n\t\t\teCenter_Right.fromConstraintSegments = fromSegments.slice(0);\n\t\t\teRight_Center.fromConstraintSegments = eCenter_Right.fromConstraintSegments;\n\t\t\tvar edges;\n\t\t\tvar index;\n\t\t\tvar _g1 = 0;\n\t\t\tvar _g = eLeft_Right.fromConstraintSegments.length;\n\t\t\twhile(_g1 < _g) {\n\t\t\t\tvar i = _g1++;\n\t\t\t\tedges = eLeft_Right.fromConstraintSegments[i].get_edges();\n\t\t\t\tindex = edges.indexOf(eLeft_Right);\n\t\t\t\tif(index != -1) {\n\t\t\t\t\tedges.splice(index,1);\n\t\t\t\t\tedges.splice(index,0,eLeft_Center);\n\t\t\t\t\tedges.splice(index + 1,0,eCenter_Right);\n\t\t\t\t} else {\n\t\t\t\t\tindex = edges.indexOf(eRight_Left);\n\t\t\t\t\tedges.splice(index,1);\n\t\t\t\t\tedges.splice(index,0,eRight_Center);\n\t\t\t\t\tedges.splice(index + 1,0,eCenter_Left);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvCenter.set_fromConstraintSegments(fromSegments.slice(0));\n\t\t}\n\t\teLeft_Right.dispose();\n\t\teRight_Left.dispose();\n\t\tthis._edges.splice(this._edges.indexOf(eLeft_Right),1);\n\t\tthis._edges.splice(this._edges.indexOf(eRight_Left),1);\n\t\tfTop.dispose();\n\t\tfBot.dispose();\n\t\tthis._faces.splice(this._faces.indexOf(fTop),1);\n\t\tthis._faces.splice(this._faces.indexOf(fBot),1);\n\t\tthis.__centerVertex = vCenter;\n\t\tthis.__edgesToCheck.push(eTop_Left);\n\t\tthis.__edgesToCheck.push(eLeft_Bot);\n\t\tthis.__edgesToCheck.push(eBot_Right);\n\t\tthis.__edgesToCheck.push(eRight_Top);\n\t\treturn vCenter;\n\t}\n\t,splitFace: function(face,x,y) {\n\t\tthis.__edgesToCheck.splice(0,this.__edgesToCheck.length);\n\t\tvar eTop_Left = face.get_edge();\n\t\tvar eLeft_Right = eTop_Left.get_nextLeftEdge();\n\t\tvar eRight_Top = eLeft_Right.get_nextLeftEdge();\n\t\tvar vTop = eTop_Left.get_originVertex();\n\t\tvar vLeft = eLeft_Right.get_originVertex();\n\t\tvar vRight = eRight_Top.get_originVertex();\n\t\tvar vCenter = new hxDaedalus_data_Vertex();\n\t\tvar eTop_Center = new hxDaedalus_data_Edge();\n\t\tvar eCenter_Top = new hxDaedalus_data_Edge();\n\t\tvar eLeft_Center = new hxDaedalus_data_Edge();\n\t\tvar eCenter_Left = new hxDaedalus_data_Edge();\n\t\tvar eRight_Center = new hxDaedalus_data_Edge();\n\t\tvar eCenter_Right = new hxDaedalus_data_Edge();\n\t\tvar fTopLeft = new hxDaedalus_data_Face();\n\t\tvar fBot = new hxDaedalus_data_Face();\n\t\tvar fTopRight = new hxDaedalus_data_Face();\n\t\tthis._vertices.push(vCenter);\n\t\tthis._edges.push(eTop_Center);\n\t\tthis._edges.push(eCenter_Top);\n\t\tthis._edges.push(eLeft_Center);\n\t\tthis._edges.push(eCenter_Left);\n\t\tthis._edges.push(eRight_Center);\n\t\tthis._edges.push(eCenter_Right);\n\t\tthis._faces.push(fTopLeft);\n\t\tthis._faces.push(fBot);\n\t\tthis._faces.push(fTopRight);\n\t\tvCenter.setDatas(eCenter_Top);\n\t\tvCenter.get_pos().x = x;\n\t\tvCenter.get_pos().y = y;\n\t\teTop_Center.setDatas(vTop,eCenter_Top,eCenter_Right,fTopRight);\n\t\teCenter_Top.setDatas(vCenter,eTop_Center,eTop_Left,fTopLeft);\n\t\teLeft_Center.setDatas(vLeft,eCenter_Left,eCenter_Top,fTopLeft);\n\t\teCenter_Left.setDatas(vCenter,eLeft_Center,eLeft_Right,fBot);\n\t\teRight_Center.setDatas(vRight,eCenter_Right,eCenter_Left,fBot);\n\t\teCenter_Right.setDatas(vCenter,eRight_Center,eRight_Top,fTopRight);\n\t\tfTopLeft.setDatas(eCenter_Top);\n\t\tfBot.setDatas(eCenter_Left);\n\t\tfTopRight.setDatas(eCenter_Right);\n\t\teTop_Left.set_nextLeftEdge(eLeft_Center);\n\t\teTop_Left.set_leftFace(fTopLeft);\n\t\teLeft_Right.set_nextLeftEdge(eRight_Center);\n\t\teLeft_Right.set_leftFace(fBot);\n\t\teRight_Top.set_nextLeftEdge(eTop_Center);\n\t\teRight_Top.set_leftFace(fTopRight);\n\t\tface.dispose();\n\t\tthis._faces.splice(this._faces.indexOf(face),1);\n\t\tthis.__centerVertex = vCenter;\n\t\tthis.__edgesToCheck.push(eTop_Left);\n\t\tthis.__edgesToCheck.push(eLeft_Right);\n\t\tthis.__edgesToCheck.push(eRight_Top);\n\t\treturn vCenter;\n\t}\n\t,restoreAsDelaunay: function() {\n\t\tvar edge;\n\t\twhile(this.__edgesToCheck.length > 0) {\n\t\t\tedge = this.__edgesToCheck.shift();\n\t\t\tif(edge.get_isReal() && !edge.get_isConstrained() && !hxDaedalus_data_math_Geom2D.isDelaunay(edge)) {\n\t\t\t\tif(edge.get_nextLeftEdge().get_destinationVertex() == this.__centerVertex) {\n\t\t\t\t\tthis.__edgesToCheck.push(edge.get_nextRightEdge());\n\t\t\t\t\tthis.__edgesToCheck.push(edge.get_prevRightEdge());\n\t\t\t\t} else {\n\t\t\t\t\tthis.__edgesToCheck.push(edge.get_nextLeftEdge());\n\t\t\t\t\tthis.__edgesToCheck.push(edge.get_prevLeftEdge());\n\t\t\t\t}\n\t\t\t\tthis.flipEdge(edge);\n\t\t\t}\n\t\t}\n\t}\n\t,deleteVertex: function(vertex) {\n\t\tvar i;\n\t\tvar freeOfConstraint;\n\t\tvar iterEdges = new hxDaedalus_iterators_FromVertexToOutgoingEdges();\n\t\titerEdges.set_fromVertex(vertex);\n\t\titerEdges.realEdgesOnly = false;\n\t\tvar edge;\n\t\tvar outgoingEdges = [];\n\t\tfreeOfConstraint = vertex.get_fromConstraintSegments().length == 0;\n\t\tvar bound = [];\n\t\tvar realA = false;\n\t\tvar realB = false;\n\t\tvar boundA = [];\n\t\tvar boundB = [];\n\t\tif(freeOfConstraint) {\n\t\t\twhile(true) {\n\t\t\t\tedge = iterEdges.next();\n\t\t\t\tif(!(edge != null)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toutgoingEdges.push(edge);\n\t\t\t\tbound.push(edge.get_nextLeftEdge());\n\t\t\t}\n\t\t} else {\n\t\t\tvar edges;\n\t\t\tvar _g1 = 0;\n\t\t\tvar _g = vertex.get_fromConstraintSegments().length;\n\t\t\twhile(_g1 < _g) {\n\t\t\t\tvar i1 = _g1++;\n\t\t\t\tedges = vertex.get_fromConstraintSegments()[i1].get_edges();\n\t\t\t\tif(edges[0].get_originVertex() == vertex || edges[edges.length - 1].get_destinationVertex() == vertex) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0;\n\t\t\twhile(true) {\n\t\t\t\tedge = iterEdges.next();\n\t\t\t\tif(!(edge != null)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toutgoingEdges.push(edge);\n\t\t\t\tif(edge.get_isConstrained()) {\n\t\t\t\t\t++count;\n\t\t\t\t\tif(count > 2) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tboundA = [];\n\t\t\tboundB = [];\n\t\t\tvar constrainedEdgeA = null;\n\t\t\tvar constrainedEdgeB = null;\n\t\t\tvar edgeA = new hxDaedalus_data_Edge();\n\t\t\tvar edgeB = new hxDaedalus_data_Edge();\n\t\t\tthis._edges.push(edgeA);\n\t\t\tthis._edges.push(edgeB);\n\t\t\tvar _g11 = 0;\n\t\t\tvar _g2 = outgoingEdges.length;\n\t\t\twhile(_g11 < _g2) {\n\t\t\t\tvar i2 = _g11++;\n\t\t\t\tedge = outgoingEdges[i2];\n\t\t\t\tif(edge.get_isConstrained()) {\n\t\t\t\t\tif(constrainedEdgeA == null) {\n\t\t\t\t\t\tedgeB.setDatas(edge.get_destinationVertex(),edgeA,null,null,true,true);\n\t\t\t\t\t\tboundA.push(edgeA);\n\t\t\t\t\t\tboundA.push(edge.get_nextLeftEdge());\n\t\t\t\t\t\tboundB.push(edgeB);\n\t\t\t\t\t\tconstrainedEdgeA = edge;\n\t\t\t\t\t} else if(constrainedEdgeB == null) {\n\t\t\t\t\t\tedgeA.setDatas(edge.get_destinationVertex(),edgeB,null,null,true,true);\n\t\t\t\t\t\tboundB.push(edge.get_nextLeftEdge());\n\t\t\t\t\t\tconstrainedEdgeB = edge;\n\t\t\t\t\t}\n\t\t\t\t} else if(constrainedEdgeA == null) {\n\t\t\t\t\tboundB.push(edge.get_nextLeftEdge());\n\t\t\t\t} else if(constrainedEdgeB == null) {\n\t\t\t\t\tboundA.push(edge.get_nextLeftEdge());\n\t\t\t\t} else {\n\t\t\t\t\tboundB.push(edge.get_nextLeftEdge());\n\t\t\t\t}\n\t\t\t}\n\t\t\trealA = constrainedEdgeA.get_leftFace().get_isReal();\n\t\t\trealB = constrainedEdgeB.get_leftFace().get_isReal();\n\t\t\tedgeA.fromConstraintSegments = constrainedEdgeA.fromConstraintSegments.slice(0);\n\t\t\tedgeB.fromConstraintSegments = edgeA.fromConstraintSegments;\n\t\t\tvar index;\n\t\t\tvar _g12 = 0;\n\t\t\tvar _g3 = vertex.get_fromConstraintSegments().length;\n\t\t\twhile(_g12 < _g3) {\n\t\t\t\tvar i3 = _g12++;\n\t\t\t\tedges = vertex.get_fromConstraintSegments()[i3].get_edges();\n\t\t\t\tindex = edges.indexOf(constrainedEdgeA);\n\t\t\t\tif(index != -1) {\n\t\t\t\t\tedges.splice(index - 1,2);\n\t\t\t\t\tedges.splice(index - 1,0,edgeA);\n\t\t\t\t} else {\n\t\t\t\t\tvar index2 = edges.indexOf(constrainedEdgeB) - 1;\n\t\t\t\t\tedges.splice(index2,2);\n\t\t\t\t\tedges.splice(index2,0,edgeB);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar faceToDelete;\n\t\tvar _g13 = 0;\n\t\tvar _g4 = outgoingEdges.length;\n\t\twhile(_g13 < _g4) {\n\t\t\tvar i4 = _g13++;\n\t\t\tedge = outgoingEdges[i4];\n\t\t\tfaceToDelete = edge.get_leftFace();\n\t\t\tthis._faces.splice(this._faces.indexOf(faceToDelete),1);\n\t\t\tfaceToDelete.dispose();\n\t\t\tedge.get_destinationVertex().set_edge(edge.get_nextLeftEdge());\n\t\t\tthis._edges.splice(this._edges.indexOf(edge.get_oppositeEdge()),1);\n\t\t\tedge.get_oppositeEdge().dispose();\n\t\t\tthis._edges.splice(this._edges.indexOf(edge),1);\n\t\t\tedge.dispose();\n\t\t}\n\t\tthis._vertices.splice(this._vertices.indexOf(vertex),1);\n\t\tvertex.dispose();\n\t\tif(freeOfConstraint) {\n\t\t\tthis.triangulate(bound,true);\n\t\t} else {\n\t\t\tthis.triangulate(boundA,realA);\n\t\t\tthis.triangulate(boundB,realB);\n\t\t}\n\t\treturn true;\n\t}\n\t,untriangulate: function(edgesList) {\n\t\tvar i;\n\t\tvar verticesCleaned = new haxe_ds_ObjectMap();\n\t\tvar currEdge;\n\t\tvar outEdge;\n\t\tvar _g1 = 0;\n\t\tvar _g = edgesList.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i1 = _g1++;\n\t\t\tcurrEdge = edgesList[i1];\n\t\t\tvar key = currEdge.get_originVertex();\n\t\t\tif(verticesCleaned.h[key.__id__] == null) {\n\t\t\t\tcurrEdge.get_originVertex().set_edge(currEdge.get_prevLeftEdge().get_oppositeEdge());\n\t\t\t\tverticesCleaned.set(currEdge.get_originVertex(),true);\n\t\t\t}\n\t\t\tvar key1 = currEdge.get_destinationVertex();\n\t\t\tif(verticesCleaned.h[key1.__id__] == null) {\n\t\t\t\tcurrEdge.get_destinationVertex().set_edge(currEdge.get_nextLeftEdge());\n\t\t\t\tverticesCleaned.set(currEdge.get_destinationVertex(),true);\n\t\t\t}\n\t\t\tthis._faces.splice(this._faces.indexOf(currEdge.get_leftFace()),1);\n\t\t\tcurrEdge.get_leftFace().dispose();\n\t\t\tif(i1 == edgesList.length - 1) {\n\t\t\t\tthis._faces.splice(this._faces.indexOf(currEdge.get_rightFace()),1);\n\t\t\t\tcurrEdge.get_rightFace().dispose();\n\t\t\t}\n\t\t}\n\t\tvar _g11 = 0;\n\t\tvar _g2 = edgesList.length;\n\t\twhile(_g11 < _g2) {\n\t\t\tvar i2 = _g11++;\n\t\t\tcurrEdge = edgesList[i2];\n\t\t\tthis._edges.splice(this._edges.indexOf(currEdge.get_oppositeEdge()),1);\n\t\t\tthis._edges.splice(this._edges.indexOf(currEdge),1);\n\t\t\tcurrEdge.get_oppositeEdge().dispose();\n\t\t\tcurrEdge.dispose();\n\t\t}\n\t}\n\t,triangulate: function(bound,isReal) {\n\t\tif(bound.length < 2) {\n\t\t\treturn;\n\t\t} else if(bound.length == 2) {\n\t\t\tvar value = \"  - edge0: \" + bound[0].get_originVertex().get_id() + \" -> \" + bound[0].get_destinationVertex().get_id();\n\t\t\tvar value1 = \"  - edge1: \" + bound[1].get_originVertex().get_id() + \" -> \" + bound[1].get_destinationVertex().get_id();\n\t\t\treturn;\n\t\t} else if(bound.length == 3) {\n\t\t\tvar f = new hxDaedalus_data_Face();\n\t\t\tf.setDatas(bound[0],isReal);\n\t\t\tthis._faces.push(f);\n\t\t\tbound[0].set_leftFace(f);\n\t\t\tbound[1].set_leftFace(f);\n\t\t\tbound[2].set_leftFace(f);\n\t\t\tbound[0].set_nextLeftEdge(bound[1]);\n\t\t\tbound[1].set_nextLeftEdge(bound[2]);\n\t\t\tbound[2].set_nextLeftEdge(bound[0]);\n\t\t} else {\n\t\t\tvar baseEdge = bound[0];\n\t\t\tvar vertexA = baseEdge.get_originVertex();\n\t\t\tvar vertexB = baseEdge.get_destinationVertex();\n\t\t\tvar vertexC;\n\t\t\tvar vertexCheck;\n\t\t\tvar circumcenter = new hxDaedalus_data_math_Point2D();\n\t\t\tvar radiusSquared;\n\t\t\tvar distanceSquared;\n\t\t\tvar isDelaunay = false;\n\t\t\tvar index = 0;\n\t\t\tvar i;\n\t\t\tvar _g1 = 2;\n\t\t\tvar _g = bound.length;\n\t\t\twhile(_g1 < _g) {\n\t\t\t\tvar i1 = _g1++;\n\t\t\t\tvertexC = bound[i1].get_originVertex();\n\t\t\t\tif(hxDaedalus_data_math_Geom2D.getRelativePosition2(vertexC.get_pos().x,vertexC.get_pos().y,baseEdge) == 1) {\n\t\t\t\t\tindex = i1;\n\t\t\t\t\tisDelaunay = true;\n\t\t\t\t\thxDaedalus_data_math_Geom2D.getCircumcenter(vertexA.get_pos().x,vertexA.get_pos().y,vertexB.get_pos().x,vertexB.get_pos().y,vertexC.get_pos().x,vertexC.get_pos().y,circumcenter);\n\t\t\t\t\tradiusSquared = (vertexA.get_pos().x - circumcenter.x) * (vertexA.get_pos().x - circumcenter.x) + (vertexA.get_pos().y - circumcenter.y) * (vertexA.get_pos().y - circumcenter.y);\n\t\t\t\t\tradiusSquared -= 0.0001;\n\t\t\t\t\tvar _g3 = 2;\n\t\t\t\t\tvar _g2 = bound.length;\n\t\t\t\t\twhile(_g3 < _g2) {\n\t\t\t\t\t\tvar j = _g3++;\n\t\t\t\t\t\tif(j != i1) {\n\t\t\t\t\t\t\tvertexCheck = bound[j].get_originVertex();\n\t\t\t\t\t\t\tdistanceSquared = (vertexCheck.get_pos().x - circumcenter.x) * (vertexCheck.get_pos().x - circumcenter.x) + (vertexCheck.get_pos().y - circumcenter.y) * (vertexCheck.get_pos().y - circumcenter.y);\n\t\t\t\t\t\t\tif(distanceSquared < radiusSquared) {\n\t\t\t\t\t\t\t\tisDelaunay = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(isDelaunay) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!isDelaunay) {\n\t\t\t\tvar s = \"\";\n\t\t\t\tvar _g11 = 0;\n\t\t\t\tvar _g4 = bound.length;\n\t\t\t\twhile(_g11 < _g4) {\n\t\t\t\t\tvar i2 = _g11++;\n\t\t\t\t\ts += bound[i2].get_originVertex().get_pos().x + \" , \";\n\t\t\t\t\ts += bound[i2].get_originVertex().get_pos().y + \" , \";\n\t\t\t\t\ts += bound[i2].get_destinationVertex().get_pos().x + \" , \";\n\t\t\t\t\ts += bound[i2].get_destinationVertex().get_pos().y + \" , \";\n\t\t\t\t}\n\t\t\t\tindex = 2;\n\t\t\t}\n\t\t\tvar edgeA = null;\n\t\t\tvar edgeAopp = null;\n\t\t\tvar edgeB = null;\n\t\t\tvar edgeBopp;\n\t\t\tvar boundA;\n\t\t\tvar boundM;\n\t\t\tvar boundB;\n\t\t\tif(index < bound.length - 1) {\n\t\t\t\tedgeA = new hxDaedalus_data_Edge();\n\t\t\t\tedgeAopp = new hxDaedalus_data_Edge();\n\t\t\t\tthis._edges.push(edgeA);\n\t\t\t\tthis._edges.push(edgeAopp);\n\t\t\t\tedgeA.setDatas(vertexA,edgeAopp,null,null,isReal,false);\n\t\t\t\tedgeAopp.setDatas(bound[index].get_originVertex(),edgeA,null,null,isReal,false);\n\t\t\t\tboundA = bound.slice(index);\n\t\t\t\tboundA.push(edgeA);\n\t\t\t\tthis.triangulate(boundA,isReal);\n\t\t\t}\n\t\t\tif(index > 2) {\n\t\t\t\tedgeB = new hxDaedalus_data_Edge();\n\t\t\t\tedgeBopp = new hxDaedalus_data_Edge();\n\t\t\t\tthis._edges.push(edgeB);\n\t\t\t\tthis._edges.push(edgeBopp);\n\t\t\t\tedgeB.setDatas(bound[1].get_originVertex(),edgeBopp,null,null,isReal,false);\n\t\t\t\tedgeBopp.setDatas(bound[index].get_originVertex(),edgeB,null,null,isReal,false);\n\t\t\t\tboundB = bound.slice(1,index);\n\t\t\t\tboundB.push(edgeBopp);\n\t\t\t\tthis.triangulate(boundB,isReal);\n\t\t\t}\n\t\t\tif(index == 2) {\n\t\t\t\tboundM = [baseEdge,bound[1],edgeAopp];\n\t\t\t} else if(index == bound.length - 1) {\n\t\t\t\tboundM = [baseEdge,edgeB,bound[index]];\n\t\t\t} else {\n\t\t\t\tboundM = [baseEdge,edgeB,edgeAopp];\n\t\t\t}\n\t\t\tthis.triangulate(boundM,isReal);\n\t\t}\n\t}\n\t,findPositionFromBounds: function(x,y) {\n\t\tif(x <= 0) {\n\t\t\tif(y <= 0) {\n\t\t\t\treturn 1;\n\t\t\t} else if(y >= this._height) {\n\t\t\t\treturn 7;\n\t\t\t} else {\n\t\t\t\treturn 8;\n\t\t\t}\n\t\t} else if(x >= this._width) {\n\t\t\tif(y <= 0) {\n\t\t\t\treturn 3;\n\t\t\t} else if(y >= this._height) {\n\t\t\t\treturn 5;\n\t\t\t} else {\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t} else if(y <= 0) {\n\t\t\treturn 2;\n\t\t} else if(y >= this._height) {\n\t\t\treturn 6;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\t,debug: function() {\n\t\tvar i;\n\t\tvar _g1 = 0;\n\t\tvar _g = this._vertices.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i1 = _g1++;\n\t\t\tvar value = \"-- vertex \" + this._vertices[i1].get_id();\n\t\t\tvar value1 = \"  edge \" + this._vertices[i1].get_edge().get_id() + \" - \" + Std.string(this._vertices[i1].get_edge());\n\t\t\tvar value2 = \"  edge isReal: \" + Std.string(this._vertices[i1].get_edge().get_isReal());\n\t\t}\n\t\tvar _g11 = 0;\n\t\tvar _g2 = this._edges.length;\n\t\twhile(_g11 < _g2) {\n\t\t\tvar i2 = _g11++;\n\t\t\tvar value3 = \"-- edge \" + Std.string(this._edges[i2]);\n\t\t\tvar value4 = \"  isReal \" + this._edges[i2].get_id() + \" - \" + Std.string(this._edges[i2].get_isReal());\n\t\t\tvar value5 = \"  nextLeftEdge \" + Std.string(this._edges[i2].get_nextLeftEdge());\n\t\t\tvar value6 = \"  oppositeEdge \" + Std.string(this._edges[i2].get_oppositeEdge());\n\t\t}\n\t}\n\t,getVerticesAndEdges: function() {\n\t\tvar res = { vertices : [], edges : []};\n\t\tvar vertex;\n\t\tvar incomingEdge;\n\t\tvar holdingFace;\n\t\tvar iterVertices = new hxDaedalus_iterators_FromMeshToVertices();\n\t\titerVertices.set_fromMesh(this);\n\t\tvar iterEdges = new hxDaedalus_iterators_FromVertexToIncomingEdges();\n\t\tvar dictVerticesDone = new haxe_ds_ObjectMap();\n\t\twhile(true) {\n\t\t\tvertex = iterVertices.next();\n\t\t\tif(!(vertex != null)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdictVerticesDone.set(vertex,true);\n\t\t\tif(!(!(vertex.get_pos().x < 0 || vertex.get_pos().x > this.get_width() || vertex.get_pos().y < 0 || vertex.get_pos().y > this.get_height()))) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tres.vertices.push(vertex);\n\t\t\titerEdges.set_fromVertex(vertex);\n\t\t\twhile(true) {\n\t\t\t\tincomingEdge = iterEdges.next();\n\t\t\t\tif(!(incomingEdge != null)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar key = incomingEdge.get_originVertex();\n\t\t\t\tif(!dictVerticesDone.h[key.__id__]) {\n\t\t\t\t\tres.edges.push(incomingEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\t,vertexIsInsideAABB: function(vertex,mesh) {\n\t\treturn !(vertex.get_pos().x < 0 || vertex.get_pos().x > mesh.get_width() || vertex.get_pos().y < 0 || vertex.get_pos().y > mesh.get_height());\n\t}\n\t,__class__: hxDaedalus_data_Mesh\n};\nvar hxDaedalus_data_Object = $hx_exports[\"hxDaedalus\"][\"data\"][\"Object\"] = function() {\n\tthis._id = hxDaedalus_data_Object.INC;\n\thxDaedalus_data_Object.INC++;\n\tthis._pivotX = 0;\n\tthis._pivotY = 0;\n\tthis._matrix = new hxDaedalus_data_math_Matrix2D();\n\tthis._scaleX = 1;\n\tthis._scaleY = 1;\n\tthis._rotation = 0;\n\tthis._x = 0;\n\tthis._y = 0;\n\tthis._coordinates = [];\n\tthis._hasChanged = false;\n};\nhxDaedalus_data_Object.__name__ = true;\nhxDaedalus_data_Object.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,dispose: function() {\n\t\tthis._matrix = null;\n\t\tthis._coordinates = null;\n\t\tthis._constraintShape = null;\n\t}\n\t,updateValuesFromMatrix: function() {\n\t}\n\t,updateMatrixFromValues: function() {\n\t\tthis._matrix.identity();\n\t\tthis._matrix.translate(-this._pivotX,-this._pivotY);\n\t\tthis._matrix.scale(this._scaleX,this._scaleY);\n\t\tthis._matrix.rotate(this._rotation);\n\t\tthis._matrix.translate(this._x,this._y);\n\t}\n\t,get_pivotX: function() {\n\t\treturn this._pivotX;\n\t}\n\t,set_pivotX: function(value) {\n\t\tthis._pivotX = value;\n\t\tthis._hasChanged = true;\n\t\treturn value;\n\t}\n\t,get_pivotY: function() {\n\t\treturn this._pivotY;\n\t}\n\t,set_pivotY: function(value) {\n\t\tthis._pivotY = value;\n\t\tthis._hasChanged = true;\n\t\treturn value;\n\t}\n\t,get_scaleX: function() {\n\t\treturn this._scaleX;\n\t}\n\t,set_scaleX: function(value) {\n\t\tif(this._scaleX != value) {\n\t\t\tthis._scaleX = value;\n\t\t\tthis._hasChanged = true;\n\t\t}\n\t\treturn value;\n\t}\n\t,get_scaleY: function() {\n\t\treturn this._scaleY;\n\t}\n\t,set_scaleY: function(value) {\n\t\tif(this._scaleY != value) {\n\t\t\tthis._scaleY = value;\n\t\t\tthis._hasChanged = true;\n\t\t}\n\t\treturn value;\n\t}\n\t,get_rotation: function() {\n\t\treturn this._rotation;\n\t}\n\t,set_rotation: function(value) {\n\t\tif(this._rotation != value) {\n\t\t\tthis._rotation = value;\n\t\t\tthis._hasChanged = true;\n\t\t}\n\t\treturn value;\n\t}\n\t,get_x: function() {\n\t\treturn this._x;\n\t}\n\t,set_x: function(value) {\n\t\tif(this._x != value) {\n\t\t\tthis._x = value;\n\t\t\tthis._hasChanged = true;\n\t\t}\n\t\treturn value;\n\t}\n\t,get_y: function() {\n\t\treturn this._y;\n\t}\n\t,set_y: function(value) {\n\t\tif(this._y != value) {\n\t\t\tthis._y = value;\n\t\t\tthis._hasChanged = true;\n\t\t}\n\t\treturn value;\n\t}\n\t,get_matrix: function() {\n\t\treturn this._matrix;\n\t}\n\t,set_matrix: function(value) {\n\t\tthis._matrix = value;\n\t\tthis._hasChanged = true;\n\t\treturn value;\n\t}\n\t,get_coordinates: function() {\n\t\treturn this._coordinates;\n\t}\n\t,set_coordinates: function(value) {\n\t\tthis._coordinates = value;\n\t\tthis._hasChanged = true;\n\t\treturn value;\n\t}\n\t,get_constraintShape: function() {\n\t\treturn this._constraintShape;\n\t}\n\t,set_constraintShape: function(value) {\n\t\tthis._constraintShape = value;\n\t\tthis._hasChanged = true;\n\t\treturn value;\n\t}\n\t,get_hasChanged: function() {\n\t\treturn this._hasChanged;\n\t}\n\t,set_hasChanged: function(value) {\n\t\tthis._hasChanged = value;\n\t\treturn value;\n\t}\n\t,get_edges: function() {\n\t\tvar res = [];\n\t\tvar seg = this._constraintShape.segments;\n\t\tvar _g1 = 0;\n\t\tvar _g = seg.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tvar _g3 = 0;\n\t\t\tvar _g2 = seg[i].get_edges().length;\n\t\t\twhile(_g3 < _g2) {\n\t\t\t\tvar j = _g3++;\n\t\t\t\tres.push(seg[i].get_edges()[j]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\t,__class__: hxDaedalus_data_Object\n};\nvar hxDaedalus_data_Vertex = $hx_exports[\"hxDaedalus\"][\"data\"][\"Vertex\"] = function() {\n\tthis.colorDebug = -1;\n\tthis._id = hxDaedalus_data_Vertex.INC;\n\thxDaedalus_data_Vertex.INC++;\n\tthis._pos = new hxDaedalus_data_math_Point2D();\n\tthis._fromConstraintSegments = [];\n};\nhxDaedalus_data_Vertex.__name__ = true;\nhxDaedalus_data_Vertex.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,get_isReal: function() {\n\t\treturn this._isReal;\n\t}\n\t,get_pos: function() {\n\t\treturn this._pos;\n\t}\n\t,get_fromConstraintSegments: function() {\n\t\treturn this._fromConstraintSegments;\n\t}\n\t,set_fromConstraintSegments: function(value) {\n\t\treturn this._fromConstraintSegments = value;\n\t}\n\t,setDatas: function(edge,isReal) {\n\t\tif(isReal == null) {\n\t\t\tisReal = true;\n\t\t}\n\t\tthis._isReal = isReal;\n\t\tthis._edge = edge;\n\t}\n\t,addFromConstraintSegment: function(segment) {\n\t\tif(this._fromConstraintSegments.indexOf(segment) == -1) {\n\t\t\tthis._fromConstraintSegments.push(segment);\n\t\t}\n\t}\n\t,removeFromConstraintSegment: function(segment) {\n\t\tvar index = this._fromConstraintSegments.indexOf(segment);\n\t\tif(index != -1) {\n\t\t\tthis._fromConstraintSegments.splice(index,1);\n\t\t}\n\t}\n\t,dispose: function() {\n\t\tthis._pos = null;\n\t\tthis._edge = null;\n\t\tthis._fromConstraintSegments = null;\n\t}\n\t,get_edge: function() {\n\t\treturn this._edge;\n\t}\n\t,set_edge: function(value) {\n\t\treturn this._edge = value;\n\t}\n\t,toString: function() {\n\t\treturn \"ver_id \" + this._id;\n\t}\n\t,__class__: hxDaedalus_data_Vertex\n};\nvar hxDaedalus_data_graph_Graph = $hx_exports[\"hxDaedalus\"][\"data\"][\"graph\"][\"Graph\"] = function() {\n\tthis._id = hxDaedalus_data_graph_Graph.INC;\n\thxDaedalus_data_graph_Graph.INC++;\n};\nhxDaedalus_data_graph_Graph.__name__ = true;\nhxDaedalus_data_graph_Graph.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,get_edge: function() {\n\t\treturn this._edge;\n\t}\n\t,get_node: function() {\n\t\treturn this._node;\n\t}\n\t,dispose: function() {\n\t\twhile(this._node != null) this.deleteNode(this._node);\n\t}\n\t,insertNode: function() {\n\t\tvar node = new hxDaedalus_data_graph_GraphNode();\n\t\tif(this._node != null) {\n\t\t\tnode.set_next(this._node);\n\t\t\tthis._node.set_prev(node);\n\t\t}\n\t\tthis._node = node;\n\t\treturn node;\n\t}\n\t,deleteNode: function(node) {\n\t\twhile(node.get_outgoingEdge() != null) {\n\t\t\tif(node.get_outgoingEdge().get_oppositeEdge() != null) {\n\t\t\t\tthis.deleteEdge(node.get_outgoingEdge().get_oppositeEdge());\n\t\t\t}\n\t\t\tthis.deleteEdge(node.get_outgoingEdge());\n\t\t}\n\t\tvar otherNode = this._node;\n\t\tvar incomingEdge;\n\t\twhile(otherNode != null) {\n\t\t\tincomingEdge = otherNode.get_successorNodes().h[node.__id__];\n\t\t\tif(incomingEdge != null) {\n\t\t\t\tthis.deleteEdge(incomingEdge);\n\t\t\t}\n\t\t\totherNode = otherNode.get_next();\n\t\t}\n\t\tif(this._node == node) {\n\t\t\tif(node.get_next() != null) {\n\t\t\t\tnode.get_next().set_prev(null);\n\t\t\t\tthis._node = node.get_next();\n\t\t\t} else {\n\t\t\t\tthis._node = null;\n\t\t\t}\n\t\t} else if(node.get_next() != null) {\n\t\t\tnode.get_prev().set_next(node.get_next());\n\t\t\tnode.get_next().set_prev(node.get_prev());\n\t\t} else {\n\t\t\tnode.get_prev().set_next(null);\n\t\t}\n\t\tnode.dispose();\n\t}\n\t,insertEdge: function(fromNode,toNode) {\n\t\tif(fromNode.get_successorNodes().h[toNode.__id__] != null) {\n\t\t\treturn null;\n\t\t}\n\t\tvar edge = new hxDaedalus_data_graph_GraphEdge();\n\t\tif(this._edge != null) {\n\t\t\tthis._edge.set_prev(edge);\n\t\t\tedge.set_next(this._edge);\n\t\t}\n\t\tthis._edge = edge;\n\t\tedge.set_sourceNode(fromNode);\n\t\tedge.set_destinationNode(toNode);\n\t\tfromNode.get_successorNodes().set(toNode,edge);\n\t\tif(fromNode.get_outgoingEdge() != null) {\n\t\t\tfromNode.get_outgoingEdge().set_rotPrevEdge(edge);\n\t\t\tedge.set_rotNextEdge(fromNode.get_outgoingEdge());\n\t\t\tfromNode.set_outgoingEdge(edge);\n\t\t} else {\n\t\t\tfromNode.set_outgoingEdge(edge);\n\t\t}\n\t\tvar oppositeEdge = toNode.get_successorNodes().h[fromNode.__id__];\n\t\tif(oppositeEdge != null) {\n\t\t\tedge.set_oppositeEdge(oppositeEdge);\n\t\t\toppositeEdge.set_oppositeEdge(edge);\n\t\t}\n\t\treturn edge;\n\t}\n\t,deleteEdge: function(edge) {\n\t\tif(this._edge == edge) {\n\t\t\tif(edge.get_next() != null) {\n\t\t\t\tedge.get_next().set_prev(null);\n\t\t\t\tthis._edge = edge.get_next();\n\t\t\t} else {\n\t\t\t\tthis._edge = null;\n\t\t\t}\n\t\t} else if(edge.get_next() != null) {\n\t\t\tedge.get_prev().set_next(edge.get_next());\n\t\t\tedge.get_next().set_prev(edge.get_prev());\n\t\t} else {\n\t\t\tedge.get_prev().set_next(null);\n\t\t}\n\t\tif(edge.get_sourceNode().get_outgoingEdge() == edge) {\n\t\t\tif(edge.get_rotNextEdge() != null) {\n\t\t\t\tedge.get_rotNextEdge().set_rotPrevEdge(null);\n\t\t\t\tedge.get_sourceNode().set_outgoingEdge(edge.get_rotNextEdge());\n\t\t\t} else {\n\t\t\t\tedge.get_sourceNode().set_outgoingEdge(null);\n\t\t\t}\n\t\t} else if(edge.get_rotNextEdge() != null) {\n\t\t\tedge.get_rotPrevEdge().set_rotNextEdge(edge.get_rotNextEdge());\n\t\t\tedge.get_rotNextEdge().set_rotPrevEdge(edge.get_rotPrevEdge());\n\t\t} else {\n\t\t\tedge.get_rotPrevEdge().set_rotNextEdge(null);\n\t\t}\n\t\tedge.dispose();\n\t}\n\t,__class__: hxDaedalus_data_graph_Graph\n};\nvar hxDaedalus_data_graph_GraphEdge = $hx_exports[\"hxDaedalus\"][\"data\"][\"graph\"][\"GraphEdge\"] = function() {\n\tthis._id = hxDaedalus_data_graph_GraphEdge.INC;\n\thxDaedalus_data_graph_GraphEdge.INC++;\n};\nhxDaedalus_data_graph_GraphEdge.__name__ = true;\nhxDaedalus_data_graph_GraphEdge.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,dispose: function() {\n\t}\n\t,get_prev: function() {\n\t\treturn this._prev;\n\t}\n\t,set_prev: function(value) {\n\t\tthis._prev = value;\n\t\treturn value;\n\t}\n\t,get_next: function() {\n\t\treturn this._next;\n\t}\n\t,set_next: function(value) {\n\t\tthis._next = value;\n\t\treturn value;\n\t}\n\t,get_rotPrevEdge: function() {\n\t\treturn this._rotPrevEdge;\n\t}\n\t,set_rotPrevEdge: function(value) {\n\t\tthis._rotPrevEdge = value;\n\t\treturn value;\n\t}\n\t,get_rotNextEdge: function() {\n\t\treturn this._rotNextEdge;\n\t}\n\t,set_rotNextEdge: function(value) {\n\t\tthis._rotNextEdge = value;\n\t\treturn value;\n\t}\n\t,get_oppositeEdge: function() {\n\t\treturn this._oppositeEdge;\n\t}\n\t,set_oppositeEdge: function(value) {\n\t\tthis._oppositeEdge = value;\n\t\treturn value;\n\t}\n\t,get_sourceNode: function() {\n\t\treturn this._sourceNode;\n\t}\n\t,set_sourceNode: function(value) {\n\t\tthis._sourceNode = value;\n\t\treturn value;\n\t}\n\t,get_destinationNode: function() {\n\t\treturn this._destinationNode;\n\t}\n\t,set_destinationNode: function(value) {\n\t\tthis._destinationNode = value;\n\t\treturn value;\n\t}\n\t,get_data: function() {\n\t\treturn this._data;\n\t}\n\t,set_data: function(value) {\n\t\tthis._data = value;\n\t\treturn value;\n\t}\n\t,__class__: hxDaedalus_data_graph_GraphEdge\n};\nvar hxDaedalus_data_graph_GraphNode = $hx_exports[\"hxDaedalus\"][\"data\"][\"graph\"][\"GraphNode\"] = function() {\n\tthis._id = hxDaedalus_data_graph_GraphNode.INC;\n\thxDaedalus_data_graph_GraphNode.INC++;\n\tthis._successorNodes = new haxe_ds_ObjectMap();\n};\nhxDaedalus_data_graph_GraphNode.__name__ = true;\nhxDaedalus_data_graph_GraphNode.prototype = {\n\tget_id: function() {\n\t\treturn this._id;\n\t}\n\t,dispose: function() {\n\t\tthis._prev = null;\n\t\tthis._next = null;\n\t\tthis._outgoingEdge = null;\n\t\tthis._successorNodes = null;\n\t\tthis._data = null;\n\t}\n\t,get_prev: function() {\n\t\treturn this._prev;\n\t}\n\t,set_prev: function(value) {\n\t\tthis._prev = value;\n\t\treturn value;\n\t}\n\t,get_next: function() {\n\t\treturn this._next;\n\t}\n\t,set_next: function(value) {\n\t\tthis._next = value;\n\t\treturn value;\n\t}\n\t,get_outgoingEdge: function() {\n\t\treturn this._outgoingEdge;\n\t}\n\t,set_outgoingEdge: function(value) {\n\t\tthis._outgoingEdge = value;\n\t\treturn value;\n\t}\n\t,get_successorNodes: function() {\n\t\treturn this._successorNodes;\n\t}\n\t,set_successorNodes: function(value) {\n\t\tthis._successorNodes = value;\n\t\treturn value;\n\t}\n\t,get_data: function() {\n\t\treturn this._data;\n\t}\n\t,set_data: function(value) {\n\t\tthis._data = value;\n\t\treturn value;\n\t}\n\t,__class__: hxDaedalus_data_graph_GraphNode\n};\nvar hxDaedalus_data_math_EdgeData = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"EdgeData\"] = function() {\n};\nhxDaedalus_data_math_EdgeData.__name__ = true;\nhxDaedalus_data_math_EdgeData.prototype = {\n\t__class__: hxDaedalus_data_math_EdgeData\n};\nvar hxDaedalus_data_math_Intersection = { __ename__ : true, __constructs__ : [\"EVertex\",\"EEdge\",\"EFace\",\"ENull\"] };\nhxDaedalus_data_math_Intersection.EVertex = function(vertex) { var $x = [\"EVertex\",0,vertex]; $x.__enum__ = hxDaedalus_data_math_Intersection; $x.toString = $estr; return $x; };\nhxDaedalus_data_math_Intersection.EEdge = function(edge) { var $x = [\"EEdge\",1,edge]; $x.__enum__ = hxDaedalus_data_math_Intersection; $x.toString = $estr; return $x; };\nhxDaedalus_data_math_Intersection.EFace = function(face) { var $x = [\"EFace\",2,face]; $x.__enum__ = hxDaedalus_data_math_Intersection; $x.toString = $estr; return $x; };\nhxDaedalus_data_math_Intersection.ENull = [\"ENull\",3];\nhxDaedalus_data_math_Intersection.ENull.toString = $estr;\nhxDaedalus_data_math_Intersection.ENull.__enum__ = hxDaedalus_data_math_Intersection;\nvar hxDaedalus_data_math_Point2D = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"Point2D\"] = function(x_,y_) {\n\tif(y_ == null) {\n\t\ty_ = 0;\n\t}\n\tif(x_ == null) {\n\t\tx_ = 0;\n\t}\n\tthis.x = x_;\n\tthis.y = y_;\n};\nhxDaedalus_data_math_Point2D.__name__ = true;\nhxDaedalus_data_math_Point2D.prototype = {\n\ttransform: function(matrix) {\n\t\tmatrix.tranform(this);\n\t}\n\t,setXY: function(x_,y_) {\n\t\tthis.x = x_;\n\t\tthis.y = y_;\n\t}\n\t,clone: function() {\n\t\treturn new hxDaedalus_data_math_Point2D(this.x,this.y);\n\t}\n\t,substract: function(p) {\n\t\tthis.x -= p.x;\n\t\tthis.y -= p.y;\n\t}\n\t,get_length: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t}\n\t,normalize: function() {\n\t\tvar norm = this.get_length();\n\t\tthis.x /= norm;\n\t\tthis.y /= norm;\n\t}\n\t,scale: function(s) {\n\t\tthis.x *= s;\n\t\tthis.y *= s;\n\t}\n\t,distanceTo: function(p) {\n\t\tvar diffX = this.x - p.x;\n\t\tvar diffY = this.y - p.y;\n\t\treturn Math.sqrt(diffX * diffX + diffY * diffY);\n\t}\n\t,__class__: hxDaedalus_data_math_Point2D\n};\nvar hxDaedalus_data_math_Geom2D = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"Geom2D\"] = function() {\n};\nhxDaedalus_data_math_Geom2D.__name__ = true;\nhxDaedalus_data_math_Geom2D.locatePosition = function(x,y,mesh) {\n\tif(hxDaedalus_data_math_Geom2D._randGen == null) {\n\t\thxDaedalus_data_math_Geom2D._randGen = new hxDaedalus_data_math_RandGenerator();\n\t}\n\thxDaedalus_data_math_Geom2D._randGen.set_seed(x * 10 + 4 * y | 0);\n\tvar i;\n\thxDaedalus_data_math_Geom2D.__samples.splice(0,hxDaedalus_data_math_Geom2D.__samples.length);\n\tvar numSamples = Math.pow(mesh._vertices.length,0.33333333333333331) | 0;\n\thxDaedalus_data_math_Geom2D._randGen.rangeMin = 0;\n\thxDaedalus_data_math_Geom2D._randGen.rangeMax = mesh._vertices.length - 1;\n\tvar _g1 = 0;\n\tvar _g = numSamples;\n\twhile(_g1 < _g) {\n\t\tvar i1 = _g1++;\n\t\tvar _rnd = hxDaedalus_data_math_Geom2D._randGen.next();\n\t\tvar cond = _rnd < 0 || _rnd > mesh._vertices.length - 1;\n\t\tvar cond1 = mesh._vertices == null;\n\t\tvar message = \"vertices: \" + mesh._vertices.length;\n\t\thxDaedalus_data_math_Geom2D.__samples.push(mesh._vertices[_rnd]);\n\t}\n\tvar currVertex;\n\tvar currVertexPos;\n\tvar distSquared;\n\tvar minDistSquared = Infinity;\n\tvar closedVertex = null;\n\tvar _g11 = 0;\n\tvar _g2 = numSamples;\n\twhile(_g11 < _g2) {\n\t\tvar i2 = _g11++;\n\t\tcurrVertex = hxDaedalus_data_math_Geom2D.__samples[i2];\n\t\tcurrVertexPos = currVertex.get_pos();\n\t\tdistSquared = (currVertexPos.x - x) * (currVertexPos.x - x) + (currVertexPos.y - y) * (currVertexPos.y - y);\n\t\tif(distSquared < minDistSquared) {\n\t\t\tminDistSquared = distSquared;\n\t\t\tclosedVertex = currVertex;\n\t\t}\n\t}\n\tvar currFace;\n\tvar iterFace = new hxDaedalus_iterators_FromVertexToHoldingFaces();\n\titerFace.set_fromVertex(closedVertex);\n\tcurrFace = iterFace.next();\n\tvar faceVisited = new haxe_ds_ObjectMap();\n\tvar currEdge;\n\tvar iterEdge = new hxDaedalus_iterators_FromFaceToInnerEdges();\n\tvar objectContainer = hxDaedalus_data_math_Intersection.ENull;\n\tvar relativPos;\n\tvar numIter = 0;\n\twhile(true) {\n\t\tvar tmp;\n\t\tif(!faceVisited.h[currFace.__id__]) {\n\t\t\tobjectContainer = hxDaedalus_data_math_Geom2D.isInFace(x,y,currFace);\n\t\t\tvar _g3 = objectContainer;\n\t\t\tif(_g3[1] == 3) {\n\t\t\t\ttmp = true;\n\t\t\t} else {\n\t\t\t\ttmp = false;\n\t\t\t}\n\t\t} else {\n\t\t\ttmp = true;\n\t\t}\n\t\tif(!tmp) {\n\t\t\tbreak;\n\t\t}\n\t\t++numIter;\n\t\tvar tmp1 = numIter == 50;\n\t\titerEdge.set_fromFace(currFace);\n\t\twhile(true) {\n\t\t\tcurrEdge = iterEdge.next();\n\t\t\tif(currEdge == null) {\n\t\t\t\treturn hxDaedalus_data_math_Intersection.ENull;\n\t\t\t}\n\t\t\trelativPos = hxDaedalus_data_math_Geom2D.getRelativePosition(x,y,currEdge);\n\t\t\tif(!(relativPos == 1 || relativPos == 0)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcurrFace = currEdge.get_rightFace();\n\t}\n\treturn objectContainer;\n};\nhxDaedalus_data_math_Geom2D.isCircleIntersectingAnyConstraint = function(x,y,radius,mesh) {\n\tif(x <= 0 || x >= mesh.get_width() || y <= 0 || y >= mesh.get_height()) {\n\t\treturn true;\n\t}\n\tvar loc = hxDaedalus_data_math_Geom2D.locatePosition(x,y,mesh);\n\tvar face;\n\tswitch(loc[1]) {\n\tcase 0:\n\t\tvar vertex = loc[2];\n\t\tface = vertex.get_edge().get_leftFace();\n\t\tbreak;\n\tcase 1:\n\t\tvar edge = loc[2];\n\t\tface = edge.get_leftFace();\n\t\tbreak;\n\tcase 2:\n\t\tvar face_ = loc[2];\n\t\tface = face_;\n\t\tbreak;\n\tcase 3:\n\t\tface = null;\n\t\tbreak;\n\t}\n\tvar radiusSquared = radius * radius;\n\tvar pos;\n\tvar distSquared;\n\tpos = face.get_edge().get_originVertex().get_pos();\n\tdistSquared = (pos.x - x) * (pos.x - x) + (pos.y - y) * (pos.y - y);\n\tif(distSquared <= radiusSquared) {\n\t\treturn true;\n\t}\n\tpos = face.get_edge().get_nextLeftEdge().get_originVertex().get_pos();\n\tdistSquared = (pos.x - x) * (pos.x - x) + (pos.y - y) * (pos.y - y);\n\tif(distSquared <= radiusSquared) {\n\t\treturn true;\n\t}\n\tpos = face.get_edge().get_nextLeftEdge().get_nextLeftEdge().get_originVertex().get_pos();\n\tdistSquared = (pos.x - x) * (pos.x - x) + (pos.y - y) * (pos.y - y);\n\tif(distSquared <= radiusSquared) {\n\t\treturn true;\n\t}\n\tvar edgesToCheck = [];\n\tedgesToCheck.push(face.get_edge());\n\tedgesToCheck.push(face.get_edge().get_nextLeftEdge());\n\tedgesToCheck.push(face.get_edge().get_nextLeftEdge().get_nextLeftEdge());\n\tvar edge1;\n\tvar pos1;\n\tvar pos2;\n\tvar checkedEdges = new haxe_ds_ObjectMap();\n\tvar intersecting;\n\twhile(edgesToCheck.length > 0) {\n\t\tedge1 = edgesToCheck.pop();\n\t\tcheckedEdges.set(edge1,true);\n\t\tpos1 = edge1.get_originVertex().get_pos();\n\t\tpos2 = edge1.get_destinationVertex().get_pos();\n\t\tintersecting = hxDaedalus_data_math_Geom2D.intersectionsSegmentCircle(pos1.x,pos1.y,pos2.x,pos2.y,x,y,radius);\n\t\tif(intersecting) {\n\t\t\tif(edge1.get_isConstrained()) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tedge1 = edge1.get_oppositeEdge().get_nextLeftEdge();\n\t\t\t\tvar tmp;\n\t\t\t\tvar tmp1;\n\t\t\t\tvar tmp2;\n\t\t\t\tif(!checkedEdges.h[edge1.__id__]) {\n\t\t\t\t\tvar key = edge1.get_oppositeEdge();\n\t\t\t\t\ttmp2 = !checkedEdges.h[key.__id__];\n\t\t\t\t} else {\n\t\t\t\t\ttmp2 = false;\n\t\t\t\t}\n\t\t\t\tif(tmp2) {\n\t\t\t\t\ttmp1 = edgesToCheck.indexOf(edge1) == -1;\n\t\t\t\t} else {\n\t\t\t\t\ttmp1 = false;\n\t\t\t\t}\n\t\t\t\tif(tmp1) {\n\t\t\t\t\ttmp = edgesToCheck.indexOf(edge1.get_oppositeEdge()) == -1;\n\t\t\t\t} else {\n\t\t\t\t\ttmp = false;\n\t\t\t\t}\n\t\t\t\tif(tmp) {\n\t\t\t\t\tedgesToCheck.push(edge1);\n\t\t\t\t}\n\t\t\t\tedge1 = edge1.get_nextLeftEdge();\n\t\t\t\tvar tmp3;\n\t\t\t\tvar tmp4;\n\t\t\t\tvar tmp5;\n\t\t\t\tif(!checkedEdges.h[edge1.__id__]) {\n\t\t\t\t\tvar key1 = edge1.get_oppositeEdge();\n\t\t\t\t\ttmp5 = !checkedEdges.h[key1.__id__];\n\t\t\t\t} else {\n\t\t\t\t\ttmp5 = false;\n\t\t\t\t}\n\t\t\t\tif(tmp5) {\n\t\t\t\t\ttmp4 = edgesToCheck.indexOf(edge1) == -1;\n\t\t\t\t} else {\n\t\t\t\t\ttmp4 = false;\n\t\t\t\t}\n\t\t\t\tif(tmp4) {\n\t\t\t\t\ttmp3 = edgesToCheck.indexOf(edge1.get_oppositeEdge()) == -1;\n\t\t\t\t} else {\n\t\t\t\t\ttmp3 = false;\n\t\t\t\t}\n\t\t\t\tif(tmp3) {\n\t\t\t\t\tedgesToCheck.push(edge1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\nhxDaedalus_data_math_Geom2D.getDirection = function(x1,y1,x2,y2,x3,y3) {\n\tvar dot = (x3 - x1) * (y2 - y1) + (y3 - y1) * (-x2 + x1);\n\tif(dot == 0) {\n\t\treturn 0;\n\t} else if(dot > 0) {\n\t\treturn 1;\n\t} else {\n\t\treturn -1;\n\t}\n};\nhxDaedalus_data_math_Geom2D.getDirection2 = function(x1,y1,x2,y2,x3,y3) {\n\tvar dot = (x3 - x1) * (y2 - y1) + (y3 - y1) * (-x2 + x1);\n\tif(dot == 0) {\n\t\treturn 0;\n\t} else if(dot > 0) {\n\t\tif(hxDaedalus_data_math_Geom2D.distanceSquaredPointToLine(x3,y3,x1,y1,x2,y2) <= 0.0001) {\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t} else if(hxDaedalus_data_math_Geom2D.distanceSquaredPointToLine(x3,y3,x1,y1,x2,y2) <= 0.0001) {\n\t\treturn 0;\n\t} else {\n\t\treturn -1;\n\t}\n};\nhxDaedalus_data_math_Geom2D.getRelativePosition = function(x,y,eUp) {\n\treturn hxDaedalus_data_math_Geom2D.getDirection(eUp.get_originVertex().get_pos().x,eUp.get_originVertex().get_pos().y,eUp.get_destinationVertex().get_pos().x,eUp.get_destinationVertex().get_pos().y,x,y);\n};\nhxDaedalus_data_math_Geom2D.getRelativePosition2 = function(x,y,eUp) {\n\treturn hxDaedalus_data_math_Geom2D.getDirection2(eUp.get_originVertex().get_pos().x,eUp.get_originVertex().get_pos().y,eUp.get_destinationVertex().get_pos().x,eUp.get_destinationVertex().get_pos().y,x,y);\n};\nhxDaedalus_data_math_Geom2D.isInFace = function(x,y,polygon) {\n\tvar result = hxDaedalus_data_math_Intersection.ENull;\n\tvar e1_2 = polygon.get_edge();\n\tvar e2_3 = e1_2.get_nextLeftEdge();\n\tvar e3_1 = e2_3.get_nextLeftEdge();\n\tif(hxDaedalus_data_math_Geom2D.getRelativePosition(x,y,e1_2) >= 0 && hxDaedalus_data_math_Geom2D.getRelativePosition(x,y,e2_3) >= 0 && hxDaedalus_data_math_Geom2D.getRelativePosition(x,y,e3_1) >= 0) {\n\t\tvar v1 = e1_2.get_originVertex();\n\t\tvar v2 = e2_3.get_originVertex();\n\t\tvar v3 = e3_1.get_originVertex();\n\t\tvar x1 = v1.get_pos().x;\n\t\tvar y1 = v1.get_pos().y;\n\t\tvar x2 = v2.get_pos().x;\n\t\tvar y2 = v2.get_pos().y;\n\t\tvar x3 = v3.get_pos().x;\n\t\tvar y3 = v3.get_pos().y;\n\t\tvar v_v1squaredLength = (x1 - x) * (x1 - x) + (y1 - y) * (y1 - y);\n\t\tvar v_v2squaredLength = (x2 - x) * (x2 - x) + (y2 - y) * (y2 - y);\n\t\tvar v_v3squaredLength = (x3 - x) * (x3 - x) + (y3 - y) * (y3 - y);\n\t\tvar v1_v2squaredLength = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n\t\tvar v2_v3squaredLength = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n\t\tvar v3_v1squaredLength = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n\t\tvar dot_v_v1v2 = (x - x1) * (x2 - x1) + (y - y1) * (y2 - y1);\n\t\tvar dot_v_v2v3 = (x - x2) * (x3 - x2) + (y - y2) * (y3 - y2);\n\t\tvar dot_v_v3v1 = (x - x3) * (x1 - x3) + (y - y3) * (y1 - y3);\n\t\tvar v_e1_2squaredLength = v_v1squaredLength - dot_v_v1v2 * dot_v_v1v2 / v1_v2squaredLength;\n\t\tvar v_e2_3squaredLength = v_v2squaredLength - dot_v_v2v3 * dot_v_v2v3 / v2_v3squaredLength;\n\t\tvar v_e3_1squaredLength = v_v3squaredLength - dot_v_v3v1 * dot_v_v3v1 / v3_v1squaredLength;\n\t\tvar closeTo_e1_2 = v_e1_2squaredLength <= 0.0001;\n\t\tvar closeTo_e2_3 = v_e2_3squaredLength <= 0.0001;\n\t\tvar closeTo_e3_1 = v_e3_1squaredLength <= 0.0001;\n\t\tif(closeTo_e1_2) {\n\t\t\tif(closeTo_e3_1) {\n\t\t\t\tresult = hxDaedalus_data_math_Intersection.EVertex(v1);\n\t\t\t} else if(closeTo_e2_3) {\n\t\t\t\tresult = hxDaedalus_data_math_Intersection.EVertex(v2);\n\t\t\t} else {\n\t\t\t\tresult = hxDaedalus_data_math_Intersection.EEdge(e1_2);\n\t\t\t}\n\t\t} else if(closeTo_e2_3) {\n\t\t\tif(closeTo_e3_1) {\n\t\t\t\tresult = hxDaedalus_data_math_Intersection.EVertex(v3);\n\t\t\t} else {\n\t\t\t\tresult = hxDaedalus_data_math_Intersection.EEdge(e2_3);\n\t\t\t}\n\t\t} else if(closeTo_e3_1) {\n\t\t\tresult = hxDaedalus_data_math_Intersection.EEdge(e3_1);\n\t\t} else {\n\t\t\tresult = hxDaedalus_data_math_Intersection.EFace(polygon);\n\t\t}\n\t}\n\treturn result;\n};\nhxDaedalus_data_math_Geom2D.clipSegmentByTriangle = function(s1x,s1y,s2x,s2y,t1x,t1y,t2x,t2y,t3x,t3y,pResult1,pResult2) {\n\tvar side1_1;\n\tvar side1_2;\n\tside1_1 = hxDaedalus_data_math_Geom2D.getDirection(t1x,t1y,t2x,t2y,s1x,s1y);\n\tside1_2 = hxDaedalus_data_math_Geom2D.getDirection(t1x,t1y,t2x,t2y,s2x,s2y);\n\tif(side1_1 <= 0 && side1_2 <= 0) {\n\t\treturn false;\n\t}\n\tvar side2_1;\n\tvar side2_2;\n\tside2_1 = hxDaedalus_data_math_Geom2D.getDirection(t2x,t2y,t3x,t3y,s1x,s1y);\n\tside2_2 = hxDaedalus_data_math_Geom2D.getDirection(t2x,t2y,t3x,t3y,s2x,s2y);\n\tif(side2_1 <= 0 && side2_2 <= 0) {\n\t\treturn false;\n\t}\n\tvar side3_1;\n\tvar side3_2;\n\tside3_1 = hxDaedalus_data_math_Geom2D.getDirection(t3x,t3y,t1x,t1y,s1x,s1y);\n\tside3_2 = hxDaedalus_data_math_Geom2D.getDirection(t3x,t3y,t1x,t1y,s2x,s2y);\n\tif(side3_1 <= 0 && side3_2 <= 0) {\n\t\treturn false;\n\t}\n\tif(side1_1 >= 0 && side2_1 >= 0 && side3_1 >= 0 && (side1_2 >= 0 && side2_2 >= 0 && side3_2 >= 0)) {\n\t\tpResult1.x = s1x;\n\t\tpResult1.y = s1y;\n\t\tpResult2.x = s2x;\n\t\tpResult2.y = s2y;\n\t\treturn true;\n\t}\n\tvar n = 0;\n\tif(hxDaedalus_data_math_Geom2D.intersections2segments(s1x,s1y,s2x,s2y,t1x,t1y,t2x,t2y,pResult1,null)) {\n\t\t++n;\n\t}\n\tif(n == 0) {\n\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(s1x,s1y,s2x,s2y,t2x,t2y,t3x,t3y,pResult1,null)) {\n\t\t\t++n;\n\t\t}\n\t} else if(hxDaedalus_data_math_Geom2D.intersections2segments(s1x,s1y,s2x,s2y,t2x,t2y,t3x,t3y,pResult2,null)) {\n\t\tif(-0.01 > pResult1.x - pResult2.x || pResult1.x - pResult2.x > 0.01 || -0.01 > pResult1.y - pResult2.y || pResult1.y - pResult2.y > 0.01) {\n\t\t\t++n;\n\t\t}\n\t}\n\tif(n == 0) {\n\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(s1x,s1y,s2x,s2y,t3x,t3y,t1x,t1y,pResult1,null)) {\n\t\t\t++n;\n\t\t}\n\t} else if(n == 1) {\n\t\tif(hxDaedalus_data_math_Geom2D.intersections2segments(s1x,s1y,s2x,s2y,t3x,t3y,t1x,t1y,pResult2,null)) {\n\t\t\tif(-0.01 > pResult1.x - pResult2.x || pResult1.x - pResult2.x > 0.01 || -0.01 > pResult1.y - pResult2.y || pResult1.y - pResult2.y > 0.01) {\n\t\t\t\t++n;\n\t\t\t}\n\t\t}\n\t}\n\tif(n == 1) {\n\t\tif(side1_1 >= 0 && side2_1 >= 0 && side3_1 >= 0) {\n\t\t\tpResult2.x = s1x;\n\t\t\tpResult2.y = s1y;\n\t\t} else if(side1_2 >= 0 && side2_2 >= 0 && side3_2 >= 0) {\n\t\t\tpResult2.x = s2x;\n\t\t\tpResult2.y = s2y;\n\t\t} else {\n\t\t\tn = 0;\n\t\t}\n\t}\n\tif(n > 0) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\nhxDaedalus_data_math_Geom2D.isSegmentIntersectingTriangle = function(s1x,s1y,s2x,s2y,t1x,t1y,t2x,t2y,t3x,t3y) {\n\tvar side1_1;\n\tvar side1_2;\n\tside1_1 = hxDaedalus_data_math_Geom2D.getDirection(t1x,t1y,t2x,t2y,s1x,s1y);\n\tside1_2 = hxDaedalus_data_math_Geom2D.getDirection(t1x,t1y,t2x,t2y,s2x,s2y);\n\tif(side1_1 <= 0 && side1_2 <= 0) {\n\t\treturn false;\n\t}\n\tvar side2_1;\n\tvar side2_2;\n\tside2_1 = hxDaedalus_data_math_Geom2D.getDirection(t2x,t2y,t3x,t3y,s1x,s1y);\n\tside2_2 = hxDaedalus_data_math_Geom2D.getDirection(t2x,t2y,t3x,t3y,s2x,s2y);\n\tif(side2_1 <= 0 && side2_2 <= 0) {\n\t\treturn false;\n\t}\n\tvar side3_1;\n\tvar side3_2;\n\tside3_1 = hxDaedalus_data_math_Geom2D.getDirection(t3x,t3y,t1x,t1y,s1x,s1y);\n\tside3_2 = hxDaedalus_data_math_Geom2D.getDirection(t3x,t3y,t1x,t1y,s2x,s2y);\n\tif(side3_1 <= 0 && side3_2 <= 0) {\n\t\treturn false;\n\t}\n\tif(side1_1 == 1 && side2_1 == 1 && side3_1 == 1) {\n\t\treturn true;\n\t}\n\tif(side1_1 == 1 && side2_1 == 1 && side3_1 == 1) {\n\t\treturn true;\n\t}\n\tvar side1;\n\tvar side2;\n\tif(side1_1 == 1 && side1_2 <= 0 || side1_1 <= 0 && side1_2 == 1) {\n\t\tside1 = hxDaedalus_data_math_Geom2D.getDirection(s1x,s1y,s2x,s2y,t1x,t1y);\n\t\tside2 = hxDaedalus_data_math_Geom2D.getDirection(s1x,s1y,s2x,s2y,t2x,t2y);\n\t\tif(side1 == 1 && side2 <= 0 || side1 <= 0 && side2 == 1) {\n\t\t\treturn true;\n\t\t}\n\t}\n\tif(side2_1 == 1 && side2_2 <= 0 || side2_1 <= 0 && side2_2 == 1) {\n\t\tside1 = hxDaedalus_data_math_Geom2D.getDirection(s1x,s1y,s2x,s2y,t2x,t2y);\n\t\tside2 = hxDaedalus_data_math_Geom2D.getDirection(s1x,s1y,s2x,s2y,t3x,t3y);\n\t\tif(side1 == 1 && side2 <= 0 || side1 <= 0 && side2 == 1) {\n\t\t\treturn true;\n\t\t}\n\t}\n\tif(side3_1 == 1 && side3_2 <= 0 || side3_1 <= 0 && side3_2 == 1) {\n\t\tside1 = hxDaedalus_data_math_Geom2D.getDirection(s1x,s1y,s2x,s2y,t3x,t3y);\n\t\tside2 = hxDaedalus_data_math_Geom2D.getDirection(s1x,s1y,s2x,s2y,t1x,t1y);\n\t\tif(side1 == 1 && side2 <= 0 || side1 <= 0 && side2 == 1) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nhxDaedalus_data_math_Geom2D.isDelaunay = function(edge) {\n\tvar vLeft = edge.get_originVertex();\n\tvar vRight = edge.get_destinationVertex();\n\tvar vCorner = edge.get_nextLeftEdge().get_destinationVertex();\n\tvar vOpposite = edge.get_nextRightEdge().get_destinationVertex();\n\thxDaedalus_data_math_Geom2D.getCircumcenter(vCorner.get_pos().x,vCorner.get_pos().y,vLeft.get_pos().x,vLeft.get_pos().y,vRight.get_pos().x,vRight.get_pos().y,hxDaedalus_data_math_Geom2D.__circumcenter);\n\tvar squaredRadius = (vCorner.get_pos().x - hxDaedalus_data_math_Geom2D.__circumcenter.x) * (vCorner.get_pos().x - hxDaedalus_data_math_Geom2D.__circumcenter.x) + (vCorner.get_pos().y - hxDaedalus_data_math_Geom2D.__circumcenter.y) * (vCorner.get_pos().y - hxDaedalus_data_math_Geom2D.__circumcenter.y);\n\tvar squaredDistance = (vOpposite.get_pos().x - hxDaedalus_data_math_Geom2D.__circumcenter.x) * (vOpposite.get_pos().x - hxDaedalus_data_math_Geom2D.__circumcenter.x) + (vOpposite.get_pos().y - hxDaedalus_data_math_Geom2D.__circumcenter.y) * (vOpposite.get_pos().y - hxDaedalus_data_math_Geom2D.__circumcenter.y);\n\treturn squaredDistance >= squaredRadius;\n};\nhxDaedalus_data_math_Geom2D.getCircumcenter = function(x1,y1,x2,y2,x3,y3,result) {\n\tif(result == null) {\n\t\tresult = new hxDaedalus_data_math_Point2D();\n\t}\n\tvar m1 = (x1 + x2) / 2;\n\tvar m2 = (y1 + y2) / 2;\n\tvar m3 = (x1 + x3) / 2;\n\tvar m4 = (y1 + y3) / 2;\n\tvar t1 = (m1 * (x1 - x3) + (m2 - m4) * (y1 - y3) + m3 * (x3 - x1)) / (x1 * (y3 - y2) + x2 * (y1 - y3) + x3 * (y2 - y1));\n\tresult.x = m1 + t1 * (y2 - y1);\n\tresult.y = m2 - t1 * (x2 - x1);\n\treturn result;\n};\nhxDaedalus_data_math_Geom2D.intersections2segments = function(s1p1x,s1p1y,s1p2x,s1p2y,s2p1x,s2p1y,s2p2x,s2p2y,posIntersection,paramIntersection,infiniteLineMode) {\n\tif(infiniteLineMode == null) {\n\t\tinfiniteLineMode = false;\n\t}\n\tvar t1 = 0;\n\tvar t2 = 0;\n\tvar result;\n\tvar divisor = (s1p1x - s1p2x) * (s2p1y - s2p2y) + (s1p2y - s1p1y) * (s2p1x - s2p2x);\n\tif(divisor == 0) {\n\t\tresult = false;\n\t} else {\n\t\tresult = true;\n\t\tif(!infiniteLineMode || posIntersection != null || paramIntersection != null) {\n\t\t\tt1 = (s1p1x * (s2p1y - s2p2y) + s1p1y * (s2p2x - s2p1x) + s2p1x * s2p2y - s2p1y * s2p2x) / divisor;\n\t\t\tt2 = (s1p1x * (s2p1y - s1p2y) + s1p1y * (s1p2x - s2p1x) - s1p2x * s2p1y + s1p2y * s2p1x) / divisor;\n\t\t\tif(!infiniteLineMode && !(0 <= t1 && t1 <= 1 && 0 <= t2 && t2 <= 1)) {\n\t\t\t\tresult = false;\n\t\t\t}\n\t\t}\n\t}\n\tif(result) {\n\t\tif(posIntersection != null) {\n\t\t\tposIntersection.x = s1p1x + t1 * (s1p2x - s1p1x);\n\t\t\tposIntersection.y = s1p1y + t1 * (s1p2y - s1p1y);\n\t\t}\n\t\tif(paramIntersection != null) {\n\t\t\tparamIntersection.push(t1);\n\t\t\tparamIntersection.push(t2);\n\t\t}\n\t}\n\treturn result;\n};\nhxDaedalus_data_math_Geom2D.intersections2edges = function(edge1,edge2,posIntersection,paramIntersection,infiniteLineMode) {\n\tif(infiniteLineMode == null) {\n\t\tinfiniteLineMode = false;\n\t}\n\treturn hxDaedalus_data_math_Geom2D.intersections2segments(edge1.get_originVertex().get_pos().x,edge1.get_originVertex().get_pos().y,edge1.get_destinationVertex().get_pos().x,edge1.get_destinationVertex().get_pos().y,edge2.get_originVertex().get_pos().x,edge2.get_originVertex().get_pos().y,edge2.get_destinationVertex().get_pos().x,edge2.get_destinationVertex().get_pos().y,posIntersection,paramIntersection,infiniteLineMode);\n};\nhxDaedalus_data_math_Geom2D.isConvex = function(edge) {\n\tvar result = true;\n\tvar eLeft;\n\tvar vRight;\n\teLeft = edge.get_nextLeftEdge().get_oppositeEdge();\n\tvRight = edge.get_nextRightEdge().get_destinationVertex();\n\tif(hxDaedalus_data_math_Geom2D.getRelativePosition(vRight.get_pos().x,vRight.get_pos().y,eLeft) != -1) {\n\t\tresult = false;\n\t} else {\n\t\teLeft = edge.get_prevRightEdge();\n\t\tvRight = edge.get_prevLeftEdge().get_originVertex();\n\t\tif(hxDaedalus_data_math_Geom2D.getRelativePosition(vRight.get_pos().x,vRight.get_pos().y,eLeft) != -1) {\n\t\t\tresult = false;\n\t\t}\n\t}\n\treturn result;\n};\nhxDaedalus_data_math_Geom2D.projectOrthogonaly = function(vertexPos,edge) {\n\tvar a = edge.get_originVertex().get_pos().x;\n\tvar b = edge.get_originVertex().get_pos().y;\n\tvar c = edge.get_destinationVertex().get_pos().x;\n\tvar d = edge.get_destinationVertex().get_pos().y;\n\tvar e = vertexPos.x;\n\tvar f = vertexPos.y;\n\tvar t1 = (a * a - a * c - a * e + b * b - b * d - b * f + c * e + d * f) / (a * a - 2 * a * c + b * b - 2 * b * d + c * c + d * d);\n\tvertexPos.x = a + t1 * (c - a);\n\tvertexPos.y = b + t1 * (d - b);\n};\nhxDaedalus_data_math_Geom2D.intersections2Circles = function(cx1,cy1,r1,cx2,cy2,r2,result) {\n\tvar distRadiusSQRD = (cx2 - cx1) * (cx2 - cx1) + (cy2 - cy1) * (cy2 - cy1);\n\tif((cx1 != cx2 || cy1 != cy2) && distRadiusSQRD <= (r1 + r2) * (r1 + r2) && distRadiusSQRD >= (r1 - r2) * (r1 - r2)) {\n\t\tvar transcendPart = Math.sqrt(((r1 + r2) * (r1 + r2) - distRadiusSQRD) * (distRadiusSQRD - (r2 - r1) * (r2 - r1)));\n\t\tvar xFirstPart = (cx1 + cx2) / 2 + (cx2 - cx1) * (r1 * r1 - r2 * r2) / (2 * distRadiusSQRD);\n\t\tvar yFirstPart = (cy1 + cy2) / 2 + (cy2 - cy1) * (r1 * r1 - r2 * r2) / (2 * distRadiusSQRD);\n\t\tvar xFactor = (cy2 - cy1) / (2 * distRadiusSQRD);\n\t\tvar yFactor = (cx2 - cx1) / (2 * distRadiusSQRD);\n\t\tif(result != null) {\n\t\t\tvar _g = 0;\n\t\t\tvar _g1 = [xFirstPart + xFactor * transcendPart,yFirstPart - yFactor * transcendPart,xFirstPart - xFactor * transcendPart,yFirstPart + yFactor * transcendPart];\n\t\t\twhile(_g < _g1.length) {\n\t\t\t\tvar f = _g1[_g];\n\t\t\t\t++_g;\n\t\t\t\tresult.push(f);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\nhxDaedalus_data_math_Geom2D.intersectionsSegmentCircle = function(p0x,p0y,p1x,p1y,cx,cy,r,result) {\n\tvar p0xSQD = p0x * p0x;\n\tvar p0ySQD = p0y * p0y;\n\tvar a = p1y * p1y - 2 * p1y * p0y + p0ySQD + p1x * p1x - 2 * p1x * p0x + p0xSQD;\n\tvar b = 2 * p0y * cy - 2 * p0xSQD + 2 * p1y * p0y - 2 * p0ySQD + 2 * p1x * p0x - 2 * p1x * cx + 2 * p0x * cx - 2 * p1y * cy;\n\tvar c = p0ySQD + cy * cy + cx * cx - 2 * p0y * cy - 2 * p0x * cx + p0xSQD - r * r;\n\tvar delta = b * b - 4 * a * c;\n\tvar deltaSQRT;\n\tvar t0;\n\tvar t1;\n\tif(delta < 0) {\n\t\treturn false;\n\t} else if(delta == 0) {\n\t\tt0 = -b / (2 * a);\n\t\tif(t0 < 0 || t0 > 1) {\n\t\t\treturn false;\n\t\t}\n\t\tif(result != null) {\n\t\t\tvar _g = 0;\n\t\t\tvar _g1 = [p0x + t0 * (p1x - p0x),p0y + t0 * (p1y - p0y),t0];\n\t\t\twhile(_g < _g1.length) {\n\t\t\t\tvar f = _g1[_g];\n\t\t\t\t++_g;\n\t\t\t\tresult.push(f);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t} else {\n\t\tdeltaSQRT = Math.sqrt(delta);\n\t\tt0 = (-b + deltaSQRT) / (2 * a);\n\t\tt1 = (-b - deltaSQRT) / (2 * a);\n\t\tvar intersecting = false;\n\t\tif(0 <= t0 && t0 <= 1) {\n\t\t\tif(result != null) {\n\t\t\t\tvar _g2 = 0;\n\t\t\t\tvar _g11 = [p0x + t0 * (p1x - p0x),p0y + t0 * (p1y - p0y),t0];\n\t\t\t\twhile(_g2 < _g11.length) {\n\t\t\t\t\tvar f1 = _g11[_g2];\n\t\t\t\t\t++_g2;\n\t\t\t\t\tresult.push(f1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tintersecting = true;\n\t\t}\n\t\tif(0 <= t1 && t1 <= 1) {\n\t\t\tif(result != null) {\n\t\t\t\tvar _g3 = 0;\n\t\t\t\tvar _g12 = [p0x + t1 * (p1x - p0x),p0y + t1 * (p1y - p0y),t1];\n\t\t\t\twhile(_g3 < _g12.length) {\n\t\t\t\t\tvar f2 = _g12[_g3];\n\t\t\t\t\t++_g3;\n\t\t\t\t\tresult.push(f2);\n\t\t\t\t}\n\t\t\t}\n\t\t\tintersecting = true;\n\t\t}\n\t\treturn intersecting;\n\t}\n};\nhxDaedalus_data_math_Geom2D.intersectionsLineCircle = function(p0x,p0y,p1x,p1y,cx,cy,r,result) {\n\tvar p0xSQD = p0x * p0x;\n\tvar p0ySQD = p0y * p0y;\n\tvar a = p1y * p1y - 2 * p1y * p0y + p0ySQD + p1x * p1x - 2 * p1x * p0x + p0xSQD;\n\tvar b = 2 * p0y * cy - 2 * p0xSQD + 2 * p1y * p0y - 2 * p0ySQD + 2 * p1x * p0x - 2 * p1x * cx + 2 * p0x * cx - 2 * p1y * cy;\n\tvar c = p0ySQD + cy * cy + cx * cx - 2 * p0y * cy - 2 * p0x * cx + p0xSQD - r * r;\n\tvar delta = b * b - 4 * a * c;\n\tvar deltaSQRT;\n\tvar t0;\n\tvar t1;\n\tif(delta < 0) {\n\t\treturn false;\n\t} else if(delta == 0) {\n\t\tt0 = -b / (2 * a);\n\t\tvar _g = 0;\n\t\tvar _g1 = [p0x + t0 * (p1x - p0x),p0y + t0 * (p1y - p0y),t0];\n\t\twhile(_g < _g1.length) {\n\t\t\tvar f = _g1[_g];\n\t\t\t++_g;\n\t\t\tresult.push(f);\n\t\t}\n\t} else if(delta > 0) {\n\t\tdeltaSQRT = Math.sqrt(delta);\n\t\tt0 = (-b + deltaSQRT) / (2 * a);\n\t\tt1 = (-b - deltaSQRT) / (2 * a);\n\t\tvar _g2 = 0;\n\t\tvar _g11 = [p0x + t0 * (p1x - p0x),p0y + t0 * (p1y - p0y),t0,p0x + t1 * (p1x - p0x),p0y + t1 * (p1y - p0y),t1];\n\t\twhile(_g2 < _g11.length) {\n\t\t\tvar f1 = _g11[_g2];\n\t\t\t++_g2;\n\t\t\tresult.push(f1);\n\t\t}\n\t}\n\treturn true;\n};\nhxDaedalus_data_math_Geom2D.tangentsPointToCircle = function(px,py,cx,cy,r,result) {\n\tvar c2x = (px + cx) / 2;\n\tvar c2y = (py + cy) / 2;\n\tvar r2 = 0.5 * Math.sqrt((px - cx) * (px - cx) + (py - cy) * (py - cy));\n\treturn hxDaedalus_data_math_Geom2D.intersections2Circles(c2x,c2y,r2,cx,cy,r,result);\n};\nhxDaedalus_data_math_Geom2D.tangentsCrossCircleToCircle = function(r,c1x,c1y,c2x,c2y,result) {\n\tvar distance = Math.sqrt((c1x - c2x) * (c1x - c2x) + (c1y - c2y) * (c1y - c2y));\n\tvar radius = distance / 4;\n\tvar centerX = c1x + (c2x - c1x) / 4;\n\tvar centerY = c1y + (c2y - c1y) / 4;\n\tif(hxDaedalus_data_math_Geom2D.intersections2Circles(c1x,c1y,r,centerX,centerY,radius,result)) {\n\t\tvar t1x = result[0];\n\t\tvar t1y = result[1];\n\t\tvar t2x = result[2];\n\t\tvar t2y = result[3];\n\t\tvar midX = (c1x + c2x) / 2;\n\t\tvar midY = (c1y + c2y) / 2;\n\t\tvar dotProd = (t1x - midX) * (c2y - c1y) + (t1y - midY) * (-c2x + c1x);\n\t\tvar tproj = dotProd / (distance * distance);\n\t\tvar projx = midX + tproj * (c2y - c1y);\n\t\tvar projy = midY - tproj * (c2x - c1x);\n\t\tvar t4x = 2 * projx - t1x;\n\t\tvar t4y = 2 * projy - t1y;\n\t\tvar t3x = t4x + t2x - t1x;\n\t\tvar t3y = t2y + t4y - t1y;\n\t\tvar _g = 0;\n\t\tvar _g1 = [t3x,t3y,t4x,t4y];\n\t\twhile(_g < _g1.length) {\n\t\t\tvar f = _g1[_g];\n\t\t\t++_g;\n\t\t\tresult.push(f);\n\t\t}\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\nhxDaedalus_data_math_Geom2D.tangentsParalCircleToCircle = function(r,c1x,c1y,c2x,c2y,result) {\n\tvar distance = Math.sqrt((c1x - c2x) * (c1x - c2x) + (c1y - c2y) * (c1y - c2y));\n\tvar t1x = c1x + r * (c2y - c1y) / distance;\n\tvar t1y = c1y + r * (-c2x + c1x) / distance;\n\tvar t2x = 2 * c1x - t1x;\n\tvar t2y = 2 * c1y - t1y;\n\tvar t3x = t2x + c2x - c1x;\n\tvar t3y = t2y + c2y - c1y;\n\tvar t4x = t1x + c2x - c1x;\n\tvar t4y = t1y + c2y - c1y;\n\tvar _g = 0;\n\tvar _g1 = [t1x,t1y,t2x,t2y,t3x,t3y,t4x,t4y];\n\twhile(_g < _g1.length) {\n\t\tvar f = _g1[_g];\n\t\t++_g;\n\t\tresult.push(f);\n\t}\n};\nhxDaedalus_data_math_Geom2D.distanceSquaredPointToLine = function(px,py,ax,ay,bx,by) {\n\tvar a_b_squaredLength = (bx - ax) * (bx - ax) + (by - ay) * (by - ay);\n\tvar dotProduct = (px - ax) * (bx - ax) + (py - ay) * (by - ay);\n\tvar p_a_squaredLength = (ax - px) * (ax - px) + (ay - py) * (ay - py);\n\treturn p_a_squaredLength - dotProduct * dotProduct / a_b_squaredLength;\n};\nhxDaedalus_data_math_Geom2D.distanceSquaredPointToSegment = function(px,py,ax,ay,bx,by) {\n\tvar a_b_squaredLength = (bx - ax) * (bx - ax) + (by - ay) * (by - ay);\n\tvar dotProduct = ((px - ax) * (bx - ax) + (py - ay) * (by - ay)) / a_b_squaredLength;\n\tif(dotProduct < 0) {\n\t\treturn (px - ax) * (px - ax) + (py - ay) * (py - ay);\n\t} else if(dotProduct <= 1) {\n\t\tvar p_a_squaredLength = (ax - px) * (ax - px) + (ay - py) * (ay - py);\n\t\treturn p_a_squaredLength - dotProduct * dotProduct * a_b_squaredLength;\n\t} else {\n\t\treturn (px - bx) * (px - bx) + (py - by) * (py - by);\n\t}\n};\nhxDaedalus_data_math_Geom2D.distanceSquaredVertexToEdge = function(vertex,edge) {\n\treturn hxDaedalus_data_math_Geom2D.distanceSquaredPointToSegment(vertex.get_pos().x,vertex.get_pos().y,edge.get_originVertex().get_pos().x,edge.get_originVertex().get_pos().y,edge.get_destinationVertex().get_pos().x,edge.get_destinationVertex().get_pos().y);\n};\nhxDaedalus_data_math_Geom2D.pathLength = function(path) {\n\tvar sumDistance = 0.;\n\tvar fromX = path[0];\n\tvar fromY = path[1];\n\tvar nextX;\n\tvar nextY;\n\tvar x;\n\tvar y;\n\tvar distance;\n\tvar i = 2;\n\twhile(i < path.length) {\n\t\tnextX = path[i];\n\t\tnextY = path[i + 1];\n\t\tx = nextX - fromX;\n\t\ty = nextY - fromY;\n\t\tdistance = Math.sqrt(x * x + y * y);\n\t\tsumDistance += distance;\n\t\tfromX = nextX;\n\t\tfromY = nextY;\n\t\ti += 2;\n\t}\n\treturn sumDistance;\n};\nhxDaedalus_data_math_Geom2D.prototype = {\n\t__class__: hxDaedalus_data_math_Geom2D\n};\nvar hxDaedalus_data_math_Matrix2D = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"Matrix2D\"] = function(a_,b_,c_,d_,e_,f_) {\n\tif(f_ == null) {\n\t\tf_ = 0;\n\t}\n\tif(e_ == null) {\n\t\te_ = 0;\n\t}\n\tif(d_ == null) {\n\t\td_ = 1;\n\t}\n\tif(c_ == null) {\n\t\tc_ = 0;\n\t}\n\tif(b_ == null) {\n\t\tb_ = 0;\n\t}\n\tif(a_ == null) {\n\t\ta_ = 1;\n\t}\n\tthis.a = a_;\n\tthis.b = b_;\n\tthis.c = c_;\n\tthis.d = d_;\n\tthis.e = e_;\n\tthis.f = f_;\n};\nhxDaedalus_data_math_Matrix2D.__name__ = true;\nhxDaedalus_data_math_Matrix2D.prototype = {\n\tidentity: function() {\n\t\tthis.a = 1;\n\t\tthis.b = 0;\n\t\tthis.c = 0;\n\t\tthis.d = 1;\n\t\tthis.e = 0;\n\t\tthis.f = 0;\n\t}\n\t,translate: function(tx,ty) {\n\t\tthis.e += tx;\n\t\tthis.f += ty;\n\t}\n\t,scale: function(sx,sy) {\n\t\tthis.a *= sx;\n\t\tthis.b *= sy;\n\t\tthis.c *= sx;\n\t\tthis.d *= sy;\n\t\tthis.e *= sx;\n\t\tthis.f *= sy;\n\t}\n\t,rotate: function(rad) {\n\t\tvar cos = Math.cos(rad);\n\t\tvar sin = Math.sin(rad);\n\t\tvar a_ = this.a * cos + this.b * -sin;\n\t\tvar b_ = this.a * sin + this.b * cos;\n\t\tvar c_ = this.c * cos + this.d * -sin;\n\t\tvar d_ = this.c * sin + this.d * cos;\n\t\tvar e_ = this.e * cos + this.f * -sin;\n\t\tvar f_ = this.e * sin + this.f * cos;\n\t\tthis.a = a_;\n\t\tthis.b = b_;\n\t\tthis.c = c_;\n\t\tthis.d = d_;\n\t\tthis.e = e_;\n\t\tthis.f = f_;\n\t}\n\t,clone: function() {\n\t\treturn new hxDaedalus_data_math_Matrix2D(this.a,this.b,this.c,this.d,this.e,this.f);\n\t}\n\t,tranform: function(point) {\n\t\tvar x = this.a * point.x + this.c * point.y + this.e;\n\t\tvar y = this.b * point.x + this.d * point.y + this.f;\n\t\tpoint.x = x;\n\t\tpoint.y = y;\n\t}\n\t,transformX: function(x,y) {\n\t\treturn this.a * x + this.c * y + this.e;\n\t}\n\t,transformY: function(x,y) {\n\t\treturn this.b * x + this.d * y + this.f;\n\t}\n\t,concat: function(matrix) {\n\t\tvar a_ = this.a * matrix.a + this.b * matrix.c;\n\t\tvar b_ = this.a * matrix.b + this.b * matrix.d;\n\t\tvar c_ = this.c * matrix.a + this.d * matrix.c;\n\t\tvar d_ = this.c * matrix.b + this.d * matrix.d;\n\t\tvar e_ = this.e * matrix.a + this.f * matrix.c + matrix.e;\n\t\tvar f_ = this.e * matrix.b + this.f * matrix.d + matrix.f;\n\t\tthis.a = a_;\n\t\tthis.b = b_;\n\t\tthis.c = c_;\n\t\tthis.d = d_;\n\t\tthis.e = e_;\n\t\tthis.f = f_;\n\t}\n\t,__class__: hxDaedalus_data_math_Matrix2D\n};\nvar hxDaedalus_data_math_NodeData = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"NodeData\"] = function() {\n};\nhxDaedalus_data_math_NodeData.__name__ = true;\nhxDaedalus_data_math_NodeData.prototype = {\n\t__class__: hxDaedalus_data_math_NodeData\n};\nvar hxDaedalus_data_math_Potrace = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"Potrace\"] = function() {\n};\nhxDaedalus_data_math_Potrace.__name__ = true;\nhxDaedalus_data_math_Potrace.buildShapes = function(bmpData,debugBmp,debugShape) {\n\tvar shapes = [];\n\tvar dictPixelsDone = new haxe_ds_StringMap();\n\tvar _g1 = 1;\n\tvar _g = bmpData.height - 1;\n\twhile(_g1 < _g) {\n\t\tvar row = _g1++;\n\t\tvar _g3 = 0;\n\t\tvar _g2 = bmpData.width - 1;\n\t\twhile(_g3 < _g2) {\n\t\t\tvar col = _g3++;\n\t\t\tif(hxPixels__$Pixels_Pixels_$Impl_$.getPixel(bmpData,col,row) == 16777215 && hxPixels__$Pixels_Pixels_$Impl_$.getPixel(bmpData,col + 1,row) < 16777215) {\n\t\t\t\tvar key = col + 1 + \"_\" + row;\n\t\t\t\tif(!(__map_reserved[key] != null ? dictPixelsDone.getReserved(key) : dictPixelsDone.h[key])) {\n\t\t\t\t\tshapes.push(hxDaedalus_data_math_Potrace.buildShape(bmpData,row,col + 1,dictPixelsDone,debugBmp,debugShape));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn shapes;\n};\nhxDaedalus_data_math_Potrace.buildShape = function(bmpData,fromPixelRow,fromPixelCol,dictPixelsDone,debugBmp,debugShape) {\n\tvar newX = fromPixelCol;\n\tvar newY = fromPixelRow;\n\tvar path = [newX,newY];\n\tvar key = newX + \"_\" + newY;\n\tif(__map_reserved[key] != null) {\n\t\tdictPixelsDone.setReserved(key,true);\n\t} else {\n\t\tdictPixelsDone.h[key] = true;\n\t}\n\tvar curDir = new hxDaedalus_data_math_Point2D(0,1);\n\tvar newDir = new hxDaedalus_data_math_Point2D();\n\tvar newPixelRow;\n\tvar newPixelCol;\n\tvar count = -1;\n\twhile(true) {\n\t\tif(debugBmp != null) {\n\t\t\thxPixels__$Pixels_Pixels_$Impl_$.setPixel32(debugBmp,fromPixelCol,fromPixelRow,-65536);\n\t\t}\n\t\tnewPixelRow = fromPixelRow + curDir.x + curDir.y | 0;\n\t\tnewPixelCol = fromPixelCol + curDir.x - curDir.y | 0;\n\t\tif(hxPixels__$Pixels_Pixels_$Impl_$.getPixel(bmpData,newPixelCol,newPixelRow) < 16777215) {\n\t\t\tnewDir.x = -curDir.y;\n\t\t\tnewDir.y = curDir.x;\n\t\t} else {\n\t\t\tnewPixelRow = fromPixelRow + curDir.y | 0;\n\t\t\tnewPixelCol = fromPixelCol + curDir.x | 0;\n\t\t\tif(hxPixels__$Pixels_Pixels_$Impl_$.getPixel(bmpData,newPixelCol,newPixelRow) < 16777215) {\n\t\t\t\tnewDir.x = curDir.x;\n\t\t\t\tnewDir.y = curDir.y;\n\t\t\t} else {\n\t\t\t\tnewPixelRow = fromPixelRow;\n\t\t\t\tnewPixelCol = fromPixelCol;\n\t\t\t\tnewDir.x = curDir.y;\n\t\t\t\tnewDir.y = -curDir.x;\n\t\t\t}\n\t\t}\n\t\tnewX += curDir.x;\n\t\tnewY += curDir.y;\n\t\tif(newX == path[0] && newY == path[1]) {\n\t\t\tbreak;\n\t\t} else {\n\t\t\tpath.push(newX);\n\t\t\tpath.push(newY);\n\t\t\tvar key1 = newX + \"_\" + newY;\n\t\t\tif(__map_reserved[key1] != null) {\n\t\t\t\tdictPixelsDone.setReserved(key1,true);\n\t\t\t} else {\n\t\t\t\tdictPixelsDone.h[key1] = true;\n\t\t\t}\n\t\t\tfromPixelRow = newPixelRow;\n\t\t\tfromPixelCol = newPixelCol;\n\t\t\tcurDir.x = newDir.x;\n\t\t\tcurDir.y = newDir.y;\n\t\t}\n\t\t--count;\n\t\tif(count == 0) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(debugShape != null) {\n\t\tdebugShape.graphics.lineStyle(0.5,65280,1);\n\t\tdebugShape.graphics.moveTo(path[0],path[1]);\n\t\tvar i = 2;\n\t\twhile(i < path.length) {\n\t\t\tdebugShape.graphics.lineTo(path[i],path[i + 1]);\n\t\t\ti += 2;\n\t\t}\n\t\tdebugShape.graphics.lineTo(path[0],path[1]);\n\t}\n\treturn path;\n};\nhxDaedalus_data_math_Potrace.buildGraph = function(shape) {\n\tvar i;\n\tvar graph = new hxDaedalus_data_graph_Graph();\n\tvar node;\n\ti = 0;\n\twhile(i < shape.length) {\n\t\tnode = graph.insertNode();\n\t\tnode.set_data(new hxDaedalus_data_math_NodeData());\n\t\tnode.get_data().index = i;\n\t\tvar shape1 = shape[i];\n\t\tvar shape2 = shape[i + 1];\n\t\tnode.get_data().point = new hxDaedalus_data_math_Point2D(shape1,shape2);\n\t\ti += 2;\n\t}\n\tvar node1;\n\tvar node2;\n\tvar subNode;\n\tvar distSqrd;\n\tvar sumDistSqrd;\n\tvar count;\n\tvar isValid;\n\tvar edge;\n\tvar edgeData;\n\tnode1 = graph.get_node();\n\twhile(node1 != null) {\n\t\tif(node1.get_next() != null) {\n\t\t\tnode2 = node1.get_next();\n\t\t} else {\n\t\t\tnode2 = graph.get_node();\n\t\t}\n\t\twhile(node2 != node1) {\n\t\t\tisValid = true;\n\t\t\tif(node1.get_next() != null) {\n\t\t\t\tsubNode = node1.get_next();\n\t\t\t} else {\n\t\t\t\tsubNode = graph.get_node();\n\t\t\t}\n\t\t\tcount = 2;\n\t\t\tsumDistSqrd = 0;\n\t\t\twhile(subNode != node2) {\n\t\t\t\tdistSqrd = hxDaedalus_data_math_Geom2D.distanceSquaredPointToSegment(subNode.get_data().point.x,subNode.get_data().point.y,node1.get_data().point.x,node1.get_data().point.y,node2.get_data().point.x,node2.get_data().point.y);\n\t\t\t\tif(distSqrd < 0) {\n\t\t\t\t\tdistSqrd = 0;\n\t\t\t\t}\n\t\t\t\tif(distSqrd >= hxDaedalus_data_math_Potrace.maxDistance) {\n\t\t\t\t\tisValid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t++count;\n\t\t\t\tsumDistSqrd += distSqrd;\n\t\t\t\tif(subNode.get_next() != null) {\n\t\t\t\t\tsubNode = subNode.get_next();\n\t\t\t\t} else {\n\t\t\t\t\tsubNode = graph.get_node();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!isValid) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tedge = graph.insertEdge(node1,node2);\n\t\t\tedgeData = new hxDaedalus_data_math_EdgeData();\n\t\t\tedgeData.sumDistancesSquared = sumDistSqrd;\n\t\t\tedgeData.length = node1.get_data().point.distanceTo(node2.get_data().point);\n\t\t\tedgeData.nodesCount = count;\n\t\t\tedge.set_data(edgeData);\n\t\t\tif(node2.get_next() != null) {\n\t\t\t\tnode2 = node2.get_next();\n\t\t\t} else {\n\t\t\t\tnode2 = graph.get_node();\n\t\t\t}\n\t\t}\n\t\tnode1 = node1.get_next();\n\t}\n\treturn graph;\n};\nhxDaedalus_data_math_Potrace.buildPolygon = function(graph,debugShape) {\n\tvar polygon = [];\n\tvar currNode;\n\tvar minNodeIndex = 2147483647;\n\tvar edge;\n\tvar score;\n\tvar higherScore;\n\tvar lowerScoreEdge = null;\n\tcurrNode = graph.get_node();\n\twhile(currNode.get_data().index < minNodeIndex) {\n\t\tminNodeIndex = currNode.get_data().index;\n\t\tpolygon.push(currNode.get_data().point.x);\n\t\tpolygon.push(currNode.get_data().point.y);\n\t\thigherScore = 0;\n\t\tedge = currNode.get_outgoingEdge();\n\t\twhile(edge != null) {\n\t\t\tscore = edge.get_data().nodesCount - edge.get_data().length * Math.sqrt(edge.get_data().sumDistancesSquared / edge.get_data().nodesCount);\n\t\t\tif(score > higherScore) {\n\t\t\t\thigherScore = score;\n\t\t\t\tlowerScoreEdge = edge;\n\t\t\t}\n\t\t\tedge = edge.get_rotNextEdge();\n\t\t}\n\t\tcurrNode = lowerScoreEdge.get_destinationNode();\n\t}\n\tif(hxDaedalus_data_math_Geom2D.getDirection(polygon[polygon.length - 2],polygon[polygon.length - 1],polygon[0],polygon[1],polygon[2],polygon[3]) == 0) {\n\t\tpolygon.shift();\n\t\tpolygon.shift();\n\t}\n\tif(debugShape != null) {\n\t\tdebugShape.graphics.lineStyle(0.5,255);\n\t\tdebugShape.graphics.moveTo(polygon[0],polygon[1]);\n\t\tvar i = 2;\n\t\twhile(i < polygon.length) {\n\t\t\tdebugShape.graphics.lineTo(polygon[i],polygon[i + 1]);\n\t\t\ti += 2;\n\t\t}\n\t\tdebugShape.graphics.lineTo(polygon[0],polygon[1]);\n\t}\n\treturn polygon;\n};\nhxDaedalus_data_math_Potrace.prototype = {\n\t__class__: hxDaedalus_data_math_Potrace\n};\nvar hxDaedalus_data_math_RandGenerator = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"RandGenerator\"] = function(seed,rangeMin_,rangeMax_) {\n\tif(rangeMax_ == null) {\n\t\trangeMax_ = 1;\n\t}\n\tif(rangeMin_ == null) {\n\t\trangeMin_ = 0;\n\t}\n\tif(seed == null) {\n\t\tseed = 1234;\n\t}\n\tthis._originalSeed = this._currSeed = seed;\n\tthis.rangeMin = rangeMin_;\n\tthis.rangeMax = rangeMax_;\n\tthis._numIter = 0;\n};\nhxDaedalus_data_math_RandGenerator.__name__ = true;\nhxDaedalus_data_math_RandGenerator.prototype = {\n\tset_seed: function(value) {\n\t\tthis._originalSeed = this._currSeed = value;\n\t\treturn value;\n\t}\n\t,get_seed: function() {\n\t\treturn this._originalSeed;\n\t}\n\t,reset: function() {\n\t\tthis._currSeed = this._originalSeed;\n\t\tthis._numIter = 0;\n\t}\n\t,next: function() {\n\t\tvar _floatSeed = this._currSeed * 1.0;\n\t\tthis._tempString = Std.string(_floatSeed * _floatSeed);\n\t\twhile(this._tempString.length < 8) this._tempString = \"0\" + this._tempString;\n\t\tthis._currSeed = Std.parseInt(HxOverrides.substr(this._tempString,1,5));\n\t\tvar res = Math.round(this.rangeMin + this._currSeed / 99999 * (this.rangeMax - this.rangeMin));\n\t\tif(this._currSeed == 0) {\n\t\t\tthis._currSeed = this._originalSeed + this._numIter;\n\t\t}\n\t\tthis._numIter++;\n\t\tif(this._numIter == 200) {\n\t\t\tthis.reset();\n\t\t}\n\t\treturn res;\n\t}\n\t,nextInRange: function(rangeMin,rangeMax) {\n\t\tthis.rangeMin = rangeMin;\n\t\tthis.rangeMax = rangeMax;\n\t\treturn this.next();\n\t}\n\t,shuffle: function(array) {\n\t\tvar currIdx = array.length;\n\t\twhile(currIdx > 0) {\n\t\t\tvar rndIdx = this.nextInRange(0,currIdx - 1);\n\t\t\t--currIdx;\n\t\t\tvar tmp = array[currIdx];\n\t\t\tarray[currIdx] = array[rndIdx];\n\t\t\tarray[rndIdx] = tmp;\n\t\t}\n\t}\n\t,__class__: hxDaedalus_data_math_RandGenerator\n};\nvar hxDaedalus_data_math_ShapeSimplifier = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"ShapeSimplifier\"] = function() { };\nhxDaedalus_data_math_ShapeSimplifier.__name__ = true;\nhxDaedalus_data_math_ShapeSimplifier.simplify = function(coords,epsilon) {\n\tif(epsilon == null) {\n\t\tepsilon = 1;\n\t}\n\tvar len = coords.length;\n\tif(len <= 4 || epsilon < 1) {\n\t\treturn [].concat(coords);\n\t}\n\tvar firstPointX = coords[0];\n\tvar firstPointY = coords[1];\n\tvar lastPointX = coords[len - 2];\n\tvar lastPointY = coords[len - 1];\n\tvar index = -1;\n\tvar dist = 0.;\n\tvar _g1 = 1;\n\tvar _g = len >> 1;\n\twhile(_g1 < _g) {\n\t\tvar i = _g1++;\n\t\tvar currDist = hxDaedalus_data_math_Geom2D.distanceSquaredPointToSegment(coords[i << 1],coords[(i << 1) + 1],firstPointX,firstPointY,lastPointX,lastPointY);\n\t\tif(currDist > dist) {\n\t\t\tdist = currDist;\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif(dist > epsilon * epsilon) {\n\t\tvar l1 = coords.slice(0,(index << 1) + 2);\n\t\tvar l2 = coords.slice(index << 1);\n\t\tvar r1 = hxDaedalus_data_math_ShapeSimplifier.simplify(l1,epsilon);\n\t\tvar r2 = hxDaedalus_data_math_ShapeSimplifier.simplify(l2,epsilon);\n\t\tvar rs = r1.slice(0,r1.length - 2).concat(r2);\n\t\treturn rs;\n\t} else {\n\t\treturn [firstPointX,firstPointY,lastPointX,lastPointY];\n\t}\n};\nvar hxDaedalus_data_math_Tools = $hx_exports[\"hxDaedalus\"][\"data\"][\"math\"][\"Tools\"] = function() { };\nhxDaedalus_data_math_Tools.__name__ = true;\nhxDaedalus_data_math_Tools.extractMeshFromBitmap = function(pixels,vertices,triangles) {\n\tvar shapes = hxDaedalus_data_math_Potrace.buildShapes(pixels);\n\treturn hxDaedalus_data_math_Tools.extractMeshFromShapes(shapes,pixels.width,pixels.height,vertices,triangles);\n};\nhxDaedalus_data_math_Tools.extractMeshFromShapes = function(shapes,width,height,vertices,triangles,invertWinding) {\n\tif(invertWinding == null) {\n\t\tinvertWinding = false;\n\t}\n\tvar graphs = [];\n\tvar _g1 = 0;\n\tvar _g = shapes.length;\n\twhile(_g1 < _g) {\n\t\tvar i = _g1++;\n\t\tgraphs.push(hxDaedalus_data_math_Potrace.buildGraph(shapes[i]));\n\t}\n\tvar polygons = [];\n\tvar _g11 = 0;\n\tvar _g2 = graphs.length;\n\twhile(_g11 < _g2) {\n\t\tvar i1 = _g11++;\n\t\tpolygons.push(hxDaedalus_data_math_Potrace.buildPolygon(graphs[i1]));\n\t}\n\tvar mesh = hxDaedalus_factories_RectMesh.buildRectangle(width,height);\n\tvar edges = [];\n\tvar segment;\n\tvar _g12 = 0;\n\tvar _g3 = polygons.length;\n\twhile(_g12 < _g3) {\n\t\tvar i2 = _g12++;\n\t\tvar j = 0;\n\t\twhile(j < polygons[i2].length - 2) {\n\t\t\tsegment = mesh.insertConstraintSegment(polygons[i2][j],polygons[i2][j + 1],polygons[i2][j + 2],polygons[i2][j + 3]);\n\t\t\tif(j == 0) {\n\t\t\t\tif(segment.get_edges()[0].get_originVertex().get_pos().x == polygons[i2][j] && segment.get_edges()[0].get_originVertex().get_pos().y == polygons[i2][j + 1]) {\n\t\t\t\t\tif(!invertWinding) {\n\t\t\t\t\t\tedges.push(segment.get_edges()[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tedges.push(segment.get_edges()[0].get_oppositeEdge());\n\t\t\t\t\t}\n\t\t\t\t} else if(!invertWinding) {\n\t\t\t\t\tedges.push(segment.get_edges()[0].get_oppositeEdge());\n\t\t\t\t} else {\n\t\t\t\t\tedges.push(segment.get_edges()[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tj += 2;\n\t\t}\n\t\tmesh.insertConstraintSegment(polygons[i2][0],polygons[i2][1],polygons[i2][j],polygons[i2][j + 1]);\n\t}\n\tvar indicesDict = new haxe_ds_ObjectMap();\n\tvar vertex;\n\tvar point;\n\tvar _g13 = 0;\n\tvar _g4 = mesh._vertices.length;\n\twhile(_g13 < _g4) {\n\t\tvar i3 = _g13++;\n\t\tvertex = mesh._vertices[i3];\n\t\tif(vertex.get_isReal() && vertex.get_pos().x > 0 && vertex.get_pos().x < width && vertex.get_pos().y > 0 && vertex.get_pos().y < height) {\n\t\t\tpoint = new hxDaedalus_data_math_Point2D(vertex.get_pos().x,vertex.get_pos().y);\n\t\t\tvertices.push(point);\n\t\t\tvar v = vertices.length - 1;\n\t\t\tindicesDict.set(vertex,v);\n\t\t}\n\t}\n\tvar facesDone = new haxe_ds_ObjectMap();\n\tvar openFacesList = [];\n\tvar _g14 = 0;\n\tvar _g5 = edges.length;\n\twhile(_g14 < _g5) {\n\t\tvar i4 = _g14++;\n\t\topenFacesList.push(edges[i4].get_rightFace());\n\t}\n\tvar currFace;\n\twhile(openFacesList.length > 0) {\n\t\tcurrFace = openFacesList.pop();\n\t\tif(facesDone.h[currFace.__id__]) {\n\t\t\tcontinue;\n\t\t}\n\t\tvar key = currFace.get_edge().get_originVertex();\n\t\ttriangles.push(indicesDict.h[key.__id__]);\n\t\tvar key1 = currFace.get_edge().get_nextLeftEdge().get_originVertex();\n\t\ttriangles.push(indicesDict.h[key1.__id__]);\n\t\tvar key2 = currFace.get_edge().get_nextLeftEdge().get_destinationVertex();\n\t\ttriangles.push(indicesDict.h[key2.__id__]);\n\t\tif(!currFace.get_edge().get_isConstrained()) {\n\t\t\topenFacesList.push(currFace.get_edge().get_rightFace());\n\t\t}\n\t\tif(!currFace.get_edge().get_nextLeftEdge().get_isConstrained()) {\n\t\t\topenFacesList.push(currFace.get_edge().get_nextLeftEdge().get_rightFace());\n\t\t}\n\t\tif(!currFace.get_edge().get_prevLeftEdge().get_isConstrained()) {\n\t\t\topenFacesList.push(currFace.get_edge().get_prevLeftEdge().get_rightFace());\n\t\t}\n\t\tfacesDone.set(currFace,true);\n\t}\n\treturn mesh;\n};\nvar hxDaedalus_debug_Debug = function() { };\nhxDaedalus_debug_Debug.__name__ = true;\nhxDaedalus_debug_Debug.assertTrue = function(cond,message,pos) {\n\treturn;\n};\nhxDaedalus_debug_Debug.assertFalse = function(cond,message,pos) {\n\treturn;\n};\nhxDaedalus_debug_Debug.assertEquals = function(expected,actual,message,pos) {\n\treturn;\n};\nhxDaedalus_debug_Debug.trace = function(value,pos) {\n\treturn;\n};\nvar hxDaedalus_factories_BitmapMesh = $hx_exports[\"hxDaedalus\"][\"factories\"][\"BitmapMesh\"] = function() {\n};\nhxDaedalus_factories_BitmapMesh.__name__ = true;\nhxDaedalus_factories_BitmapMesh.buildFromBmpData = function(bmpData,debugBmp,debugShape) {\n\tvar i;\n\tvar j;\n\tvar shapes = hxDaedalus_data_math_Potrace.buildShapes(bmpData,debugBmp,debugShape);\n\tvar graphs = [];\n\tvar _g1 = 0;\n\tvar _g = shapes.length;\n\twhile(_g1 < _g) {\n\t\tvar i1 = _g1++;\n\t\tgraphs.push(hxDaedalus_data_math_Potrace.buildGraph(shapes[i1]));\n\t}\n\tvar polygons = [];\n\tvar _g11 = 0;\n\tvar _g2 = graphs.length;\n\twhile(_g11 < _g2) {\n\t\tvar i2 = _g11++;\n\t\tpolygons.push(hxDaedalus_data_math_Potrace.buildPolygon(graphs[i2],debugShape));\n\t}\n\tvar mesh = hxDaedalus_factories_RectMesh.buildRectangle(bmpData.width,bmpData.height);\n\tvar _g12 = 0;\n\tvar _g3 = polygons.length;\n\twhile(_g12 < _g3) {\n\t\tvar i3 = _g12++;\n\t\tj = 0;\n\t\twhile(j < polygons[i3].length - 2) {\n\t\t\tmesh.insertConstraintSegment(polygons[i3][j],polygons[i3][j + 1],polygons[i3][j + 2],polygons[i3][j + 3]);\n\t\t\tj += 2;\n\t\t}\n\t\tmesh.insertConstraintSegment(polygons[i3][0],polygons[i3][1],polygons[i3][j],polygons[i3][j + 1]);\n\t}\n\treturn mesh;\n};\nhxDaedalus_factories_BitmapMesh.prototype = {\n\t__class__: hxDaedalus_factories_BitmapMesh\n};\nvar hxDaedalus_factories_BitmapObject = $hx_exports[\"hxDaedalus\"][\"factories\"][\"BitmapObject\"] = function() {\n};\nhxDaedalus_factories_BitmapObject.__name__ = true;\nhxDaedalus_factories_BitmapObject.buildFromBmpData = function(bmpData,simplificationEpsilon,debugBmp,debugShape) {\n\tif(simplificationEpsilon == null) {\n\t\tsimplificationEpsilon = 1;\n\t}\n\tvar i;\n\tvar j;\n\tvar cond = bmpData.width > 0 && bmpData.height > 0;\n\tvar message = \"Invalid `bmpData` size (\" + bmpData.width + \", \" + bmpData.height + \")\";\n\tvar shapes = hxDaedalus_data_math_Potrace.buildShapes(bmpData,debugBmp,debugShape);\n\tif(simplificationEpsilon >= 1) {\n\t\tvar _g1 = 0;\n\t\tvar _g = shapes.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i1 = _g1++;\n\t\t\tshapes[i1] = hxDaedalus_data_math_ShapeSimplifier.simplify(shapes[i1],simplificationEpsilon);\n\t\t}\n\t}\n\tvar graphs = [];\n\tvar _g11 = 0;\n\tvar _g2 = shapes.length;\n\twhile(_g11 < _g2) {\n\t\tvar i2 = _g11++;\n\t\tgraphs.push(hxDaedalus_data_math_Potrace.buildGraph(shapes[i2]));\n\t}\n\tvar polygons = [];\n\tvar _g12 = 0;\n\tvar _g3 = graphs.length;\n\twhile(_g12 < _g3) {\n\t\tvar i3 = _g12++;\n\t\tpolygons.push(hxDaedalus_data_math_Potrace.buildPolygon(graphs[i3],debugShape));\n\t}\n\tvar obj = new hxDaedalus_data_Object();\n\tvar _g13 = 0;\n\tvar _g4 = polygons.length;\n\twhile(_g13 < _g4) {\n\t\tvar i4 = _g13++;\n\t\tj = 0;\n\t\twhile(j < polygons[i4].length - 2) {\n\t\t\tobj.get_coordinates().push(polygons[i4][j]);\n\t\t\tobj.get_coordinates().push(polygons[i4][j + 1]);\n\t\t\tobj.get_coordinates().push(polygons[i4][j + 2]);\n\t\t\tobj.get_coordinates().push(polygons[i4][j + 3]);\n\t\t\tj += 2;\n\t\t}\n\t\tobj.get_coordinates().push(polygons[i4][0]);\n\t\tobj.get_coordinates().push(polygons[i4][1]);\n\t\tobj.get_coordinates().push(polygons[i4][j]);\n\t\tobj.get_coordinates().push(polygons[i4][j + 1]);\n\t}\n\treturn obj;\n};\nhxDaedalus_factories_BitmapObject.prototype = {\n\t__class__: hxDaedalus_factories_BitmapObject\n};\nvar hxDaedalus_factories_RectMesh = $hx_exports[\"hxDaedalus\"][\"factories\"][\"RectMesh\"] = function() {\n};\nhxDaedalus_factories_RectMesh.__name__ = true;\nhxDaedalus_factories_RectMesh.buildRectangle = function(width,height) {\n\tvar vTL = new hxDaedalus_data_Vertex();\n\tvar vTR = new hxDaedalus_data_Vertex();\n\tvar vBR = new hxDaedalus_data_Vertex();\n\tvar vBL = new hxDaedalus_data_Vertex();\n\tvar eTL_TR = new hxDaedalus_data_Edge();\n\tvar eTR_TL = new hxDaedalus_data_Edge();\n\tvar eTR_BR = new hxDaedalus_data_Edge();\n\tvar eBR_TR = new hxDaedalus_data_Edge();\n\tvar eBR_BL = new hxDaedalus_data_Edge();\n\tvar eBL_BR = new hxDaedalus_data_Edge();\n\tvar eBL_TL = new hxDaedalus_data_Edge();\n\tvar eTL_BL = new hxDaedalus_data_Edge();\n\tvar eTR_BL = new hxDaedalus_data_Edge();\n\tvar eBL_TR = new hxDaedalus_data_Edge();\n\tvar eTL_BR = new hxDaedalus_data_Edge();\n\tvar eBR_TL = new hxDaedalus_data_Edge();\n\tvar fTL_BL_TR = new hxDaedalus_data_Face();\n\tvar fTR_BL_BR = new hxDaedalus_data_Face();\n\tvar fTL_BR_BL = new hxDaedalus_data_Face();\n\tvar fTL_TR_BR = new hxDaedalus_data_Face();\n\tvar boundShape = new hxDaedalus_data_ConstraintShape();\n\tvar segTop = new hxDaedalus_data_ConstraintSegment();\n\tvar segRight = new hxDaedalus_data_ConstraintSegment();\n\tvar segBot = new hxDaedalus_data_ConstraintSegment();\n\tvar segLeft = new hxDaedalus_data_ConstraintSegment();\n\tvar mesh = new hxDaedalus_data_Mesh(width,height);\n\tvar offset = 10.;\n\tvTL.get_pos().setXY(0 - offset,0 - offset);\n\tvTR.get_pos().setXY(width + offset,0 - offset);\n\tvBR.get_pos().setXY(width + offset,height + offset);\n\tvBL.get_pos().setXY(0 - offset,height + offset);\n\tvTL.setDatas(eTL_TR);\n\tvTR.setDatas(eTR_BR);\n\tvBR.setDatas(eBR_BL);\n\tvBL.setDatas(eBL_TL);\n\teTL_TR.setDatas(vTL,eTR_TL,eTR_BR,fTL_TR_BR,true,true);\n\teTR_TL.setDatas(vTR,eTL_TR,eTL_BL,fTL_BL_TR,true,true);\n\teTR_BR.setDatas(vTR,eBR_TR,eBR_TL,fTL_TR_BR,true,true);\n\teBR_TR.setDatas(vBR,eTR_BR,eTR_BL,fTR_BL_BR,true,true);\n\teBR_BL.setDatas(vBR,eBL_BR,eBL_TL,fTL_BR_BL,true,true);\n\teBL_BR.setDatas(vBL,eBR_BL,eBR_TR,fTR_BL_BR,true,true);\n\teBL_TL.setDatas(vBL,eTL_BL,eTL_BR,fTL_BR_BL,true,true);\n\teTL_BL.setDatas(vTL,eBL_TL,eBL_TR,fTL_BL_TR,true,true);\n\teTR_BL.setDatas(vTR,eBL_TR,eBL_BR,fTR_BL_BR,true,false);\n\teBL_TR.setDatas(vBL,eTR_BL,eTR_TL,fTL_BL_TR,true,false);\n\teTL_BR.setDatas(vTL,eBR_TL,eBR_BL,fTL_BR_BL,false,false);\n\teBR_TL.setDatas(vBR,eTL_BR,eTL_TR,fTL_TR_BR,false,false);\n\tfTL_BL_TR.setDatas(eBL_TR);\n\tfTR_BL_BR.setDatas(eTR_BL);\n\tfTL_BR_BL.setDatas(eBR_BL,false);\n\tfTL_TR_BR.setDatas(eTR_BR,false);\n\tvTL.set_fromConstraintSegments([segTop,segLeft]);\n\tvTR.set_fromConstraintSegments([segTop,segRight]);\n\tvBR.set_fromConstraintSegments([segRight,segBot]);\n\tvBL.set_fromConstraintSegments([segBot,segLeft]);\n\teTL_TR.fromConstraintSegments.push(segTop);\n\teTR_TL.fromConstraintSegments.push(segTop);\n\teTR_BR.fromConstraintSegments.push(segRight);\n\teBR_TR.fromConstraintSegments.push(segRight);\n\teBR_BL.fromConstraintSegments.push(segBot);\n\teBL_BR.fromConstraintSegments.push(segBot);\n\teBL_TL.fromConstraintSegments.push(segLeft);\n\teTL_BL.fromConstraintSegments.push(segLeft);\n\tsegTop.get_edges().push(eTL_TR);\n\tsegRight.get_edges().push(eTR_BR);\n\tsegBot.get_edges().push(eBR_BL);\n\tsegLeft.get_edges().push(eBL_TL);\n\tsegTop.fromShape = boundShape;\n\tsegRight.fromShape = boundShape;\n\tsegBot.fromShape = boundShape;\n\tsegLeft.fromShape = boundShape;\n\tvar _g = 0;\n\tvar _g1 = [segTop,segRight,segBot,segLeft];\n\twhile(_g < _g1.length) {\n\t\tvar f = _g1[_g];\n\t\t++_g;\n\t\tboundShape.segments.push(f);\n\t}\n\tvar _g2 = 0;\n\tvar _g11 = [vTL,vTR,vBR,vBL];\n\twhile(_g2 < _g11.length) {\n\t\tvar f1 = _g11[_g2];\n\t\t++_g2;\n\t\tmesh._vertices.push(f1);\n\t}\n\tvar _g3 = 0;\n\tvar _g12 = [eTL_TR,eTR_TL,eTR_BR,eBR_TR,eBR_BL,eBL_BR,eBL_TL,eTL_BL,eTR_BL,eBL_TR,eTL_BR,eBR_TL];\n\twhile(_g3 < _g12.length) {\n\t\tvar f2 = _g12[_g3];\n\t\t++_g3;\n\t\tmesh._edges.push(f2);\n\t}\n\tvar _g4 = 0;\n\tvar _g13 = [fTL_BL_TR,fTR_BL_BR,fTL_BR_BL,fTL_TR_BR];\n\twhile(_g4 < _g13.length) {\n\t\tvar f3 = _g13[_g4];\n\t\t++_g4;\n\t\tmesh._faces.push(f3);\n\t}\n\tmesh.get___constraintShapes().push(boundShape);\n\tvar securityRect = [];\n\tvar _g5 = 0;\n\tvar _g14 = [0,0,width,0];\n\twhile(_g5 < _g14.length) {\n\t\tvar f4 = _g14[_g5];\n\t\t++_g5;\n\t\tsecurityRect.push(f4);\n\t}\n\tvar _g6 = 0;\n\tvar _g15 = [width,0,width,height];\n\twhile(_g6 < _g15.length) {\n\t\tvar f5 = _g15[_g6];\n\t\t++_g6;\n\t\tsecurityRect.push(f5);\n\t}\n\tvar _g7 = 0;\n\tvar _g16 = [width,height,0,height];\n\twhile(_g7 < _g16.length) {\n\t\tvar f6 = _g16[_g7];\n\t\t++_g7;\n\t\tsecurityRect.push(f6);\n\t}\n\tvar _g8 = 0;\n\tvar _g17 = [0,height,0,0];\n\twhile(_g8 < _g17.length) {\n\t\tvar f7 = _g17[_g8];\n\t\t++_g8;\n\t\tsecurityRect.push(f7);\n\t}\n\tmesh.set_clipping(false);\n\tmesh.insertConstraintShape(securityRect);\n\tmesh.set_clipping(true);\n\treturn mesh;\n};\nhxDaedalus_factories_RectMesh.prototype = {\n\t__class__: hxDaedalus_factories_RectMesh\n};\nvar hxDaedalus_iterators_FromEdgeToRotatedEdges = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromEdgeToRotatedEdges\"] = function() {\n};\nhxDaedalus_iterators_FromEdgeToRotatedEdges.__name__ = true;\nhxDaedalus_iterators_FromEdgeToRotatedEdges.prototype = {\n\t__class__: hxDaedalus_iterators_FromEdgeToRotatedEdges\n};\nvar hxDaedalus_iterators_FromFaceToInnerEdges = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromFaceToInnerEdges\"] = function() {\n};\nhxDaedalus_iterators_FromFaceToInnerEdges.__name__ = true;\nhxDaedalus_iterators_FromFaceToInnerEdges.prototype = {\n\tset_fromFace: function(value) {\n\t\tthis._fromFace = value;\n\t\tthis._nextEdge = this._fromFace.get_edge();\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\tif(this._nextEdge != null) {\n\t\t\tthis._resultEdge = this._nextEdge;\n\t\t\tthis._nextEdge = this._nextEdge.get_nextLeftEdge();\n\t\t\tif(this._nextEdge == this._fromFace.get_edge()) {\n\t\t\t\tthis._nextEdge = null;\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resultEdge = null;\n\t\t}\n\t\treturn this._resultEdge;\n\t}\n\t,__class__: hxDaedalus_iterators_FromFaceToInnerEdges\n};\nvar hxDaedalus_iterators_FromFaceToInnerVertices = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromFaceToInnerVertices\"] = function() {\n};\nhxDaedalus_iterators_FromFaceToInnerVertices.__name__ = true;\nhxDaedalus_iterators_FromFaceToInnerVertices.prototype = {\n\tset_fromFace: function(value) {\n\t\tthis._fromFace = value;\n\t\tthis._nextEdge = this._fromFace.get_edge();\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\tif(this._nextEdge != null) {\n\t\t\tthis._resultVertex = this._nextEdge.get_originVertex();\n\t\t\tthis._nextEdge = this._nextEdge.get_nextLeftEdge();\n\t\t\tif(this._nextEdge == this._fromFace.get_edge()) {\n\t\t\t\tthis._nextEdge = null;\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resultVertex = null;\n\t\t}\n\t\treturn this._resultVertex;\n\t}\n\t,__class__: hxDaedalus_iterators_FromFaceToInnerVertices\n};\nvar hxDaedalus_iterators_FromFaceToNeighbourFaces = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromFaceToNeighbourFaces\"] = function() {\n};\nhxDaedalus_iterators_FromFaceToNeighbourFaces.__name__ = true;\nhxDaedalus_iterators_FromFaceToNeighbourFaces.prototype = {\n\tset_fromFace: function(value) {\n\t\tthis._fromFace = value;\n\t\tthis._nextEdge = this._fromFace.get_edge();\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\tif(this._nextEdge != null) {\n\t\t\twhile(true) {\n\t\t\t\tthis._resultFace = this._nextEdge.get_rightFace();\n\t\t\t\tthis._nextEdge = this._nextEdge.get_nextLeftEdge();\n\t\t\t\tif(this._nextEdge == this._fromFace.get_edge()) {\n\t\t\t\t\tthis._nextEdge = null;\n\t\t\t\t\tif(!this._resultFace.get_isReal()) {\n\t\t\t\t\t\tthis._resultFace = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!(!this._resultFace.get_isReal())) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resultFace = null;\n\t\t}\n\t\treturn this._resultFace;\n\t}\n\t,__class__: hxDaedalus_iterators_FromFaceToNeighbourFaces\n};\nvar hxDaedalus_iterators_FromMeshToFaces = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromMeshToFaces\"] = function() {\n};\nhxDaedalus_iterators_FromMeshToFaces.__name__ = true;\nhxDaedalus_iterators_FromMeshToFaces.prototype = {\n\tset_fromMesh: function(value) {\n\t\tthis._fromMesh = value;\n\t\tthis._currIndex = 0;\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\twhile(true) {\n\t\t\tif(this._currIndex < this._fromMesh._faces.length) {\n\t\t\t\tthis._resultFace = this._fromMesh._faces[this._currIndex];\n\t\t\t\tthis._currIndex++;\n\t\t\t} else {\n\t\t\t\tthis._resultFace = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(!(!this._resultFace.get_isReal())) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn this._resultFace;\n\t}\n\t,__class__: hxDaedalus_iterators_FromMeshToFaces\n};\nvar hxDaedalus_iterators_FromMeshToVertices = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromMeshToVertices\"] = function() {\n};\nhxDaedalus_iterators_FromMeshToVertices.__name__ = true;\nhxDaedalus_iterators_FromMeshToVertices.prototype = {\n\tset_fromMesh: function(value) {\n\t\tthis._fromMesh = value;\n\t\tthis._currIndex = 0;\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\twhile(true) {\n\t\t\tif(this._currIndex < this._fromMesh._vertices.length) {\n\t\t\t\tthis._resultVertex = this._fromMesh._vertices[this._currIndex];\n\t\t\t\tthis._currIndex++;\n\t\t\t} else {\n\t\t\t\tthis._resultVertex = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(!(!this._resultVertex.get_isReal())) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn this._resultVertex;\n\t}\n\t,__class__: hxDaedalus_iterators_FromMeshToVertices\n};\nvar hxDaedalus_iterators_FromVertexToHoldingFaces = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromVertexToHoldingFaces\"] = function() {\n};\nhxDaedalus_iterators_FromVertexToHoldingFaces.__name__ = true;\nhxDaedalus_iterators_FromVertexToHoldingFaces.prototype = {\n\tset_fromVertex: function(value) {\n\t\tthis._fromVertex = value;\n\t\tthis._nextEdge = this._fromVertex.get_edge();\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\tif(this._nextEdge != null) {\n\t\t\twhile(true) {\n\t\t\t\tthis._resultFace = this._nextEdge.get_leftFace();\n\t\t\t\tthis._nextEdge = this._nextEdge.get_rotLeftEdge();\n\t\t\t\tif(this._nextEdge == this._fromVertex.get_edge()) {\n\t\t\t\t\tthis._nextEdge = null;\n\t\t\t\t\tif(!this._resultFace.get_isReal()) {\n\t\t\t\t\t\tthis._resultFace = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!(!this._resultFace.get_isReal())) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resultFace = null;\n\t\t}\n\t\treturn this._resultFace;\n\t}\n\t,__class__: hxDaedalus_iterators_FromVertexToHoldingFaces\n};\nvar hxDaedalus_iterators_FromVertexToIncomingEdges = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromVertexToIncomingEdges\"] = function() {\n};\nhxDaedalus_iterators_FromVertexToIncomingEdges.__name__ = true;\nhxDaedalus_iterators_FromVertexToIncomingEdges.prototype = {\n\tset_fromVertex: function(value) {\n\t\tthis._fromVertex = value;\n\t\tthis._nextEdge = this._fromVertex.get_edge();\n\t\twhile(!this._nextEdge.get_isReal()) this._nextEdge = this._nextEdge.get_rotLeftEdge();\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\tif(this._nextEdge != null) {\n\t\t\tthis._resultEdge = this._nextEdge.get_oppositeEdge();\n\t\t\twhile(true) {\n\t\t\t\tthis._nextEdge = this._nextEdge.get_rotLeftEdge();\n\t\t\t\tif(this._nextEdge == this._fromVertex.get_edge()) {\n\t\t\t\t\tthis._nextEdge = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!(!this._nextEdge.get_isReal())) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resultEdge = null;\n\t\t}\n\t\treturn this._resultEdge;\n\t}\n\t,__class__: hxDaedalus_iterators_FromVertexToIncomingEdges\n};\nvar hxDaedalus_iterators_FromVertexToNeighbourVertices = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromVertexToNeighbourVertices\"] = function() {\n};\nhxDaedalus_iterators_FromVertexToNeighbourVertices.__name__ = true;\nhxDaedalus_iterators_FromVertexToNeighbourVertices.prototype = {\n\tset_fromVertex: function(value) {\n\t\tthis._fromVertex = value;\n\t\tthis._nextEdge = this._fromVertex.get_edge();\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\tif(this._nextEdge != null) {\n\t\t\tthis._resultVertex = this._nextEdge.get_oppositeEdge().get_originVertex();\n\t\t\twhile(true) {\n\t\t\t\tthis._nextEdge = this._nextEdge.get_rotLeftEdge();\n\t\t\t\tif(!(!this._nextEdge.get_isReal())) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(this._nextEdge == this._fromVertex.get_edge()) {\n\t\t\t\tthis._nextEdge = null;\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resultVertex = null;\n\t\t}\n\t\treturn this._resultVertex;\n\t}\n\t,__class__: hxDaedalus_iterators_FromVertexToNeighbourVertices\n};\nvar hxDaedalus_iterators_FromVertexToOutgoingEdges = $hx_exports[\"hxDaedalus\"][\"iterators\"][\"FromVertexToOutgoingEdges\"] = function() {\n\tthis.realEdgesOnly = true;\n};\nhxDaedalus_iterators_FromVertexToOutgoingEdges.__name__ = true;\nhxDaedalus_iterators_FromVertexToOutgoingEdges.prototype = {\n\tset_fromVertex: function(value) {\n\t\tthis._fromVertex = value;\n\t\tthis._nextEdge = this._fromVertex.get_edge();\n\t\twhile(this.realEdgesOnly && !this._nextEdge.get_isReal()) this._nextEdge = this._nextEdge.get_rotLeftEdge();\n\t\treturn value;\n\t}\n\t,next: function() {\n\t\tif(this._nextEdge != null) {\n\t\t\tthis._resultEdge = this._nextEdge;\n\t\t\twhile(true) {\n\t\t\t\tthis._nextEdge = this._nextEdge.get_rotLeftEdge();\n\t\t\t\tif(this._nextEdge == this._fromVertex.get_edge()) {\n\t\t\t\t\tthis._nextEdge = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!(this.realEdgesOnly && !this._nextEdge.get_isReal())) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resultEdge = null;\n\t\t}\n\t\treturn this._resultEdge;\n\t}\n\t,__class__: hxDaedalus_iterators_FromVertexToOutgoingEdges\n};\nvar hxDaedalus_view_SimpleView = $hx_exports[\"hxDaedalus\"][\"view\"][\"SimpleView\"] = function(targetCanvas) {\n\tthis.faceToEdgeIter = new hxDaedalus_iterators_FromFaceToInnerEdges();\n\tthis.faceAlpha = .5;\n\tthis.faceWidth = 1;\n\tthis.faceColor = 16711935;\n\tthis.entitiesAlpha = .75;\n\tthis.entitiesWidth = 1;\n\tthis.entitiesColor = 65280;\n\tthis.pathsAlpha = .75;\n\tthis.pathsWidth = 1.5;\n\tthis.pathsColor = 16760848;\n\tthis.verticesAlpha = .25;\n\tthis.verticesRadius = .5;\n\tthis.verticesColor = 255;\n\tthis.constraintsAlpha = 1.0;\n\tthis.constraintsWidth = 2;\n\tthis.constraintsColor = 16711680;\n\tthis.edgesAlpha = .25;\n\tthis.edgesWidth = 1;\n\tthis.edgesColor = 10066329;\n\tthis.graphics = new wings_jsCanvas_SimpleDrawingContext(targetCanvas);\n};\nhxDaedalus_view_SimpleView.__name__ = true;\nhxDaedalus_view_SimpleView.prototype = {\n\tdrawVertex: function(vertex) {\n\t\tthis.graphics.graphics.lineStyle(this.verticesRadius,this.verticesColor,this.verticesAlpha);\n\t\tthis.graphics.graphics.beginFill(this.verticesColor,this.verticesAlpha);\n\t\tvar _this = this.graphics;\n\t\tvar cx = vertex.get_pos().x;\n\t\tvar cy = vertex.get_pos().y;\n\t\t_this.graphics.drawCircle(cx,cy,this.verticesRadius);\n\t\tthis.graphics.graphics.endFill();\n\t}\n\t,drawFace: function(face) {\n\t\tthis.faceToEdgeIter.set_fromFace(face);\n\t\tthis.graphics.graphics.beginFill(this.faceColor,this.faceAlpha);\n\t\tthis.graphics.graphics.lineStyle(this.faceWidth,this.faceColor,this.faceAlpha);\n\t\tvar count = 0;\n\t\tvar edge;\n\t\twhile(true) {\n\t\t\tedge = this.faceToEdgeIter.next();\n\t\t\tif(edge == null) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(count == 0) {\n\t\t\t\tvar _this = this.graphics;\n\t\t\t\tvar x = edge.get_originVertex().get_pos().x;\n\t\t\t\tvar y = edge.get_originVertex().get_pos().y;\n\t\t\t\t_this.graphics.moveTo(x,y);\n\t\t\t}\n\t\t\tvar _this1 = this.graphics;\n\t\t\tvar x1 = edge.get_destinationVertex().get_pos().x;\n\t\t\tvar y1 = edge.get_destinationVertex().get_pos().y;\n\t\t\t_this1.graphics.lineTo(x1,y1);\n\t\t\t++count;\n\t\t}\n\t\tthis.graphics.graphics.endFill();\n\t}\n\t,drawEdge: function(edge) {\n\t\tif(edge.get_isConstrained()) {\n\t\t\tthis.graphics.graphics.lineStyle(this.constraintsWidth,this.constraintsColor,this.constraintsAlpha);\n\t\t\tvar _this = this.graphics;\n\t\t\tvar x = edge.get_originVertex().get_pos().x;\n\t\t\tvar y = edge.get_originVertex().get_pos().y;\n\t\t\t_this.graphics.moveTo(x,y);\n\t\t\tvar _this1 = this.graphics;\n\t\t\tvar x1 = edge.get_destinationVertex().get_pos().x;\n\t\t\tvar y1 = edge.get_destinationVertex().get_pos().y;\n\t\t\t_this1.graphics.lineTo(x1,y1);\n\t\t} else {\n\t\t\tthis.graphics.graphics.lineStyle(this.edgesWidth,this.edgesColor,this.edgesAlpha);\n\t\t\tvar _this2 = this.graphics;\n\t\t\tvar x2 = edge.get_originVertex().get_pos().x;\n\t\t\tvar y2 = edge.get_originVertex().get_pos().y;\n\t\t\t_this2.graphics.moveTo(x2,y2);\n\t\t\tvar _this3 = this.graphics;\n\t\t\tvar x3 = edge.get_destinationVertex().get_pos().x;\n\t\t\tvar y3 = edge.get_destinationVertex().get_pos().y;\n\t\t\t_this3.graphics.lineTo(x3,y3);\n\t\t}\n\t}\n\t,drawMesh: function(mesh,cleanBefore) {\n\t\tif(cleanBefore == null) {\n\t\t\tcleanBefore = false;\n\t\t}\n\t\tif(cleanBefore) {\n\t\t\tthis.graphics.graphics.clear();\n\t\t}\n\t\tvar all = mesh.getVerticesAndEdges();\n\t\tvar _g = 0;\n\t\tvar _g1 = all.vertices;\n\t\twhile(_g < _g1.length) {\n\t\t\tvar v = _g1[_g];\n\t\t\t++_g;\n\t\t\tthis.drawVertex(v);\n\t\t}\n\t\tvar _g2 = 0;\n\t\tvar _g11 = all.edges;\n\t\twhile(_g2 < _g11.length) {\n\t\t\tvar e = _g11[_g2];\n\t\t\t++_g2;\n\t\t\tthis.drawEdge(e);\n\t\t}\n\t}\n\t,drawEntity: function(entity,cleanBefore) {\n\t\tif(cleanBefore == null) {\n\t\t\tcleanBefore = false;\n\t\t}\n\t\tif(cleanBefore) {\n\t\t\tthis.graphics.graphics.clear();\n\t\t}\n\t\tthis.graphics.graphics.lineStyle(this.entitiesWidth,this.entitiesColor,this.entitiesAlpha);\n\t\tthis.graphics.graphics.beginFill(this.entitiesColor,this.entitiesAlpha);\n\t\tvar _this = this.graphics;\n\t\tvar cx = entity.x;\n\t\tvar cy = entity.y;\n\t\tvar radius = entity.get_radius();\n\t\t_this.graphics.drawCircle(cx,cy,radius);\n\t\tthis.graphics.graphics.endFill();\n\t}\n\t,drawEntities: function(vEntities,cleanBefore) {\n\t\tif(cleanBefore == null) {\n\t\t\tcleanBefore = false;\n\t\t}\n\t\tif(cleanBefore) {\n\t\t\tthis.graphics.graphics.clear();\n\t\t}\n\t\tvar _g1 = 0;\n\t\tvar _g = vEntities.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tthis.drawEntity(vEntities[i],false);\n\t\t}\n\t}\n\t,drawPath: function(path,cleanBefore) {\n\t\tif(cleanBefore == null) {\n\t\t\tcleanBefore = false;\n\t\t}\n\t\tif(cleanBefore) {\n\t\t\tthis.graphics.graphics.clear();\n\t\t}\n\t\tif(path.length == 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis.graphics.graphics.lineStyle(this.pathsWidth,this.pathsColor,this.pathsAlpha);\n\t\tthis.graphics.graphics.moveTo(path[0],path[1]);\n\t\tvar i = 2;\n\t\twhile(i < path.length) {\n\t\t\tthis.graphics.graphics.lineTo(path[i],path[i + 1]);\n\t\t\tthis.graphics.graphics.moveTo(path[i],path[i + 1]);\n\t\t\ti += 2;\n\t\t}\n\t}\n\t,__class__: hxDaedalus_view_SimpleView\n};\nvar hxPixels__$Pixels_Pixels_$Impl_$ = $hx_exports[\"hxPixels\"][\"_Pixels\"][\"Pixels_Impl_\"] = {};\nhxPixels__$Pixels_Pixels_$Impl_$.__name__ = true;\nhxPixels__$Pixels_Pixels_$Impl_$._new = function(width,height,alloc) {\n\tif(alloc == null) {\n\t\talloc = true;\n\t}\n\tvar this1 = new hxPixels__$Pixels_PixelsData(width,height,alloc);\n\treturn this1;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.getByte = function(this1,i) {\n\treturn this1.bytes.b[(i & -4) + this1.format.channelMap[i & 3]];\n};\nhxPixels__$Pixels_Pixels_$Impl_$.getPixel = function(this1,x,y) {\n\tvar pos = y * this1.width + x << 2;\n\tvar r = this1.bytes.b[pos + this1.format.ch1] << 16;\n\tvar g = this1.bytes.b[pos + this1.format.ch2] << 8;\n\tvar b = this1.bytes.b[pos + this1.format.ch3];\n\treturn r | g | b;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.getPixel32 = function(this1,x,y) {\n\tvar pos = y * this1.width + x << 2;\n\tvar a = this1.bytes.b[pos + this1.format.ch0] << 24;\n\tvar r = this1.bytes.b[pos + this1.format.ch1] << 16;\n\tvar g = this1.bytes.b[pos + this1.format.ch2] << 8;\n\tvar b = this1.bytes.b[pos + this1.format.ch3];\n\treturn a | r | g | b;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.setByte = function(this1,i,value) {\n\tthis1.bytes.b[(i & -4) + this1.format.channelMap[i & 3]] = value & 255;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.setPixel = function(this1,x,y,value) {\n\tvar pos = y * this1.width + x << 2;\n\tvar r = value >> 16 & 255;\n\tvar g = value >> 8 & 255;\n\tvar b = value & 255;\n\tthis1.bytes.b[pos + this1.format.ch1] = r & 255;\n\tthis1.bytes.b[pos + this1.format.ch2] = g & 255;\n\tthis1.bytes.b[pos + this1.format.ch3] = b & 255;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.setPixel32 = function(this1,x,y,value) {\n\tvar pos = y * this1.width + x << 2;\n\tvar a = value >> 24 & 255;\n\tvar r = value >> 16 & 255;\n\tvar g = value >> 8 & 255;\n\tvar b = value & 255;\n\tthis1.bytes.b[pos + this1.format.ch0] = a & 255;\n\tthis1.bytes.b[pos + this1.format.ch1] = r & 255;\n\tthis1.bytes.b[pos + this1.format.ch2] = g & 255;\n\tthis1.bytes.b[pos + this1.format.ch3] = b & 255;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.fillRect = function(this1,x,y,width,height,value) {\n\tvar pos = y * this1.width + x << 2;\n\tvar this2 = new hxPixels__$Pixels_PixelsData(width,1,true);\n\tvar stridePixels = this2;\n\tstridePixels.format = this1.format;\n\tvar stride = width << 2;\n\tvar _g1 = 0;\n\tvar _g = width;\n\twhile(_g1 < _g) {\n\t\tvar x1 = _g1++;\n\t\thxPixels__$Pixels_Pixels_$Impl_$.setPixel32(stridePixels,x1,0,value);\n\t}\n\tvar _g11 = 0;\n\tvar _g2 = height;\n\twhile(_g11 < _g2) {\n\t\tvar y1 = _g11++;\n\t\tthis1.bytes.blit(pos,stridePixels.bytes,0,stride);\n\t\tpos += this1.width << 2;\n\t}\n};\nhxPixels__$Pixels_Pixels_$Impl_$.clone = function(this1) {\n\tvar this2 = new hxPixels__$Pixels_PixelsData(this1.width,this1.height,true);\n\tvar clone = this2;\n\tclone.bytes.blit(0,this1.bytes,0,this1.bytes.length);\n\tclone.format = this1.format;\n\treturn clone;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.fromBytes = function(bytes,width,height,format) {\n\tvar this1 = new hxPixels__$Pixels_PixelsData(width,height,false);\n\tvar pixels = this1;\n\tif(format == null) {\n\t\tformat = hxPixels_PixelFormat.ARGB;\n\t}\n\tpixels.bytes = bytes;\n\treturn pixels;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.convertTo = function(this1,format) {\n\treturn hxPixels__$Pixels_Pixels_$Impl_$.convert(this1,format,true);\n};\nhxPixels__$Pixels_Pixels_$Impl_$.convert = function(pixels,toFormat,inPlace) {\n\tif(inPlace == null) {\n\t\tinPlace = false;\n\t}\n\tvar res = inPlace ? pixels : hxPixels__$Pixels_Pixels_$Impl_$.clone(pixels);\n\tif(toFormat == pixels.format) {\n\t\treturn res;\n\t}\n\tvar i = 0;\n\tvar pos = 0;\n\tif(pixels.format == hxPixels_PixelFormat.BGRA && toFormat == hxPixels_PixelFormat.RGBA || pixels.format == hxPixels_PixelFormat.RGBA && toFormat == hxPixels_PixelFormat.BGRA) {\n\t\twhile(i < pixels.count) {\n\t\t\tvar i1 = pos + 1;\n\t\t\tvar r = pixels.bytes.b[(i1 & -4) + pixels.format.channelMap[i1 & 3]];\n\t\t\tvar i2 = pos + 3;\n\t\t\tvar b = pixels.bytes.b[(i2 & -4) + pixels.format.channelMap[i2 & 3]];\n\t\t\tres.bytes.b[pos + toFormat.ch1] = r & 255;\n\t\t\tres.bytes.b[pos + toFormat.ch3] = b & 255;\n\t\t\t++i;\n\t\t\tpos += 4;\n\t\t}\n\t} else {\n\t\twhile(i < pixels.count) {\n\t\t\tvar a = pixels.bytes.b[(pos & -4) + pixels.format.channelMap[pos & 3]];\n\t\t\tvar i3 = pos + 1;\n\t\t\tvar r1 = pixels.bytes.b[(i3 & -4) + pixels.format.channelMap[i3 & 3]];\n\t\t\tvar i4 = pos + 2;\n\t\t\tvar g = pixels.bytes.b[(i4 & -4) + pixels.format.channelMap[i4 & 3]];\n\t\t\tvar i5 = pos + 3;\n\t\t\tvar b1 = pixels.bytes.b[(i5 & -4) + pixels.format.channelMap[i5 & 3]];\n\t\t\tres.bytes.b[pos + toFormat.ch0] = a & 255;\n\t\t\tres.bytes.b[pos + toFormat.ch1] = r1 & 255;\n\t\t\tres.bytes.b[pos + toFormat.ch2] = g & 255;\n\t\t\tres.bytes.b[pos + toFormat.ch3] = b1 & 255;\n\t\t\t++i;\n\t\t\tpos += 4;\n\t\t}\n\t}\n\tres.format = toFormat;\n\treturn res;\n};\nhxPixels__$Pixels_Pixels_$Impl_$.fromImageData = function(image) {\n\tvar this1 = new hxPixels__$Pixels_PixelsData(image.width,image.height,true);\n\tvar pixels = this1;\n\tpixels.format = hxPixels_PixelFormat.ARGB;\n\tvar data = image.data;\n\tvar _g1 = 0;\n\tvar _g = data.byteLength;\n\twhile(_g1 < _g) {\n\t\tvar i = _g1++;\n\t\tpixels.bytes.b[i] = data[i] & 255;\n\t}\n\treturn pixels;\n};\nvar hxPixels__$Pixels_PixelsData = function(width,height,alloc,format) {\n\tif(alloc == null) {\n\t\talloc = true;\n\t}\n\tthis.count = width * height;\n\tif(alloc) {\n\t\tthis.bytes = new haxe_io_Bytes(new ArrayBuffer(this.count << 2));\n\t}\n\tthis.width = width;\n\tthis.height = height;\n\tthis.format = format != null ? format : hxPixels_PixelFormat.ARGB;\n};\nhxPixels__$Pixels_PixelsData.__name__ = true;\nhxPixels__$Pixels_PixelsData.prototype = {\n\t__class__: hxPixels__$Pixels_PixelsData\n};\nvar hxPixels_PixelFormat = $hx_exports[\"hxPixels\"][\"PixelFormat\"] = function(a,r,g,b,name) {\n\tif(name == null) {\n\t\tname = \"PixelFormat\";\n\t}\n\tthis.channelMap = [a,r,g,b];\n\tthis.ch0 = a;\n\tthis.ch1 = r;\n\tthis.ch2 = g;\n\tthis.ch3 = b;\n\tthis.name = name;\n};\nhxPixels_PixelFormat.__name__ = true;\nhxPixels_PixelFormat.prototype = {\n\tget_A: function() {\n\t\treturn this.ch0;\n\t}\n\t,get_R: function() {\n\t\treturn this.ch1;\n\t}\n\t,get_G: function() {\n\t\treturn this.ch2;\n\t}\n\t,get_B: function() {\n\t\treturn this.ch3;\n\t}\n\t,toString: function() {\n\t\treturn this.name;\n\t}\n\t,__class__: hxPixels_PixelFormat\n};\nvar hxPixels__$Pixels_Pixel_$Impl_$ = $hx_exports[\"hxPixels\"][\"_Pixels\"][\"Pixel_Impl_\"] = {};\nhxPixels__$Pixels_Pixel_$Impl_$.__name__ = true;\nhxPixels__$Pixels_Pixel_$Impl_$.get_A = function(this1) {\n\treturn this1 >> 24 & 255;\n};\nhxPixels__$Pixels_Pixel_$Impl_$.set_A = function(this1,a) {\n\ta &= 255;\n\tthis1 = this1 & 16777215 | a << 24;\n\treturn a;\n};\nhxPixels__$Pixels_Pixel_$Impl_$.get_R = function(this1) {\n\treturn this1 >> 16 & 255;\n};\nhxPixels__$Pixels_Pixel_$Impl_$.set_R = function(this1,r) {\n\tr &= 255;\n\tthis1 = this1 & -16711681 | r << 16;\n\treturn r;\n};\nhxPixels__$Pixels_Pixel_$Impl_$.get_G = function(this1) {\n\treturn this1 >> 8 & 255;\n};\nhxPixels__$Pixels_Pixel_$Impl_$.set_G = function(this1,g) {\n\tg &= 255;\n\tthis1 = this1 & -65281 | g << 8;\n\treturn g;\n};\nhxPixels__$Pixels_Pixel_$Impl_$.get_B = function(this1) {\n\treturn this1 & 255;\n};\nhxPixels__$Pixels_Pixel_$Impl_$.set_B = function(this1,b) {\n\tb &= 255;\n\tthis1 = this1 & -256 | b;\n\treturn b;\n};\nvar js__$Boot_HaxeError = function(val) {\n\tError.call(this);\n\tthis.val = val;\n\tthis.message = String(val);\n\tif(Error.captureStackTrace) {\n\t\tError.captureStackTrace(this,js__$Boot_HaxeError);\n\t}\n};\njs__$Boot_HaxeError.__name__ = true;\njs__$Boot_HaxeError.wrap = function(val) {\n\tif((val instanceof Error)) {\n\t\treturn val;\n\t} else {\n\t\treturn new js__$Boot_HaxeError(val);\n\t}\n};\njs__$Boot_HaxeError.__super__ = Error;\njs__$Boot_HaxeError.prototype = $extend(Error.prototype,{\n\t__class__: js__$Boot_HaxeError\n});\nvar js_Boot = function() { };\njs_Boot.__name__ = true;\njs_Boot.getClass = function(o) {\n\tif((o instanceof Array) && o.__enum__ == null) {\n\t\treturn Array;\n\t} else {\n\t\tvar cl = o.__class__;\n\t\tif(cl != null) {\n\t\t\treturn cl;\n\t\t}\n\t\tvar name = js_Boot.__nativeClassName(o);\n\t\tif(name != null) {\n\t\t\treturn js_Boot.__resolveNativeClass(name);\n\t\t}\n\t\treturn null;\n\t}\n};\njs_Boot.__string_rec = function(o,s) {\n\tif(o == null) {\n\t\treturn \"null\";\n\t}\n\tif(s.length >= 5) {\n\t\treturn \"<...>\";\n\t}\n\tvar t = typeof(o);\n\tif(t == \"function\" && (o.__name__ || o.__ename__)) {\n\t\tt = \"object\";\n\t}\n\tswitch(t) {\n\tcase \"function\":\n\t\treturn \"<function>\";\n\tcase \"object\":\n\t\tif(o instanceof Array) {\n\t\t\tif(o.__enum__) {\n\t\t\t\tif(o.length == 2) {\n\t\t\t\t\treturn o[0];\n\t\t\t\t}\n\t\t\t\tvar str = o[0] + \"(\";\n\t\t\t\ts += \"\\t\";\n\t\t\t\tvar _g1 = 2;\n\t\t\t\tvar _g = o.length;\n\t\t\t\twhile(_g1 < _g) {\n\t\t\t\t\tvar i = _g1++;\n\t\t\t\t\tif(i != 2) {\n\t\t\t\t\t\tstr += \",\" + js_Boot.__string_rec(o[i],s);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr += js_Boot.__string_rec(o[i],s);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn str + \")\";\n\t\t\t}\n\t\t\tvar l = o.length;\n\t\t\tvar i1;\n\t\t\tvar str1 = \"[\";\n\t\t\ts += \"\\t\";\n\t\t\tvar _g11 = 0;\n\t\t\tvar _g2 = l;\n\t\t\twhile(_g11 < _g2) {\n\t\t\t\tvar i2 = _g11++;\n\t\t\t\tstr1 += (i2 > 0 ? \",\" : \"\") + js_Boot.__string_rec(o[i2],s);\n\t\t\t}\n\t\t\tstr1 += \"]\";\n\t\t\treturn str1;\n\t\t}\n\t\tvar tostr;\n\t\ttry {\n\t\t\ttostr = o.toString;\n\t\t} catch( e ) {\n\t\t\treturn \"???\";\n\t\t}\n\t\tif(tostr != null && tostr != Object.toString && typeof(tostr) == \"function\") {\n\t\t\tvar s2 = o.toString();\n\t\t\tif(s2 != \"[object Object]\") {\n\t\t\t\treturn s2;\n\t\t\t}\n\t\t}\n\t\tvar k = null;\n\t\tvar str2 = \"{\\n\";\n\t\ts += \"\\t\";\n\t\tvar hasp = o.hasOwnProperty != null;\n\t\tfor( var k in o ) {\n\t\tif(hasp && !o.hasOwnProperty(k)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif(k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\") {\n\t\t\tcontinue;\n\t\t}\n\t\tif(str2.length != 2) {\n\t\t\tstr2 += \", \\n\";\n\t\t}\n\t\tstr2 += s + k + \" : \" + js_Boot.__string_rec(o[k],s);\n\t\t}\n\t\ts = s.substring(1);\n\t\tstr2 += \"\\n\" + s + \"}\";\n\t\treturn str2;\n\tcase \"string\":\n\t\treturn o;\n\tdefault:\n\t\treturn String(o);\n\t}\n};\njs_Boot.__interfLoop = function(cc,cl) {\n\tif(cc == null) {\n\t\treturn false;\n\t}\n\tif(cc == cl) {\n\t\treturn true;\n\t}\n\tvar intf = cc.__interfaces__;\n\tif(intf != null) {\n\t\tvar _g1 = 0;\n\t\tvar _g = intf.length;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tvar i1 = intf[i];\n\t\t\tif(i1 == cl || js_Boot.__interfLoop(i1,cl)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn js_Boot.__interfLoop(cc.__super__,cl);\n};\njs_Boot.__instanceof = function(o,cl) {\n\tif(cl == null) {\n\t\treturn false;\n\t}\n\tswitch(cl) {\n\tcase Array:\n\t\tif((o instanceof Array)) {\n\t\t\treturn o.__enum__ == null;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\tbreak;\n\tcase Bool:\n\t\treturn typeof(o) == \"boolean\";\n\tcase Dynamic:\n\t\treturn true;\n\tcase Float:\n\t\treturn typeof(o) == \"number\";\n\tcase Int:\n\t\tif(typeof(o) == \"number\") {\n\t\t\treturn (o|0) === o;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\tbreak;\n\tcase String:\n\t\treturn typeof(o) == \"string\";\n\tdefault:\n\t\tif(o != null) {\n\t\t\tif(typeof(cl) == \"function\") {\n\t\t\t\tif(o instanceof cl) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else if(typeof(cl) == \"object\" && js_Boot.__isNativeObj(cl)) {\n\t\t\t\tif(o instanceof cl) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\tif(cl == Class ? o.__name__ != null : false) {\n\t\t\treturn true;\n\t\t}\n\t\tif(cl == Enum ? o.__ename__ != null : false) {\n\t\t\treturn true;\n\t\t}\n\t\treturn o.__enum__ == cl;\n\t}\n};\njs_Boot.__nativeClassName = function(o) {\n\tvar name = js_Boot.__toStr.call(o).slice(8,-1);\n\tif(name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\") {\n\t\treturn null;\n\t}\n\treturn name;\n};\njs_Boot.__isNativeObj = function(o) {\n\treturn js_Boot.__nativeClassName(o) != null;\n};\njs_Boot.__resolveNativeClass = function(name) {\n\treturn $global[name];\n};\nvar js_html_compat_ArrayBuffer = function(a) {\n\tif((a instanceof Array) && a.__enum__ == null) {\n\t\tthis.a = a;\n\t\tthis.byteLength = a.length;\n\t} else {\n\t\tvar len = a;\n\t\tthis.a = [];\n\t\tvar _g1 = 0;\n\t\tvar _g = len;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tthis.a[i] = 0;\n\t\t}\n\t\tthis.byteLength = len;\n\t}\n};\njs_html_compat_ArrayBuffer.__name__ = true;\njs_html_compat_ArrayBuffer.sliceImpl = function(begin,end) {\n\tvar u = new Uint8Array(this,begin,end == null ? null : end - begin);\n\tvar result = new ArrayBuffer(u.byteLength);\n\tvar resultArray = new Uint8Array(result);\n\tresultArray.set(u);\n\treturn result;\n};\njs_html_compat_ArrayBuffer.prototype = {\n\tslice: function(begin,end) {\n\t\treturn new js_html_compat_ArrayBuffer(this.a.slice(begin,end));\n\t}\n\t,__class__: js_html_compat_ArrayBuffer\n};\nvar js_html_compat_Uint8Array = function() { };\njs_html_compat_Uint8Array.__name__ = true;\njs_html_compat_Uint8Array._new = function(arg1,offset,length) {\n\tvar arr;\n\tif(typeof(arg1) == \"number\") {\n\t\tarr = [];\n\t\tvar _g1 = 0;\n\t\tvar _g = arg1;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tarr[i] = 0;\n\t\t}\n\t\tarr.byteLength = arr.length;\n\t\tarr.byteOffset = 0;\n\t\tarr.buffer = new js_html_compat_ArrayBuffer(arr);\n\t} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {\n\t\tvar buffer = arg1;\n\t\tif(offset == null) {\n\t\t\toffset = 0;\n\t\t}\n\t\tif(length == null) {\n\t\t\tlength = buffer.byteLength - offset;\n\t\t}\n\t\tif(offset == 0) {\n\t\t\tarr = buffer.a;\n\t\t} else {\n\t\t\tarr = buffer.a.slice(offset,offset + length);\n\t\t}\n\t\tarr.byteLength = arr.length;\n\t\tarr.byteOffset = offset;\n\t\tarr.buffer = buffer;\n\t} else if((arg1 instanceof Array) && arg1.__enum__ == null) {\n\t\tarr = arg1.slice();\n\t\tarr.byteLength = arr.length;\n\t\tarr.byteOffset = 0;\n\t\tarr.buffer = new js_html_compat_ArrayBuffer(arr);\n\t} else {\n\t\tthrow new js__$Boot_HaxeError(\"TODO \" + Std.string(arg1));\n\t}\n\tarr.subarray = js_html_compat_Uint8Array._subarray;\n\tarr.set = js_html_compat_Uint8Array._set;\n\treturn arr;\n};\njs_html_compat_Uint8Array._set = function(arg,offset) {\n\tif(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {\n\t\tvar a = arg;\n\t\tif(arg.byteLength + offset > this.byteLength) {\n\t\t\tthrow new js__$Boot_HaxeError(\"set() outside of range\");\n\t\t}\n\t\tvar _g1 = 0;\n\t\tvar _g = arg.byteLength;\n\t\twhile(_g1 < _g) {\n\t\t\tvar i = _g1++;\n\t\t\tthis[i + offset] = a[i];\n\t\t}\n\t} else if((arg instanceof Array) && arg.__enum__ == null) {\n\t\tvar a1 = arg;\n\t\tif(a1.length + offset > this.byteLength) {\n\t\t\tthrow new js__$Boot_HaxeError(\"set() outside of range\");\n\t\t}\n\t\tvar _g11 = 0;\n\t\tvar _g2 = a1.length;\n\t\twhile(_g11 < _g2) {\n\t\t\tvar i1 = _g11++;\n\t\t\tthis[i1 + offset] = a1[i1];\n\t\t}\n\t} else {\n\t\tthrow new js__$Boot_HaxeError(\"TODO\");\n\t}\n};\njs_html_compat_Uint8Array._subarray = function(start,end) {\n\tvar a = js_html_compat_Uint8Array._new(this.slice(start,end));\n\ta.byteOffset = start;\n\treturn a;\n};\nvar wings_core_ISimpleDrawingContext = $hx_exports[\"wings\"][\"core\"][\"ISimpleDrawingContext\"] = function() { };\nwings_core_ISimpleDrawingContext.__name__ = true;\nwings_core_ISimpleDrawingContext.prototype = {\n\t__class__: wings_core_ISimpleDrawingContext\n};\nvar wings_jsCanvas__$AlphaColor_AlphaColorJS_$Impl_$ = {};\nwings_jsCanvas__$AlphaColor_AlphaColorJS_$Impl_$.__name__ = true;\nwings_jsCanvas__$AlphaColor_AlphaColorJS_$Impl_$.toString = function(this1) {\n\treturn \"#\" + StringTools.hex(this1,8);\n};\nvar wings_jsCanvas_BasicCanvas = $hx_exports[\"wings\"][\"jsCanvas\"][\"BasicCanvas\"] = function() {\n\tthis.canvas = window.document.createElement(\"canvas\");\n\tthis.dom = this.canvas;\n\tthis.body = window.document.body;\n\tthis.surface = this.canvas.getContext(\"2d\",null);\n\tthis.style = this.dom.style;\n\tthis.header = new wings_jsCanvas_CanvasHeader();\n\tthis.canvas.width = this.header.width;\n\tthis.canvas.height = this.header.height;\n\tthis.style.paddingLeft = \"0px\";\n\tthis.style.paddingTop = \"0px\";\n\tthis.style.left = Std.string(0 + \"px\");\n\tthis.style.top = Std.string(0 + \"px\");\n\tthis.style.position = \"absolute\";\n\tthis.style.backgroundColor = this.header.bgColor;\n\tthis.surface.fillStyle = this.header.bgColor;\n\tthis.image = this.dom;\n\tvar s = window.document.createElement(\"style\");\n\ts.innerHTML = \"@keyframes spin { from { transform:rotate( 0deg ); } to { transform:rotate( 360deg ); } }\";\n\twindow.document.getElementsByTagName(\"head\")[0].appendChild(s);\n\ts.animation = \"spin 1s linear infinite\";\n\tthis.loop(this.header.frameRate);\n\tvar body = window.document.body;\n\tbody.appendChild(this.dom);\n};\nwings_jsCanvas_BasicCanvas.__name__ = true;\nwings_jsCanvas_BasicCanvas.prototype = {\n\tloop: function(tim) {\n\t\twindow.requestAnimationFrame($bind(this,this.loop));\n\t\tif(this.onEnterFrame != null) {\n\t\t\tthis.onEnterFrame();\n\t\t}\n\t\treturn true;\n\t}\n\t,clear: function() {\n\t\tthis.surface.clearRect(0,0,this.header.width,this.header.height);\n\t}\n\t,drawCircle: function(x,y,radius) {\n\t\tthis.surface.beginPath();\n\t\tthis.surface.arc(x,y,radius,0,2 * Math.PI,false);\n\t\tthis.surface.stroke();\n\t\tthis.surface.closePath();\n\t}\n\t,drawRect: function(x,y,width,height) {\n\t\tthis.surface.beginPath();\n\t\tthis.surface.moveTo(x,y);\n\t\tthis.surface.lineTo(x + width,y);\n\t\tthis.surface.lineTo(x + width,y + height);\n\t\tthis.surface.lineTo(x,y + height);\n\t\tthis.surface.stroke();\n\t\tthis.surface.closePath();\n\t}\n\t,drawTri: function(points) {\n\t\tthis.surface.beginPath();\n\t\tvar i = 0;\n\t\twhile(i < points.length) {\n\t\t\tif(i == 0) {\n\t\t\t\tthis.surface.moveTo(points[i],points[i + 1]);\n\t\t\t} else {\n\t\t\t\tthis.surface.lineTo(points[i],points[i + 1]);\n\t\t\t}\n\t\t\ti += 2;\n\t\t}\n\t\tthis.surface.stroke();\n\t\tthis.surface.closePath();\n\t}\n\t,lineStyle: function(wid,col,alpha) {\n\t\tthis.surface.lineWidth = wid;\n\t\tif(alpha != null && alpha != 1.0) {\n\t\t\tvar r = col >> 16 & 255;\n\t\t\tvar g = col >> 8 & 255;\n\t\t\tvar b = col & 255;\n\t\t\tthis.surface.strokeStyle = \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + alpha + \")\";\n\t\t} else {\n\t\t\tvar tmp = StringTools.hex(col,6);\n\t\t\tthis.surface.strokeStyle = \"#\" + tmp;\n\t\t}\n\t}\n\t,moveTo: function(x,y) {\n\t\tthis.surface.beginPath();\n\t\tthis.surface.moveTo(x,y);\n\t}\n\t,lineTo: function(x,y) {\n\t\tthis.surface.lineTo(x,y);\n\t\tthis.surface.closePath();\n\t\tthis.surface.stroke();\n\t}\n\t,quadTo: function(cx,cy,ax,ay) {\n\t\tthis.surface.quadraticCurveTo(cx,cy,ax,ay);\n\t\tthis.surface.stroke();\n\t}\n\t,beginFill: function(col,alpha) {\n\t\tif(alpha != null && alpha != 1.0) {\n\t\t\tvar r = col >> 16 & 255;\n\t\t\tvar g = col >> 8 & 255;\n\t\t\tvar b = col & 255;\n\t\t\tthis.surface.fillStyle = \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + alpha + \")\";\n\t\t} else {\n\t\t\tvar tmp = StringTools.hex(col,6);\n\t\t\tthis.surface.fillStyle = \"#\" + tmp;\n\t\t}\n\t\tthis.surface.beginPath();\n\t}\n\t,endFill: function() {\n\t\tthis.surface.stroke();\n\t\tthis.surface.closePath();\n\t\tthis.surface.fill();\n\t}\n\t,__class__: wings_jsCanvas_BasicCanvas\n};\nvar wings_jsCanvas_CanvasHeader = function() {\n\tvar canvasHeader = null.split(\":\");\n\tthis.width = Std.parseInt(canvasHeader[0]);\n\tthis.height = Std.parseInt(canvasHeader[1]);\n\tthis.frameRate = Std.parseInt(canvasHeader[2]);\n\tthis.bgColor = \"#\" + canvasHeader[3];\n};\nwings_jsCanvas_CanvasHeader.__name__ = true;\nwings_jsCanvas_CanvasHeader.prototype = {\n\tparseInt: function(e) {\n\t\treturn Std.parseInt(e);\n\t}\n\t,toHashColor: function(e) {\n\t\treturn \"#\" + e;\n\t}\n\t,__class__: wings_jsCanvas_CanvasHeader\n};\nvar wings_jsCanvas_CanvasPixelMatrix = $hx_exports[\"wings\"][\"jsCanvas\"][\"CanvasPixelMatrix\"] = function(data_,w_,h_) {\n\tthis.data = data_;\n\tthis.width = w_;\n\tthis.height = h_;\n\tthis.lookup = [];\n\tvar count = 0;\n\tvar _g1 = 0;\n\tvar _g = this.height;\n\twhile(_g1 < _g) {\n\t\tvar i = _g1++;\n\t\tthis.lookup[i] = [];\n\t\tvar _g3 = 0;\n\t\tvar _g2 = this.width;\n\t\twhile(_g3 < _g2) {\n\t\t\tvar j = _g3++;\n\t\t\tthis.lookup[i][j] = count * 4 | 0;\n\t\t\t++count;\n\t\t}\n\t}\n};\nwings_jsCanvas_CanvasPixelMatrix.__name__ = true;\nwings_jsCanvas_CanvasPixelMatrix.createCanvasPixelMatrixFromContext = function(context,w_,h_) {\n\tvar imageData = context.getImageData(0,0,w_,h_);\n\tvar dataIn = imageData.data;\n\treturn new wings_jsCanvas_CanvasPixelMatrix(dataIn,w_,h_);\n};\nwings_jsCanvas_CanvasPixelMatrix.prototype = {\n\tgetPixel32: function(w_,h_) {\n\t\tvar offset = this.lookup[h_][w_];\n\t\treturn this.data[offset + 3] << 24 | this.data[offset] << 16 | this.data[offset + 1] << 8 | this.data[offset + 2];\n\t}\n\t,setPixel32: function(w_,h_,value) {\n\t\tvar offset = this.lookup[h_][w_];\n\t\tthis.data[offset + 3] = value >> 24 & 255;\n\t\tthis.data[offset] = value >> 16 & 255;\n\t\tthis.data[offset + 1] = value >> 8 & 255;\n\t\tthis.data[offset + 2] = value & 255;\n\t}\n\t,setPixel: function(w_,h_,value) {\n\t\tvar offset = this.lookup[h_][w_];\n\t\tthis.data[offset] = value >> 16 & 255;\n\t\tthis.data[offset + 1] = value >> 8 & 255;\n\t\tthis.data[offset + 2] = value & 255;\n\t}\n\t,getPixel: function(w_,h_) {\n\t\tvar offset = this.lookup[h_][w_];\n\t\treturn this.data[offset] << 16 | this.data[offset + 1] << 8 | this.data[offset + 2];\n\t}\n\t,__class__: wings_jsCanvas_CanvasPixelMatrix\n};\nvar wings_jsCanvas__$ColorJS_ColorJS_$Impl_$ = {};\nwings_jsCanvas__$ColorJS_ColorJS_$Impl_$.__name__ = true;\nwings_jsCanvas__$ColorJS_ColorJS_$Impl_$.toString = function(this1) {\n\treturn \"#\" + StringTools.hex(this1,6);\n};\nvar wings_jsCanvas_ImageLoader = $hx_exports[\"wings\"][\"jsCanvas\"][\"ImageLoader\"] = function(imageNames,loaded_) {\n\tthis.images = new haxe_ds_StringMap();\n\tthis.loaded = loaded_;\n\tthis.count = imageNames.length;\n\tvar _g = 0;\n\twhile(_g < imageNames.length) {\n\t\tvar name = imageNames[_g];\n\t\t++_g;\n\t\tthis.load(name);\n\t}\n};\nwings_jsCanvas_ImageLoader.__name__ = true;\nwings_jsCanvas_ImageLoader.prototype = {\n\tload: function(img) {\n\t\tvar image = window.document.createElement(\"img\");\n\t\tvar imgStyle = image.style;\n\t\timgStyle.left = \"0px\";\n\t\timgStyle.top = \"0px\";\n\t\timgStyle.paddingLeft = \"0px\";\n\t\timgStyle.paddingTop = \"0px\";\n\t\tvar f = $bind(this,this.store);\n\t\tvar a1 = image;\n\t\tvar a2 = img.split(\"/\").pop();\n\t\timage.onload = function(e) {\n\t\t\tf(a1,a2,e);\n\t\t};\n\t\timgStyle.position = \"absolute\";\n\t\timage.src = img;\n\t}\n\t,store: function(image,name,e) {\n\t\tthis.count--;\n\t\tvar _this = this.images;\n\t\tif(__map_reserved[name] != null) {\n\t\t\t_this.setReserved(name,image);\n\t\t} else {\n\t\t\t_this.h[name] = image;\n\t\t}\n\t\tif(this.count == 0) {\n\t\t\tthis.loaded();\n\t\t}\n\t}\n\t,__class__: wings_jsCanvas_ImageLoader\n};\nvar wings_jsCanvas_SimpleDrawingContext = $hx_exports[\"wings\"][\"jsCanvas\"][\"SimpleDrawingContext\"] = function(graphics) {\n\tthis.graphics = graphics;\n};\nwings_jsCanvas_SimpleDrawingContext.__name__ = true;\nwings_jsCanvas_SimpleDrawingContext.__interfaces__ = [wings_core_ISimpleDrawingContext];\nwings_jsCanvas_SimpleDrawingContext.prototype = {\n\tclear: function() {\n\t\tthis.graphics.clear();\n\t}\n\t,lineStyle: function(thickness,color,alpha) {\n\t\tif(alpha == null) {\n\t\t\talpha = 1;\n\t\t}\n\t\tthis.graphics.lineStyle(thickness,color,alpha);\n\t}\n\t,beginFill: function(color,alpha) {\n\t\tif(alpha == null) {\n\t\t\talpha = 1;\n\t\t}\n\t\tthis.graphics.beginFill(color,alpha);\n\t}\n\t,endFill: function() {\n\t\tthis.graphics.endFill();\n\t}\n\t,moveTo: function(x,y) {\n\t\tthis.graphics.moveTo(x,y);\n\t}\n\t,lineTo: function(x,y) {\n\t\tthis.graphics.lineTo(x,y);\n\t}\n\t,quadTo: function(cx,cy,ax,ay) {\n\t\tthis.graphics.quadTo(cx,cy,ax,ay);\n\t}\n\t,drawCircle: function(cx,cy,radius) {\n\t\tthis.graphics.drawCircle(cx,cy,radius);\n\t}\n\t,drawRect: function(x,y,width,height) {\n\t\tthis.graphics.drawRect(x,y,width,height);\n\t}\n\t,drawEquilaterialTri: function(x,y,radius,direction) {\n\t\tvar third = Math.PI * 2 / 3;\n\t\tvar points = [];\n\t\tvar x1;\n\t\tvar y1;\n\t\tvar _g = 0;\n\t\twhile(_g < 3) {\n\t\t\tvar i = _g++;\n\t\t\tx1 = x + radius * Math.cos(direction + i * third);\n\t\t\ty1 = y + radius * Math.sin(direction + i * third);\n\t\t\tpoints.push(x1);\n\t\t\tpoints.push(y1);\n\t\t}\n\t\tthis.graphics.drawTri(points);\n\t}\n\t,drawTri: function(points) {\n\t\tthis.graphics.drawTri(points);\n\t}\n\t,__class__: wings_jsCanvas_SimpleDrawingContext\n};\nvar $_, $fid = 0;\nfunction $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }\nString.prototype.__class__ = String;\nString.__name__ = true;\nArray.__name__ = true;\nvar Int = { __name__ : [\"Int\"]};\nvar Dynamic = { __name__ : [\"Dynamic\"]};\nvar Float = Number;\nFloat.__name__ = [\"Float\"];\nvar Bool = Boolean;\nBool.__ename__ = [\"Bool\"];\nvar Class = { __name__ : [\"Class\"]};\nvar Enum = { };\nvar __map_reserved = {}\nhxPixels_PixelFormat.ARGB = new hxPixels_PixelFormat(0,1,2,3,\"ARGB\");\nhxPixels_PixelFormat.RGBA = new hxPixels_PixelFormat(3,0,1,2,\"RGBA\");\nhxPixels_PixelFormat.BGRA = new hxPixels_PixelFormat(3,2,1,0,\"BGRA\");\nvar ArrayBuffer = $global.ArrayBuffer || js_html_compat_ArrayBuffer;\nif(ArrayBuffer.prototype.slice == null) {\n\tArrayBuffer.prototype.slice = js_html_compat_ArrayBuffer.sliceImpl;\n}\nvar Uint8Array = $global.Uint8Array || js_html_compat_Uint8Array._new;\nhaxe_ds_ObjectMap.count = 0;\nhxDaedalus_ai_EntityAI.NUM_SEGMENTS = 6;\nhxDaedalus_data_Constants.EPSILON = 0.01;\nhxDaedalus_data_Constants.EPSILON_SQUARED = 0.0001;\nhxDaedalus_data_ConstraintSegment.INC = 0;\nhxDaedalus_data_ConstraintShape.INC = 0;\nhxDaedalus_data_Edge.INC = 0;\nhxDaedalus_data_Face.INC = 0;\nhxDaedalus_data_Mesh.INC = 0;\nhxDaedalus_data_Object.INC = 0;\nhxDaedalus_data_Vertex.INC = 0;\nhxDaedalus_data_graph_Graph.INC = 0;\nhxDaedalus_data_graph_GraphEdge.INC = 0;\nhxDaedalus_data_graph_GraphNode.INC = 0;\nhxDaedalus_data_math_Geom2D.__samples = [];\nhxDaedalus_data_math_Geom2D.__circumcenter = new hxDaedalus_data_math_Point2D();\nhxDaedalus_data_math_Potrace.MAX_INT = 2147483647;\nhxDaedalus_data_math_Potrace.maxDistance = 1;\nhxPixels__$Pixels_Pixels_$Impl_$.CHANNEL_MASK = 3;\nhxPixels__$Pixels_PixelsData.BYTES_PER_PIXEL = 4;\njs_Boot.__toStr = ({ }).toString;\njs_html_compat_Uint8Array.BYTES_PER_ELEMENT = 1;\nwings_jsCanvas_CanvasHeader.__meta__ = { fields : { parseInt : { 'static' : null}, toHashColor : { 'static' : null}}};\n})(typeof exports != \"undefined\" ? exports : typeof window != \"undefined\" ? window : typeof self != \"undefined\" ? self : this, typeof window != \"undefined\" ? window : typeof global != \"undefined\" ? global : typeof self != \"undefined\" ? self : this);\n","var hxDaedalus = require(\"hxdaedalus-js\").hxDaedalus;\n\nvar RectMesh = hxDaedalus.factories.RectMesh;\nvar EntityAI = hxDaedalus.ai.EntityAI;\nvar PathFinder = hxDaedalus.ai.PathFinder;\nvar DaedalusObject = hxDaedalus.data.Object;\n\nfunction Walkable(width, height) {\n  var mesh = RectMesh.buildRectangle(width, height);\n  var entity = new EntityAI();\n  var pathFinder = new PathFinder();\n  pathFinder.entity = entity;\n  pathFinder.set_mesh(mesh);\n\n  this.mesh = mesh;\n  this.entity = entity;\n  this.pathFinder = pathFinder;\n  this.path = [];\n}\n\nWalkable.prototype.addRect = function (w, h, x, y) {\n  var obj = new DaedalusObject();\n  obj.set_coordinates([0, 0, 0, h, 0, h, w, h, w, h, w, 0, w, 0, 0, 0]);\n  obj.set_x(x);\n  obj.set_y(y);\n  this.mesh.insertObject(obj);\n\n  return obj;\n};\n\nWalkable.prototype.addPolygon = function (vertices, x, y) {\n  if (vertices.length < 6) {\n    console.log(\"Polygons must contain at least 3 points!\");\n    return;\n  }\n  var obj = new DaedalusObject();\n  var coords = [];\n\n  var prevX = vertices[vertices.length - 2],\n    prevY = vertices[vertices.length - 1];\n\n  for (var i = 0; i < vertices.length; i += 2) {\n    var currX = vertices[i],\n      currY = vertices[i + 1];\n    coords.push(prevX, prevY, currX, currY);\n    prevX = currX;\n    prevY = currY;\n  }\n\n  obj.set_coordinates(coords);\n  obj.set_x(x || 0);\n  obj.set_y(y || 0);\n  this.mesh.insertObject(obj);\n\n  return obj;\n};\n\nWalkable.prototype.addPolyline = function (vertices, x, y) {\n  if (vertices.length < 4) {\n    console.log(\"Polylines must contain at least 2 points!\");\n    return;\n  }\n  var obj = new DaedalusObject();\n  var coords = [];\n\n  var prevX = 0,\n    prevY = 0;\n\n  for (var i = 0; i < vertices.length; i += 2) {\n    var currX = vertices[i],\n      currY = vertices[i + 1];\n    if (i > 0) {\n      coords.push(prevX, prevY, currX, currY);\n    }\n    prevX = currX;\n    prevY = currY;\n  }\n\n  obj.set_coordinates(coords);\n  obj.set_x(x || 0);\n  obj.set_y(y || 0);\n  this.mesh.insertObject(obj);\n\n  return obj;\n};\n\nWalkable.prototype.deleteObstacle = function (obj) {\n  this.mesh.deleteObject(obj);\n};\n\nWalkable.prototype.findPath = function (fromX, fromY, toX, toY, radius, path) {\n  if (path === undefined) path = this.path;\n  this.entity.set_radius(radius);\n  this.entity.x = fromX;\n  this.entity.y = fromY;\n\n  this.pathFinder.findPath(toX, toY, path);\n\n  return path;\n};\n\nmodule.exports = Walkable;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function assertIsPositiveNumber(\n  value: number,\n  name: string\n): void {\n  if (isNaN(value) || value <= 0)\n    throw new Error(\n      `\"${name}\" must be a positive integer, but was ${value} (${typeof value})`\n    );\n}\n","export const DELTA = 1e-10; // floating-point margin of error\n","export default function nearest(x: number, a: number, b: number): number {\n  return Math.abs(a - x) < Math.abs(b - x) ? a : b;\n}\n","import { Collision, ICoords, IRect } from '.';\nimport { DELTA } from './constants';\nimport nearest from './helpers/generic/nearest';\n\nexport function rect_getNearestCorner(\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  px: number,\n  py: number\n): ICoords {\n  return { x: nearest(px, x, x + w), y: nearest(py, y, y + h) };\n}\n\n// This is a generalized implementation of the liang-barsky algorithm, which also returns\n// the normals of the sides where the segment intersects.\n// Returns null if the segment never touches the rect\n// Notice that normals are only guaranteed to be accurate when initially ti1, ti2 == -math.huge, math.huge\nexport function rect_getSegmentIntersectionIndices(\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  ti1: number,\n  ti2: number\n): [number?, number?, number?, number?, number?, number?] {\n  let _ti1 = isNaN(ti1) ? 0 : ti1;\n  let _ti2 = isNaN(ti2) ? 1 : ti2;\n\n  let dx: number = x2 - x1;\n  let dy: number = y2 - y1;\n  let nx: number;\n  let ny: number;\n  let nx1: number = 0;\n  let ny1: number = 0;\n  let nx2: number = 0;\n  let ny2: number = 0;\n  let p, q, r;\n\n  for (const side of [1, 2, 3, 4]) {\n    // left\n    if (side === 1) {\n      nx = -1;\n      ny = 0;\n      p = -dx;\n      q = x1 - x;\n    }\n    // right\n    else if (side === 2) {\n      nx = 1;\n      ny = 0;\n      p = dx;\n      q = x + w - x1;\n    }\n    // top\n    else if (side === 3) {\n      nx = 0;\n      ny = -1;\n      p = -dy;\n      q = y1 - y;\n    }\n    // bottom\n    else {\n      nx = 0;\n      ny = 1;\n      p = dy;\n      q = y + h - y1;\n    }\n\n    if (p === 0) {\n      if (q <= 0)\n        return [\n          undefined,\n          undefined,\n          undefined,\n          undefined,\n          undefined,\n          undefined,\n        ];\n    } else {\n      r = q / p;\n\n      if (p < 0) {\n        if (r > _ti2)\n          return [\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n          ];\n        else if (r > _ti1) {\n          _ti1 = r;\n          nx1 = nx;\n          ny1 = ny;\n        }\n      } // p > 0\n      else {\n        if (r < _ti1)\n          return [\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n          ];\n        else if (r < _ti2) {\n          _ti2 = r;\n          nx2 = nx;\n          ny2 = ny;\n        }\n      }\n    }\n  }\n\n  return [_ti1, _ti2, nx1, ny1, nx2, ny2];\n}\n\n// //Calculates the Minkowsky difference between 2 rects, which is another rect\nexport function rect_getDiff(\n  x1: number,\n  y1: number,\n  w1: number,\n  h1: number,\n  x2: number,\n  y2: number,\n  w2: number,\n  h2: number\n): IRect {\n  return {\n    x: x2 - x1 - w1,\n    y: y2 - y1 - h1,\n    w: w1 + w2,\n    h: h1 + h2,\n  };\n}\n\nexport function rect_containsPoint(\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  px: number,\n  py: number\n): boolean {\n  return (\n    px - x > DELTA && py - y > DELTA && x + w - px > DELTA && y + h - py > DELTA\n  );\n}\n\nexport function rect_isIntersecting(\n  x1: number,\n  y1: number,\n  w1: number,\n  h1: number,\n  x2: number,\n  y2: number,\n  w2: number,\n  h2: number\n): boolean {\n  return x1 < x2 + w2 && x2 < x1 + w1 && y1 < y2 + h2 && y2 < y1 + h1;\n}\n\nexport function rect_getSquareDistance(\n  x1: number,\n  y1: number,\n  w1: number,\n  h1: number,\n  x2: number,\n  y2: number,\n  w2: number,\n  h2: number\n): number {\n  const dx = x1 - x2 + (w1 - w2) / 2;\n  const dy = y1 - y2 + (h1 - h2) / 2;\n  return dx * dx + dy * dy;\n}\n\nexport function rect_detectCollision(\n  x1: number,\n  y1: number,\n  w1: number,\n  h1: number,\n  x2: number,\n  y2: number,\n  w2: number,\n  h2: number,\n  goalX?: number,\n  goalY?: number\n): undefined | Partial<Collision> {\n  const _goalX: number = isNaN(goalX!) ? x1 : goalX!;\n  const _goalY: number = isNaN(goalY!) ? y1 : goalY!;\n\n  let dx: number = _goalX - x1;\n  let dy: number = _goalY - y1;\n\n  const { x, y, w, h } = rect_getDiff(x1, y1, w1, h1, x2, y2, w2, h2);\n\n  let overlaps: boolean;\n\n  let nx, ny;\n  let ti: number;\n\n  // If the item was intersecting other\n  if (rect_containsPoint(x, y, w, h, 0, 0)) {\n    let { x: px, y: py } = rect_getNearestCorner(x, y, w, h, 0, 0);\n\n    let wi: number = Math.min(w1, Math.abs(px)); // area of intersection\n    let hi: number = Math.min(h1, Math.abs(py)); // area of intersection\n\n    ti = -wi * hi; // `ti` is the negative area of intersection\n\n    overlaps = true;\n  } else {\n    let [ti1, ti2, nx1, ny1] = rect_getSegmentIntersectionIndices(\n      x,\n      y,\n      w,\n      h,\n      0,\n      0,\n      dx,\n      dy,\n      -Number.MAX_SAFE_INTEGER,\n      Number.MAX_SAFE_INTEGER\n    );\n\n    // To make the compiler stop complaining\n    ti1 = ti1!;\n\n    // item tunnels into other\n    if (\n      !isNaN(ti1) &&\n      ti1 < 1 &&\n      Math.abs(ti1 - (ti2 || 0)) >= DELTA && // special case for rect going through another rect's corner\n      (0 < ti1 + DELTA || (0 === ti1 && (ti2 || 0) > 0))\n    ) {\n      ti = ti1;\n      nx = nx1;\n      ny = ny1;\n\n      overlaps = false;\n    }\n  }\n\n  if (isNaN(ti!)) return;\n\n  let tx, ty;\n\n  if (overlaps!)\n    if (dx === 0 && dy === 0) {\n      //intersecting and not moving - use minimum displacement vector\n      let { x: px, y: py } = rect_getNearestCorner(x, y, w, h, 0, 0);\n\n      if (Math.abs(px) < Math.abs(py)) py = 0;\n      else px = 0;\n\n      nx = Math.sign(px);\n      ny = Math.sign(py);\n\n      tx = x1 + px;\n      ty = y1 + py;\n    } else {\n      //intersecting and moving - move in the opposite direction\n      // @ts-ignore\n      let [ti1, _, _nx, _ny] = rect_getSegmentIntersectionIndices(\n        x,\n        y,\n        w,\n        h,\n        0,\n        0,\n        dx,\n        dy,\n        -Number.MAX_SAFE_INTEGER,\n        1\n      );\n      nx = _nx;\n      ny = _ny;\n\n      if (!ti1) return;\n\n      tx = x1 + dx * ti1;\n      ty = y1 + dy * ti1;\n    }\n  //tunnel\n  else {\n    // @ts-ignore\n    tx = x1 + dx * ti;\n    // @ts-ignore\n    ty = y1 + dy * ti;\n  }\n\n  return {\n    overlaps: overlaps!,\n    // @ts-ignore\n    ti,\n    move: { x: dx, y: dy },\n    normal: { x: nx as number, y: ny as number },\n    touch: { x: tx, y: ty },\n    itemRect: { x: x1, y: y1, w: w1, h: h1 },\n    otherRect: { x: x2, y: y2, w: w2, h: h2 },\n  };\n}\n","export function grid_toWorld(\n  cellSize: number,\n  cx: number,\n  cy: number\n): [number, number] {\n  return [(cx - 1) * cellSize, (cy - 1) * cellSize];\n}\n\nexport function grid_toCell(\n  cellSize: number,\n  x: number,\n  y: number\n): [number, number] {\n  return [Math.floor(x / cellSize) + 1, Math.floor(y / cellSize) + 1];\n}\n\n//grid_traverse * functions are based on \"A Fast Voxel Traversal Algorithm for Ray Tracing\",\n//by John Amanides and Andrew Woo - http://www.cse.yorku.ca/~amana/research/grid.pdf\n//It has been modified to include both cells when the ray \"touches a grid corner\",\n//and with a different exit condition\n\nexport function grid_traverse_initStep(\n  cellSize: number,\n  ct: number,\n  t1: number,\n  t2: number\n): [number, number, number] {\n  const v: number = t2 - t1;\n\n  if (v > 0) return [1, cellSize / v, ((ct + v) * cellSize - t1) / v];\n  else if (v < 0)\n    return [-1, -cellSize / v, ((ct + v - 1) * cellSize - t1) / v];\n  else return [0, Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER];\n}\n\nexport function grid_traverse(\n  cellSize: number,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  traverseFunction: (cx: number, cy: number) => void\n): void {\n  const [cx1, cy1] = grid_toCell(cellSize, x1, y1);\n  const [cx2, cy2] = grid_toCell(cellSize, x2, y2);\n  let [stepX, dx, tx] = grid_traverse_initStep(cellSize, cx1, x1, x2);\n  let [stepY, dy, ty] = grid_traverse_initStep(cellSize, cy1, y1, y2);\n  let [cx, cy] = [cx1, cy1];\n\n  traverseFunction(cx, cy);\n\n  // The default implementation had an infinite loop problem when\n  // approaching the last cell in some occassions. We finish iterating\n  // when we are *next* to the last cell.\n  do {\n    if (tx < ty) {\n      [tx, cx] = [tx + dx, cx + stepX];\n\n      traverseFunction(cx, cy);\n    } else {\n      // Addition: include both cells when going through corners\n      if (tx == ty) traverseFunction(cx + stepX, cy);\n\n      ty = ty + dy;\n      cy = cy + stepY;\n\n      traverseFunction(cx, cy);\n    }\n  } while (Math.abs(cx - cx2) + Math.abs(cy - cy2) > 1);\n\n  //If we have not arrived to the last cell, use it\n  if (cx != cx2 || cy != cy2) traverseFunction(cx2, cy2);\n}\n\nexport function grid_toCellRect(\n  cellSize: number,\n  x: number,\n  y: number,\n  w: number,\n  h: number\n): [number, number, number, number] {\n  let [cx, cy] = grid_toCell(cellSize, x, y);\n\n  const cr: number = Math.ceil((x + w) / cellSize);\n  const cb: number = Math.ceil((y + h) / cellSize);\n\n  return [cx, cy, cr - cx + 1, cb - cy + 1];\n}\n","export default function assertType(desiredType: string, value: any, name: string): void {\n  if (typeof value !== desiredType)\n    throw new Error(\n      `\"${name}\" must be a ${desiredType}, but was a ${value} (${typeof value})`\n    );\n}\n","import assertIsPositiveNumber from './assertIsPositiveNumber';\nimport assertType from './assertType';\n\nexport default function assertIsRect(\n  x: number,\n  y: number,\n  w: number,\n  h: number\n): void {\n  assertType('number', x, 'x');\n  assertType('number', y, 'y');\n  assertIsPositiveNumber(w, 'w');\n  assertIsPositiveNumber(h, 'h');\n}\n","import { Collision, ICoords, World } from '../../index';\n\nexport type Response = (\n  world: World,\n  col: any,\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  goalX: number,\n  goalY: number,\n  filter: any\n) => { x: number; y: number; collisions: Collision[] };\n\nexport function touch(\n  _world: World,\n  column: {\n    touch: ICoords;\n    move: ICoords;\n    normal: ICoords;\n    slide: ICoords;\n    item: any;\n  },\n  _x: number,\n  _y: number,\n  _w: number,\n  _h: number,\n  _goalX: number,\n  _goalY: number,\n  _filter: any\n): { x: number; y: number; collisions: Collision[] } {\n  return { x: column.touch.x, y: column.touch.y, collisions: [] };\n}\n\nexport function cross(\n  world: any,\n  column: {\n    touch: ICoords;\n    move: ICoords;\n    normal: ICoords;\n    slide: ICoords;\n    item: any;\n  },\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  goalX: number,\n  goalY: number,\n  filter: any\n): { x: number; y: number; collisions: Collision[] } {\n  const collisions = world.project(\n    column.item,\n    x,\n    y,\n    w,\n    h,\n    goalX,\n    goalY,\n    filter\n  );\n\n  return { x: goalX, y: goalY, collisions };\n}\n\nexport function slide(\n  world: World,\n  column: {\n    touch: ICoords;\n    move: ICoords;\n    normal: ICoords;\n    slide: ICoords;\n    item: any;\n  },\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  goalX: number,\n  goalY: number,\n  filter?: any\n): { x: number; y: number; collisions: Collision[] } {\n  let _goalX: number = isNaN(goalX) ? x : goalX;\n  let _goalY: number = isNaN(goalY) ? y : goalY;\n\n  const tch: ICoords = column.touch;\n  const move: ICoords = column.move;\n\n  if (move.x !== 0 || move.y !== 0)\n    if (column.normal.x !== 0) _goalX = tch.x;\n    else _goalY = tch.y;\n\n  column.slide = { x: _goalX, y: _goalY };\n\n  const _x: number = tch.x;\n  const _y: number = tch.y;\n\n  const collisions = world.project(\n    column.item,\n    _x,\n    _y,\n    w,\n    h,\n    _goalX,\n    _goalY,\n    filter\n  );\n\n  return { x: _goalX, y: _goalY, collisions };\n}\n\nexport function bounce(\n  world: World,\n  collision: any,\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  goalX?: number,\n  goalY?: number,\n  filter?: any\n): { x: number; y: number; collisions: Collision[] } {\n  const _goalX: number = isNaN(goalX as number) ? x : goalX!;\n  const _goalY: number = isNaN(goalY as number) ? y : goalY!;\n\n  const { touch, move } = collision;\n\n  let bx = touch.x;\n  let by = touch.y;\n\n  if (move.x !== 0 || move.y !== 0) {\n    let bnx = _goalX - touch.x;\n    let bny = _goalY - touch.y;\n\n    if (collision.normal.x === 0) bny = -bny;\n    else bnx = -bnx;\n\n    bx = touch.x + bnx;\n    by = touch.y + bny;\n  }\n\n  collision.bounce = { x: bx, y: by };\n\n  const collisions = world.project(\n    collision.item,\n    touch.x,\n    touch.y,\n    w,\n    h,\n    bx,\n    by,\n    filter\n  );\n\n  return { x: bx, y: by, collisions };\n}\n","import { IRect } from '../..';\nimport { rect_getSquareDistance } from '../../rect';\n\ninterface Item {\n  // x: number;\n  // y: number;\n  // w: number;\n  // h: number;\n  ti: number;\n  itemRect: IRect;\n  otherRect: IRect;\n}\n\nexport default function sortByTiAndDistance(a: Item, b: Item): number {\n  if (a.ti === b.ti) {\n    const ir: IRect = a.itemRect;\n    const ar: IRect = a.otherRect;\n    const br: IRect = b.otherRect;\n\n    const ad = rect_getSquareDistance(\n      ir.x,\n      ir.y,\n      ir.w,\n      ir.h,\n      ar.x,\n      ar.y,\n      ar.w,\n      ar.h\n    );\n    const bd = rect_getSquareDistance(\n      ir.x,\n      ir.y,\n      ir.w,\n      ir.h,\n      br.x,\n      br.y,\n      br.w,\n      br.h\n    );\n\n    return ad - bd;\n  }\n\n  return a.ti - b.ti;\n}\n","import assertIsPositiveNumber from './helpers/generic/assertIsPositiveNumber';\nimport {\n  rect_containsPoint,\n  rect_detectCollision,\n  rect_getDiff,\n  rect_getNearestCorner,\n  rect_getSegmentIntersectionIndices,\n  rect_getSquareDistance,\n  rect_isIntersecting,\n} from './rect';\nimport {\n  grid_toCell,\n  grid_toCellRect,\n  grid_toWorld,\n  grid_traverse,\n} from './grid';\nimport assertIsRect from './helpers/generic/assertIsRect';\nimport {\n  bounce,\n  cross,\n  Response,\n  slide,\n  touch,\n} from './helpers/world/responses';\nimport sortByTiAndDistance from './helpers/world/sortByTiAndDistance';\n\nfunction defaultFilter(): string {\n  return 'slide';\n}\n\ninterface IItemInfo {\n  item: string;\n  ti1: number;\n  ti2: number;\n  weight: number;\n}\n\nexport interface IRect {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n}\n\nexport interface ICoords {\n  x: number;\n  y: number;\n}\n\nexport interface Collision {\n  other: any | null | undefined;\n  item: string | null | undefined;\n  type?: 'touch' | 'cross' | 'slide' | 'bounce' | string;\n  overlaps: boolean;\n  ti: number;\n  move: ICoords;\n  normal: ICoords;\n  touch: ICoords;\n  itemRect: IRect;\n  otherRect: IRect;\n  slide?: ICoords;\n  bounce?: ICoords;\n}\n\nexport type Cell = {\n  ID: string;\n  x: number;\n  y: number;\n  items: { [itemID: string]: boolean };\n};\n\nfunction sortByWeight(a: IItemInfo, b: IItemInfo): number {\n  return a.weight - b.weight;\n}\n\nfunction getCellsTouchedBySegment(\n  self: World,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number\n): Cell[] {\n  const cells: Cell[] = [];\n  const visited: { [itemID: string]: boolean } = {};\n\n  grid_traverse(self.cellSize, x1, y1, x2, y2, function(\n    cx: number,\n    cy: number\n  ) {\n    let row: Cell[] = self.rows[cy];\n\n    if (!row) return;\n\n    let cell = row[cx];\n\n    if (!cell || visited[cell.ID]) return;\n\n    visited[cell.ID] = true;\n\n    cells.push(cell);\n  });\n\n  return cells;\n}\n\nfunction getInfoAboutItemsTouchedBySegment(\n  self: World,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  filter?: (other?: string) => boolean\n): { item: string; ti1: number; ti2: number; weight: number | null }[] {\n  let cells = getCellsTouchedBySegment(self, x1, y1, x2, y2);\n  let rect, l, t, w, h, ti1, ti2;\n\n  let visited: { [itemID: string]: boolean } = {};\n  let itemInfo: IItemInfo[] = [];\n\n  for (const cell of cells) {\n    if (cell?.items)\n      for (const itemID of Object.keys(cell.items)) {\n        if (!visited[itemID]) {\n          visited[itemID] = true;\n\n          if (!filter || filter(itemID)) {\n            rect = self['rects'][itemID];\n            l = rect.x;\n            t = rect.y;\n            w = rect.w;\n            h = rect.h;\n\n            const arr1 = rect_getSegmentIntersectionIndices(\n              l,\n              t,\n              w,\n              h,\n              x1,\n              y1,\n              x2,\n              y2,\n              0,\n              1\n            );\n\n            ti1 = arr1![0];\n            ti2 = arr1![1];\n\n            if (\n              !isNaN(ti1 as number) &&\n              ((0 < ti1! && ti1! < 1) || (0 < ti2! && ti2! < 1))\n            ) {\n              // -- the sorting is according to the t of an infinite line, not the segment\n              const [tii0, tii1] = rect_getSegmentIntersectionIndices(\n                l,\n                t,\n                w,\n                h,\n                x1,\n                y1,\n                x2,\n                y2,\n                -Number.MAX_SAFE_INTEGER,\n                Number.MAX_SAFE_INTEGER\n              );\n\n              itemInfo.push({\n                item: itemID,\n                ti1: ti1!,\n                ti2: ti2!,\n                weight: Math.min(tii0 || 0, tii1 || 0),\n              });\n            }\n          }\n        }\n      }\n  }\n\n  return itemInfo.sort(sortByWeight);\n}\n\nexport class World {\n  responses: { [responseID: string]: Response } = {};\n  cellSize: number = 0;\n  rows: Cell[][];\n  rects: { [itemID: string]: IRect };\n  nonEmptyCells: { [cellID: string]: boolean };\n\n  constructor(input: {\n    cellSize: number;\n    rects: {};\n    rows: [];\n    nonEmptyCells: {};\n    responses: {};\n  }) {\n    this.cellSize = input.cellSize;\n    this.rects = input.rects;\n    this.rows = input.rows;\n    this.nonEmptyCells = input.nonEmptyCells;\n    this.responses = input.responses;\n  }\n\n  addResponse(\n    name: 'bounce' | 'slide' | 'cross' | 'touch',\n    response: Response\n  ): void {\n    this.responses[name] = response;\n  }\n\n  getResponseByName(name: string): any {\n    const response = this.responses[name];\n\n    if (!response)\n      throw new Error(`Unknown collision type: ${name} (${typeof name})`);\n\n    return response;\n  }\n\n  project(\n    itemID: string | null,\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    goalX?: number,\n    goalY?: number,\n    filter?: (...args: any[]) => string\n  ): Collision[] {\n    assertIsRect(x, y, w, h);\n\n    const _goalX = isNaN(goalX as number) ? x : goalX!;\n    const _goalY = isNaN(goalY as number) ? y : goalY!;\n\n    const _filter = filter || defaultFilter;\n\n    let collisions: Collision[] = [];\n\n    let visited: { [itemID: string]: boolean } = {};\n\n    if (itemID) visited[itemID] = true;\n\n    // This could probably be done with less cells using a polygon raster over the cells instead of a\n    // bounding rect of the whole movement.Conditional to building a queryPolygon method\n    let tl: number = Math.min(_goalX, x);\n    let tt: number = Math.min(_goalY, y);\n\n    let tr: number = Math.max(_goalX + w, x + w);\n    let tb: number = Math.max(_goalY + h, y + h);\n\n    let tw: number = tr - tl;\n    let th: number = tb - tt;\n\n    let [cl, ct, cw, ch] = grid_toCellRect(this.cellSize, tl, tt, tw, th);\n\n    let dictItemsInCellRect: {\n      [itemID: string]: boolean;\n    } = this.getDictItemsInCellRect(cl, ct, cw, ch);\n\n    for (const other of Object.keys(dictItemsInCellRect)) {\n      if (!visited[other]) {\n        visited[other] = true;\n\n        const responseName: string = _filter(itemID, other);\n\n        if (\n          responseName &&\n          /* why do I have to do this extra check? */ this.hasItem(other)\n        ) {\n          let otherRect = this.getRect(other);\n\n          let collision: Partial<Collision> | undefined = rect_detectCollision(\n            x,\n            y,\n            w,\n            h,\n            otherRect.x,\n            otherRect.y,\n            otherRect.w,\n            otherRect.h,\n            _goalX,\n            _goalY\n          );\n\n          if (collision) {\n            collision.other = other;\n            collision.item = itemID;\n            collision.type = responseName;\n\n            collisions.push(collision as Collision);\n          }\n        }\n      }\n    }\n\n    return collisions.sort(sortByTiAndDistance);\n  }\n\n  countCells(): number {\n    let count = 0;\n\n    for (const row of this.rows.filter(row => !!row))\n      for (const _col of row) if (!!_col) count++;\n\n    return count;\n  }\n\n  hasItem(item: string): boolean {\n    return !!this.rects[item];\n  }\n\n  getItems(): IRect[] {\n    return Object.keys(this.rects).map(rectID => this.rects[rectID]);\n  }\n\n  countItems(): number {\n    return Object.keys(this.rects).length;\n  }\n\n  private addItemToCell(itemID: string, cx: number, cy: number): void {\n    this.rows[cy] = this.rows[cy] || [];\n\n    const row = this.rows[cy];\n\n    // Initialize a cell if no cell is present at this point\n    if (!row[cx])\n      row[cx] = {\n        ID: `Cell_${Math.ceil(Math.random() * Date.now()).toString(36)}`,\n        x: cx,\n        y: cy,\n        items: {},\n      };\n\n    const cell = row[cx];\n\n    this.nonEmptyCells[cell.ID] = true;\n\n    if (!cell.items[itemID]) cell.items[itemID] = true;\n  }\n\n  getRect(itemID: string): IRect {\n    let rect = this.rects[itemID];\n\n    if (!rect)\n      throw new Error(\n        `Item \"${itemID}\" must be added to the world before getting its rect. Use world:add(item, x,y,w,h) to add it first.`\n      );\n\n    return {\n      x: rect.x,\n      y: rect.y,\n      w: rect.w,\n      h: rect.h,\n    };\n  }\n\n  getDictItemsInCellRect(\n    cl: number,\n    ct: number,\n    cw: number,\n    ch: number\n  ): { [itemID: string]: boolean } {\n    const items_dict: { [itemID: string]: boolean } = {};\n\n    for (let cy = ct; cy <= ct + ch - 1; cy++) {\n      let row = this.rows[cy];\n\n      if (row) {\n        for (let cx = cl; cx <= cl + cw - 1; cx++) {\n          let cell = row[cx];\n\n          if (cell?.items && Object.keys(cell.items)?.length > 0)\n            // no cell.itemCount > 1 because tunneling\n            for (const itemID of Object.keys(cell.items))\n              items_dict[itemID] = true;\n        }\n      }\n    }\n\n    return items_dict;\n  }\n\n  private removeItemFromCell(itemID: string, cx: number, cy: number): boolean {\n    let row = this.rows[cy];\n\n    if (!row?.[cx]?.['items']?.[itemID]) return false;\n\n    let cell = row[cx];\n\n    delete cell.items[itemID];\n\n    if (Object.keys(cell.items)?.length === 0)\n      delete this.nonEmptyCells[cell.ID];\n\n    return true;\n  }\n\n  toWorld(cx: number, cy: number): [number, number] {\n    return grid_toWorld(this.cellSize, cx, cy);\n  }\n\n  toCell(x: number, y: number): [number, number] {\n    return grid_toCell(this.cellSize, x, y);\n  }\n\n  queryRect(\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    filter?: (other?: string) => boolean\n  ): string[] {\n    assertIsRect(x, y, w, h);\n\n    const [cl, ct, cw, ch] = grid_toCellRect(this.cellSize, x, y, w, h);\n    const dictItemsInCellRect = this.getDictItemsInCellRect(cl, ct, cw, ch);\n\n    const items: string[] = [];\n\n    for (const itemID of Object.keys(dictItemsInCellRect))\n      if (\n        (!filter || filter(itemID)) &&\n        rect_isIntersecting(\n          x,\n          y,\n          w,\n          h,\n          this.rects[itemID].x,\n          this.rects[itemID].y,\n          this.rects[itemID].w,\n          this.rects[itemID].h\n        )\n      )\n        items.push(itemID);\n\n    return items;\n  }\n\n  queryPoint(\n    x: number,\n    y: number,\n    filter?: (other?: string) => boolean\n  ): string[] {\n    const [cx, cy] = this.toCell(x, y);\n    const dictItemsInCellRect = this.getDictItemsInCellRect(cx, cy, 1, 1);\n\n    const items: string[] = [];\n\n    for (const itemID of Object.keys(dictItemsInCellRect))\n      if (\n        (!filter || filter(itemID)) &&\n        rect_containsPoint(\n          this.rects[itemID].x,\n          this.rects[itemID].y,\n          this.rects[itemID].w,\n          this.rects[itemID].h,\n          x,\n          y\n        )\n      )\n        items.push(itemID);\n\n    return items;\n  }\n\n  querySegment(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    filter?: (other?: string) => boolean\n  ): string[] {\n    const itemsInfo = getInfoAboutItemsTouchedBySegment(\n      this,\n      x1,\n      y1,\n      x2,\n      y2,\n      filter\n    );\n\n    const items: string[] = [];\n\n    if (itemsInfo) for (const itemInfo of itemsInfo) items.push(itemInfo.item);\n\n    return items;\n  }\n\n  querySegmentWithCoords(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    filter?: (other?: string) => boolean\n  ): {\n    item: string;\n    ti1: number;\n    ti2: number;\n    weight: number | null;\n    x1: number;\n    x2: number;\n    y1: number;\n    y2: number;\n  }[] {\n    let itemInfo: any = getInfoAboutItemsTouchedBySegment(\n      this,\n      x1,\n      y1,\n      x2,\n      y2,\n      filter\n    );\n\n    let dx: number = x2 - x1;\n    let dy: number = y2 - y1;\n\n    let info: any;\n    let ti1: number;\n    let ti2: number;\n\n    for (const item of itemInfo) {\n      info = item;\n\n      ti1 = info.ti1;\n      ti2 = info.ti2;\n\n      info.weight = null;\n      info.x1 = x1 + dx * ti1;\n      info.y1 = y1 + dy * ti1;\n      info.x2 = x1 + dx * ti2;\n      info.y2 = y1 + dy * ti2;\n    }\n\n    return itemInfo;\n  }\n\n  add(itemID: string, x: number, y: number, w: number, h: number): string {\n    const rect: IRect = this.rects[itemID];\n\n    if (rect) throw new Error(`Item \"${itemID}\" added to the world twice.`);\n\n    assertIsRect(x, y, w, h);\n\n    this.rects[itemID] = { x, y, w, h };\n\n    const [cl, ct, cw, ch] = grid_toCellRect(this.cellSize, x, y, w, h);\n\n    for (let cy = ct; cy < ct + ch; cy++)\n      for (let cx = cl; cx < cl + cw; cx++) this.addItemToCell(itemID, cx, cy);\n\n    return itemID;\n  }\n\n  remove(itemID: string): void {\n    const itemRect: IRect = JSON.parse(JSON.stringify(this.getRect(itemID)));\n\n    delete this.rects[itemID];\n\n    let [cl, ct, cw, ch] = grid_toCellRect(\n      this.cellSize,\n      itemRect.x,\n      itemRect.y,\n      itemRect.w,\n      itemRect.h\n    );\n\n    for (let cy = ct; cy < ct + ch; cy++)\n      for (let cx = cl; cx < cl + cw; cx++)\n        this.removeItemFromCell(itemID, cx, cy);\n  }\n\n  update(\n    itemID: string,\n    x2: number,\n    y2: number,\n    w2?: number,\n    h2?: number\n  ): void {\n    let itemRect = this.getRect(itemID);\n\n    w2 = isNaN(w2 as number) ? itemRect.w : w2;\n    h2 = isNaN(h2 as number) ? itemRect.h : h2;\n\n    assertIsRect(x2, y2, w2!, h2!);\n\n    if (\n      itemRect.x != x2 ||\n      itemRect.y != y2 ||\n      itemRect.w != w2 ||\n      itemRect.h != h2\n    ) {\n      const [cl1, ct1, cw1, ch1] = grid_toCellRect(\n        this.cellSize,\n        itemRect.x,\n        itemRect.y,\n        itemRect.w,\n        itemRect.h\n      );\n\n      const [cl2, ct2, cw2, ch2] = grid_toCellRect(\n        this.cellSize,\n        x2,\n        y2,\n        w2!,\n        h2!\n      );\n\n      if (cl1 != cl2 || ct1 != ct2 || cw1 != cw2 || ch1 != ch2) {\n        const cr1: number = cl1 + cw1 - 1;\n        const cb1: number = ct1 + ch1 - 1;\n\n        const cr2: number = cl2 + cw2 - 1;\n        const cb2: number = ct2 + ch2 - 1;\n\n        let cyOut: boolean;\n\n        for (let cy = ct1; cy <= cb1; cy++) {\n          cyOut = Number(cy) < ct2 || cy > cb2;\n\n          for (let cx = cl1; cx <= cr1; cx++)\n            if (cyOut || cx < cl2 || cx > cr2)\n              this.removeItemFromCell(itemID, cx, cy);\n        }\n\n        for (let cy = ct2; cy <= cb2; cy++) {\n          cyOut = cy < ct1 || cy > cb1;\n\n          for (let cx = cl2; cx <= cr2; cx++)\n            if (cyOut || cx < cl1 || cx > cr1)\n              this.addItemToCell(itemID, cx, cy);\n        }\n      }\n\n      const rect: IRect = this.rects[itemID];\n\n      rect.x = x2;\n      rect.y = y2;\n      rect.w = w2!;\n      rect.h = h2!;\n    }\n  }\n\n  public move(\n    itemID: string,\n    goalX: number,\n    goalY: number,\n    filter?: (...args: any[]) => any\n  ): { x: number; y: number; collisions: Collision[] } {\n    const { x, y, collisions } = this.check(itemID, goalX, goalY, filter);\n\n    this.update(itemID, x, y);\n\n    return { x, y, collisions };\n  }\n\n  check(\n    itemID: string,\n    goalX: number,\n    goalY: number,\n    filter?: (...args: any[]) => any\n  ): { x: number; y: number; collisions: Collision[] } {\n    let _goalX: number = goalX;\n    let _goalY: number = goalY;\n\n    const checkFilter: any = filter || defaultFilter;\n\n    let visited: { [itemID: string]: boolean } = {};\n    visited[itemID] = true;\n\n    const visitedFilter = (itm: any, other: any) =>\n      !!visited[other] ? false : checkFilter(itm, other);\n\n    let detectedCollisions: Collision[] = [];\n\n    const itemRect: IRect = this.getRect(itemID);\n\n    // this is returning an empty array. WHY?\n    let projectedCollisions: Collision[] = this.project(\n      itemID,\n      itemRect.x,\n      itemRect.y,\n      itemRect.w,\n      itemRect.h,\n      _goalX,\n      _goalY,\n      visitedFilter\n    );\n\n    let collisionsCounter: number = projectedCollisions?.length || 0;\n\n    while (collisionsCounter > 0) {\n      const collision: Collision = projectedCollisions[0];\n\n      detectedCollisions.push(collision);\n\n      visited[collision.other] = true;\n\n      let response = this.getResponseByName(collision.type!);\n\n      const { x, y, collisions } = response(\n        this,\n        collision,\n        itemRect.x,\n        itemRect.y,\n        itemRect.w,\n        itemRect.h,\n        _goalX,\n        _goalY,\n        visitedFilter\n      );\n\n      _goalX = x;\n      _goalY = y;\n      projectedCollisions = collisions;\n\n      collisionsCounter = collisions?.length || 0;\n    }\n\n    return { x: _goalX, y: _goalY, collisions: detectedCollisions };\n  }\n}\n\n// Public library functions\n\nconst bump = {\n  newWorld: function(cellSize: number): World {\n    cellSize = cellSize || 64;\n\n    assertIsPositiveNumber(cellSize, 'cellSize');\n\n    const world: World = new World({\n      cellSize: cellSize,\n      rects: {},\n      rows: [],\n      nonEmptyCells: {},\n      responses: {},\n    });\n\n    world.addResponse('touch', touch);\n    world.addResponse('cross', cross);\n    world.addResponse('slide', slide);\n    world.addResponse('bounce', bounce);\n\n    return world;\n  },\n  rect: {\n    getNearestCorner: rect_getNearestCorner,\n    getSegmentIntersectionIndices: rect_getSegmentIntersectionIndices,\n    getDiff: rect_getDiff,\n    containsPoint: rect_containsPoint,\n    isIntersecting: rect_isIntersecting,\n    getSquareDistance: rect_getSquareDistance,\n    detectCollision: rect_detectCollision,\n  },\n  responses: {\n    touch,\n    cross,\n    slide,\n    bounce,\n  },\n};\n\nexport default Object.freeze(bump);\n","export default function _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object.keys(descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object.defineProperty(target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}","import { Component } from \"flat-ecs\";\r\n\r\nexport class Health extends Component {\r\n  private hp: number;\r\n  private maxHP: number;\r\n\r\n  setHp(hp: number) {\r\n    this.hp = hp;\r\n  }\r\n  setMaxHP(maxHP: number) {\r\n    this.maxHP = maxHP;\r\n  }\r\n}\r\n","import { Component } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\n\r\nexport class Moveable extends Component {\r\n  direction: Vector2 = new Vector2(0, 0);\r\n  speed: number;\r\n  active: boolean = false;\r\n\r\n  setDirection(x: number, y: number) {\r\n    this.direction.set(x, y);\r\n  }\r\n\r\n  setSpeed(speed: number) {\r\n    this.speed = speed;\r\n  }\r\n\r\n  setActive(active: boolean) {\r\n    this.active = active;\r\n  }\r\n}\r\n","import { Component } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\n\r\nexport class PathFinding extends Component {\r\n  target: Vector2 = new Vector2();\r\n  path: number[] = [];\r\n  index: number = -1;\r\n  active: boolean = false;\r\n  setActive(active: boolean) {\r\n    this.active = active;\r\n  }\r\n  setTarget(x: number, y: number) {\r\n    this.target.set(x, y);\r\n\r\n    this.active = true;\r\n    this.index = -1;\r\n    this.path.length = 0;\r\n  }\r\n}\r\n","import { Component } from \"flat-ecs\";\r\n\r\nexport class Pursuit extends Component {\r\n  target: number = -1;\r\n  cooldownRequired: number = 0;\r\n  cooldownLeft: number = 0;\r\n}\r\n","import { Component } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\n\r\nexport class Spartial extends Component {\r\n  pos: Vector2 = new Vector2(0, 0);\r\n  radius: number = 0;\r\n\r\n  setPos(x: number, y: number) {\r\n    this.pos.set(x, y);\r\n  }\r\n  setRadius(r: number) {\r\n    this.radius = r;\r\n  }\r\n  setRotation(r: number) {\r\n    this.pos.rotate(r);\r\n  }\r\n}\r\n","export class Constants {\r\n  public static readonly MAP_WIDTH = 320;\r\n  public static readonly MAP_HEIGHT = 320;\r\n  public static readonly MAP_GRID_COLS = 20;\r\n  public static readonly MAP_GRID_ROWS = 20;\r\n  public static readonly CELL_WIDTH =\r\n    Constants.MAP_WIDTH / Constants.MAP_GRID_COLS;\r\n  public static readonly CELL_HEIGHT =\r\n    Constants.MAP_HEIGHT / Constants.MAP_GRID_ROWS;\r\n  public static readonly MAX_COUNT_MAP = 3;\r\n}\r\n","import { World } from \"bump-ts\";\r\nimport { Archetype, Inject, System } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\nimport Walkable, { PathObject } from \"walkable\";\r\nimport { Health } from \"./component/Health\";\r\nimport { Moveable } from \"./component/Movable\";\r\nimport { PathFinding } from \"./component/PathFinding\";\r\nimport { Pursuit } from \"./component/Pursuit\";\r\nimport { Spartial } from \"./component/Spartial\";\r\nimport { Constants } from \"./Constant\";\r\nimport { GameState } from \"./dto/gameState\";\r\nimport { GameConfig } from \"./ulis/currentMap\";\r\nimport { LayerMapRender } from \"./ulis/layerMapRender\";\r\nimport { mapData } from \"./ulis/mapData\";\r\nimport { Port } from \"./ulis/port\";\r\nimport { TempEnemyPos } from \"./ulis/tempEnemyPos\";\r\n\r\nfunction getRandomInt(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nexport class ChangeMapSystem extends System {\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n  @Inject(\"gameConfig\") gameConfig: GameConfig;\r\n  @Inject(\"port\") port: Port;\r\n  @Inject(\"layersMapRender\") layersMapRender: LayerMapRender;\r\n  @Inject(\"obstacles\") obstacles: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  }[];\r\n  @Inject(\"mapData\") mapData: mapData;\r\n  @Inject(\"tempEnemyPos\") tempEnemyPos: TempEnemyPos;\r\n  @Inject(\"gameState\") gameState: GameState;\r\n  @Inject(\"walkable\") walkable: Walkable;\r\n  @Inject(\"walkableRect\") walkableRect: PathObject[];\r\n\r\n  reload = false;\r\n  realNextMapPosY = 0;\r\n  realPreMapPosY = 0;\r\n  offsetTileMap = 10;\r\n  spartialPlayer = new Vector2();\r\n  tempVec2 = new Vector2();\r\n  tempboolean = false;\r\n\r\n  initialized(): void {\r\n    // if (this.port.nextMap) {\r\n    //   this.realNextMapPosY =\r\n    //     Constants.MAP_HEIGHT - this.port.nextMap.y + this.offsetTileMap;\r\n    // }\r\n    // if (this.port.preMap) {\r\n    //   this.realPreMapPosY =\r\n    //     Constants.MAP_HEIGHT - this.port.preMap.y + this.offsetTileMap;\r\n    // }\r\n  }\r\n\r\n  process(): void {\r\n    const playerRect = this.bumpWorld.getRect(\"player\");\r\n    this.spartialPlayer.set(\r\n      playerRect.x + playerRect.w / 2,\r\n      playerRect.y + playerRect.h / 2\r\n    );\r\n\r\n    if (\r\n      this.gameConfig.mapNumber > 1 &&\r\n      Math.abs(playerRect.x - (this.port.preMap.x - 5)) <=\r\n        this.offsetTileMap / 1.5 &&\r\n      Math.abs(\r\n        playerRect.y -\r\n          (Constants.MAP_HEIGHT - this.port.preMap.y + this.offsetTileMap + 10)\r\n      ) <=\r\n        this.offsetTileMap / 1.5\r\n    ) {\r\n      this.gameConfig.mapNumber--;\r\n\r\n      for (let i = 0; i < this.layersMapRender.obstacle.length; i++) {\r\n        if (this.layersMapRender.obstacle[i]) {\r\n          this.bumpWorld.remove(`obstacle${i}`);\r\n        }\r\n      }\r\n      for (let i = this.walkableRect.length - 1; i >= 0; i--) {\r\n        this.walkable.deleteObstacle(this.walkableRect[i]);\r\n      }\r\n\r\n      if (this.gameConfig.mapNumber === 1) {\r\n        this.tempEnemyPos.map2.length = 0;\r\n        for (let i = this.gameState.enemyIDs.length - 1; i >= 0; i--) {\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[i],\r\n            Spartial\r\n          );\r\n          this.tempEnemyPos.map2.push(spartialEnemy.pos);\r\n\r\n          this.world.deleteEntity(this.gameState.enemyIDs[i]);\r\n          this.gameState.enemyIDs.splice(i, 1);\r\n        }\r\n\r\n        for (let i = 0; i < this.tempEnemyPos.map1.length; i++) {\r\n          const enemyArchetype = new Archetype([\r\n            Spartial,\r\n            Health,\r\n            Moveable,\r\n            PathFinding,\r\n            Pursuit,\r\n          ]);\r\n          const enemy = this.world.createEntityByArchetype(enemyArchetype);\r\n\r\n          this.gameState.enemyIDs.push(enemy);\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Spartial\r\n          );\r\n          spartialEnemy.pos.setVector(this.tempEnemyPos.map1[i]);\r\n          spartialEnemy.setRadius(5);\r\n\r\n          const moveableEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Moveable\r\n          );\r\n          moveableEnemy.setSpeed(0.5);\r\n          const pursuit = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Pursuit\r\n          );\r\n          pursuit.target = this.gameState.playerID as number;\r\n          pursuit.cooldownRequired = 0.025;\r\n\r\n          const healthEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Health\r\n          );\r\n          healthEnemy.setHp(100);\r\n          healthEnemy.setMaxHP(100);\r\n\r\n          const pathFinding = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            PathFinding\r\n          );\r\n          pathFinding.setTarget(this.spartialPlayer.x, this.spartialPlayer.y);\r\n        }\r\n\r\n        //updatePort\r\n        this.port.nextMap = this.mapData.map1.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"nextMap\");\r\n\r\n        //render\r\n        this.layersMapRender.walls = this.mapData.map1.layers.find(\r\n          (w: any) => w.name === \"walls\"\r\n        ).data;\r\n        this.layersMapRender.layer1 = this.mapData.map1.layers.find(\r\n          (w: any) => w.name === \"layer1\"\r\n        ).data;\r\n        this.layersMapRender.layer2 = this.mapData.map1.layers.find(\r\n          (w: any) => w.name === \"layer2\"\r\n        ).data;\r\n        this.layersMapRender.obstacle = this.mapData.map1.layers.find(\r\n          (w: any) => w.name === \"obstacles\"\r\n        ).data;\r\n\r\n        this.bumpWorld.move(\r\n          \"player\",\r\n          this.port.nextMap.x - this.offsetTileMap / 2,\r\n          Constants.MAP_HEIGHT - this.port.nextMap.y + this.offsetTileMap + 20\r\n        );\r\n      }\r\n\r\n      if (this.gameConfig.mapNumber === 2) {\r\n        //saveEnemyPos\r\n        this.tempEnemyPos.map3.length = 0;\r\n        for (let i = this.gameState.enemyIDs.length - 1; i >= 0; i--) {\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[i],\r\n            Spartial\r\n          );\r\n          this.tempEnemyPos.map3.push(spartialEnemy.pos);\r\n\r\n          this.world.deleteEntity(this.gameState.enemyIDs[i]);\r\n          this.gameState.enemyIDs.splice(i, 1);\r\n        }\r\n\r\n        for (let i = 0; i < this.tempEnemyPos.map2.length; i++) {\r\n          const enemyArchetype = new Archetype([\r\n            Spartial,\r\n            Health,\r\n            Moveable,\r\n            PathFinding,\r\n            Pursuit,\r\n          ]);\r\n          const enemy = this.world.createEntityByArchetype(enemyArchetype);\r\n\r\n          this.gameState.enemyIDs.push(enemy);\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Spartial\r\n          );\r\n          spartialEnemy.pos.setVector(this.tempEnemyPos.map2[i]);\r\n          spartialEnemy.setRadius(5);\r\n\r\n          const moveableEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Moveable\r\n          );\r\n          moveableEnemy.setSpeed(0.5);\r\n          const pursuit = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Pursuit\r\n          );\r\n          pursuit.target = this.gameState.playerID as number;\r\n          pursuit.cooldownRequired = 0.025;\r\n\r\n          const healthEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Health\r\n          );\r\n          healthEnemy.setHp(100);\r\n          healthEnemy.setMaxHP(100);\r\n\r\n          const pathFinding = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            PathFinding\r\n          );\r\n          pathFinding.setTarget(this.spartialPlayer.x, this.spartialPlayer.y);\r\n        }\r\n\r\n        //updatePort\r\n        this.port.preMap = this.mapData.map2.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"previousMap\");\r\n\r\n        this.port.nextMap = this.mapData.map2.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"nextMap\");\r\n\r\n        this.layersMapRender.walls = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"walls\"\r\n        ).data;\r\n        this.layersMapRender.layer1 = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"layer1\"\r\n        ).data;\r\n        this.layersMapRender.layer2 = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"layer2\"\r\n        ).data;\r\n        this.layersMapRender.obstacle = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"obstacles\"\r\n        ).data;\r\n\r\n        this.bumpWorld.move(\r\n          \"player\",\r\n          this.port.nextMap.x - this.offsetTileMap / 2,\r\n          Constants.MAP_HEIGHT - this.port.nextMap.y + this.offsetTileMap - 10\r\n        );\r\n      }\r\n\r\n      if (this.gameConfig.mapNumber === 3) {\r\n        this.tempEnemyPos.map4.length = 0;\r\n        for (let i = this.gameState.enemyIDs.length - 1; i >= 0; i--) {\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[i],\r\n            Spartial\r\n          );\r\n          this.tempEnemyPos.map4.push(spartialEnemy.pos);\r\n\r\n          this.world.deleteEntity(this.gameState.enemyIDs[i]);\r\n          this.gameState.enemyIDs.splice(i, 1);\r\n        }\r\n\r\n        for (let i = 0; i < this.tempEnemyPos.map3.length; i++) {\r\n          const enemyArchetype = new Archetype([\r\n            Spartial,\r\n            Health,\r\n            Moveable,\r\n            PathFinding,\r\n            Pursuit,\r\n          ]);\r\n          const enemy = this.world.createEntityByArchetype(enemyArchetype);\r\n\r\n          this.gameState.enemyIDs.push(enemy);\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Spartial\r\n          );\r\n          spartialEnemy.pos.setVector(this.tempEnemyPos.map3[i]);\r\n          spartialEnemy.setRadius(5);\r\n\r\n          const moveableEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Moveable\r\n          );\r\n          moveableEnemy.setSpeed(0.5);\r\n          const pursuit = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Pursuit\r\n          );\r\n          pursuit.target = this.gameState.playerID as number;\r\n          pursuit.cooldownRequired = 0.025;\r\n\r\n          const healthEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Health\r\n          );\r\n          healthEnemy.setHp(100);\r\n          healthEnemy.setMaxHP(100);\r\n\r\n          const pathFinding = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            PathFinding\r\n          );\r\n          pathFinding.setTarget(this.spartialPlayer.x, this.spartialPlayer.y);\r\n        }\r\n\r\n        //updatePort\r\n        this.port.preMap = this.mapData.map3.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"previousMap\");\r\n\r\n        this.port.nextMap = this.mapData.map3.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"nextMap\");\r\n\r\n        this.layersMapRender.walls = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"walls\"\r\n        ).data;\r\n        this.layersMapRender.layer1 = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"layer1\"\r\n        ).data;\r\n        this.layersMapRender.layer2 = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"layer2\"\r\n        ).data;\r\n        this.layersMapRender.obstacle = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"obstacles\"\r\n        ).data;\r\n\r\n        this.bumpWorld.move(\r\n          \"player\",\r\n          this.port.nextMap.x - this.offsetTileMap / 2,\r\n          Constants.MAP_HEIGHT - this.port.nextMap.y + this.offsetTileMap + 20\r\n        );\r\n      }\r\n\r\n      for (let i = 0; i < this.layersMapRender.obstacle.length; i++) {\r\n        if (this.layersMapRender.obstacle[i]) {\r\n          this.bumpWorld.add(\r\n            `obstacle${i}`,\r\n            this.obstacles[i].x,\r\n            this.obstacles[i].y,\r\n            this.obstacles[i].width,\r\n            this.obstacles[i].height\r\n          );\r\n          this.walkableRect.push(\r\n            this.walkable.addRect(\r\n              this.obstacles[i].width,\r\n              this.obstacles[i].height,\r\n              this.obstacles[i].x,\r\n              this.obstacles[i].y\r\n            )\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    if (\r\n      this.gameConfig.mapNumber < 4 &&\r\n      Math.abs(playerRect.x - (this.port.nextMap.x - 5)) <=\r\n        this.offsetTileMap / 1.5 &&\r\n      Math.abs(\r\n        playerRect.y -\r\n          (Constants.MAP_HEIGHT - this.port.nextMap.y + this.offsetTileMap + 10)\r\n      ) <=\r\n        this.offsetTileMap / 1.5\r\n    ) {\r\n      this.gameConfig.mapNumber++;\r\n\r\n      for (let i = 0; i < this.layersMapRender.obstacle.length; i++) {\r\n        if (this.layersMapRender.obstacle[i]) {\r\n          this.bumpWorld.remove(`obstacle${i}`);\r\n        }\r\n      }\r\n      for (let i = this.walkableRect.length - 1; i >= 0; i--) {\r\n        this.walkable.deleteObstacle(this.walkableRect[i]);\r\n      }\r\n\r\n      if (this.gameConfig.mapNumber === 2) {\r\n        this.tempEnemyPos.map1.length = 0;\r\n        for (let i = this.gameState.enemyIDs.length - 1; i >= 0; i--) {\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[i],\r\n            Spartial\r\n          );\r\n          this.tempEnemyPos.map1.push(spartialEnemy.pos);\r\n\r\n          this.world.deleteEntity(this.gameState.enemyIDs[i]);\r\n          this.gameState.enemyIDs.splice(i, 1);\r\n        }\r\n\r\n        for (let i = 0; i < this.tempEnemyPos.map2.length; i++) {\r\n          const enemyArchetype = new Archetype([\r\n            Spartial,\r\n            Health,\r\n            Moveable,\r\n            PathFinding,\r\n            Pursuit,\r\n          ]);\r\n          const enemy = this.world.createEntityByArchetype(enemyArchetype);\r\n\r\n          this.gameState.enemyIDs.push(enemy);\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Spartial\r\n          );\r\n          spartialEnemy.pos.setVector(this.tempEnemyPos.map2[i]);\r\n          spartialEnemy.setRadius(5);\r\n\r\n          const moveableEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Moveable\r\n          );\r\n          moveableEnemy.setSpeed(0.5);\r\n          const pursuit = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Pursuit\r\n          );\r\n          pursuit.target = this.gameState.playerID as number;\r\n          pursuit.cooldownRequired = 0.025;\r\n\r\n          const healthEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Health\r\n          );\r\n          healthEnemy.setHp(100);\r\n          healthEnemy.setMaxHP(100);\r\n\r\n          const pathFinding = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            PathFinding\r\n          );\r\n          pathFinding.setTarget(this.spartialPlayer.x, this.spartialPlayer.y);\r\n        }\r\n        //updatePort\r\n        this.port.spawn = this.mapData.map2.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"spawn\");\r\n\r\n        this.port.preMap = this.mapData.map2.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"previousMap\");\r\n        this.port.nextMap = this.mapData.map2.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"nextMap\");\r\n\r\n        this.layersMapRender.walls = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"walls\"\r\n        ).data;\r\n        this.layersMapRender.layer1 = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"layer1\"\r\n        ).data;\r\n        this.layersMapRender.layer2 = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"layer2\"\r\n        ).data;\r\n        this.layersMapRender.obstacle = this.mapData.map2.layers.find(\r\n          (w: any) => w.name === \"obstacles\"\r\n        ).data;\r\n\r\n        this.bumpWorld.move(\r\n          \"player\",\r\n          this.port.preMap.x - this.offsetTileMap / 2,\r\n          Constants.MAP_HEIGHT - this.port.preMap.y + this.offsetTileMap - 10\r\n        );\r\n      }\r\n\r\n      if (this.gameConfig.mapNumber === 3) {\r\n        // saveEnemyPos\r\n        this.tempEnemyPos.map2.length = 0;\r\n        for (let i = this.gameState.enemyIDs.length - 1; i >= 0; i--) {\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[i],\r\n            Spartial\r\n          );\r\n          this.tempEnemyPos.map2.push(spartialEnemy.pos);\r\n\r\n          this.world.deleteEntity(this.gameState.enemyIDs[i]);\r\n          this.gameState.enemyIDs.splice(i, 1);\r\n        }\r\n\r\n        for (let i = 0; i < this.tempEnemyPos.map3.length; i++) {\r\n          const enemyArchetype = new Archetype([\r\n            Spartial,\r\n            Health,\r\n            Moveable,\r\n            PathFinding,\r\n            Pursuit,\r\n          ]);\r\n          const enemy = this.world.createEntityByArchetype(enemyArchetype);\r\n\r\n          this.gameState.enemyIDs.push(enemy);\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Spartial\r\n          );\r\n          spartialEnemy.pos.setVector(this.tempEnemyPos.map3[i]);\r\n          spartialEnemy.setRadius(5);\r\n\r\n          const moveableEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Moveable\r\n          );\r\n          moveableEnemy.setSpeed(0.5);\r\n          const pursuit = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Pursuit\r\n          );\r\n          pursuit.target = this.gameState.playerID as number;\r\n          pursuit.cooldownRequired = 0.025;\r\n\r\n          const healthEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Health\r\n          );\r\n          healthEnemy.setHp(100);\r\n          healthEnemy.setMaxHP(100);\r\n\r\n          const pathFinding = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            PathFinding\r\n          );\r\n          pathFinding.setTarget(this.spartialPlayer.x, this.spartialPlayer.y);\r\n        }\r\n\r\n        //updatePort\r\n\r\n        this.layersMapRender.walls = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"walls\"\r\n        ).data;\r\n        this.layersMapRender.layer1 = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"layer1\"\r\n        ).data;\r\n        this.layersMapRender.layer2 = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"layer2\"\r\n        ).data;\r\n        this.layersMapRender.obstacle = this.mapData.map3.layers.find(\r\n          (w: any) => w.name === \"obstacles\"\r\n        ).data;\r\n\r\n        this.port.preMap = this.mapData.map3.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"previousMap\");\r\n\r\n        this.port.nextMap = this.mapData.map3.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"nextMap\");\r\n\r\n        this.bumpWorld.move(\r\n          \"player\",\r\n          this.port.preMap.x - this.offsetTileMap / 2,\r\n          Constants.MAP_HEIGHT - this.port.preMap.y + this.offsetTileMap + 20\r\n        );\r\n      }\r\n\r\n      if (this.gameConfig.mapNumber === 4) {\r\n        //saveEnemyPos\r\n        this.tempEnemyPos.map3.length = 0;\r\n        for (let i = this.gameState.enemyIDs.length - 1; i >= 0; i--) {\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[i],\r\n            Spartial\r\n          );\r\n          this.tempEnemyPos.map3.push(spartialEnemy.pos);\r\n\r\n          this.world.deleteEntity(this.gameState.enemyIDs[i]);\r\n          this.gameState.enemyIDs.splice(i, 1);\r\n        }\r\n\r\n        for (let i = 0; i < this.tempEnemyPos.map4.length; i++) {\r\n          const enemyArchetype = new Archetype([\r\n            Spartial,\r\n            Health,\r\n            Moveable,\r\n            PathFinding,\r\n            Pursuit,\r\n          ]);\r\n          const enemy = this.world.createEntityByArchetype(enemyArchetype);\r\n\r\n          this.gameState.enemyIDs.push(enemy);\r\n          const spartialEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Spartial\r\n          );\r\n          spartialEnemy.pos.setVector(this.tempEnemyPos.map4[i]);\r\n          spartialEnemy.setRadius(5);\r\n\r\n          const moveableEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Moveable\r\n          );\r\n          moveableEnemy.setSpeed(0.5);\r\n          const pursuit = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Pursuit\r\n          );\r\n          pursuit.target = this.gameState.playerID as number;\r\n          pursuit.cooldownRequired = 0.025;\r\n\r\n          const healthEnemy = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            Health\r\n          );\r\n          healthEnemy.setHp(100);\r\n          healthEnemy.setMaxHP(100);\r\n\r\n          const pathFinding = this.world.getComponent(\r\n            this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n            PathFinding\r\n          );\r\n          pathFinding.setTarget(this.spartialPlayer.x, this.spartialPlayer.y);\r\n        }\r\n\r\n        //updatePort\r\n        this.layersMapRender.walls = this.mapData.map4.layers.find(\r\n          (w: any) => w.name === \"walls\"\r\n        ).data;\r\n        this.layersMapRender.layer1 = this.mapData.map4.layers.find(\r\n          (w: any) => w.name === \"layer1\"\r\n        ).data;\r\n        this.layersMapRender.layer2 = this.mapData.map4.layers.find(\r\n          (w: any) => w.name === \"layer2\"\r\n        ).data;\r\n        this.layersMapRender.obstacle = this.mapData.map4.layers.find(\r\n          (w: any) => w.name === \"obstacles\"\r\n        ).data;\r\n\r\n        this.port.preMap = this.mapData.map4.layers\r\n          .find((d: any) => d.name === \"data\")\r\n          .objects.find((s: any) => s.name === \"previousMap\");\r\n\r\n        this.bumpWorld.move(\r\n          \"player\",\r\n          this.port.preMap.x - this.offsetTileMap / 2,\r\n          Constants.MAP_HEIGHT - this.port.preMap.y + this.offsetTileMap - 20\r\n        );\r\n      }\r\n\r\n      for (let i = 0; i < this.layersMapRender.obstacle.length; i++) {\r\n        if (this.layersMapRender.obstacle[i]) {\r\n          this.bumpWorld.add(\r\n            `obstacle${i}`,\r\n            this.obstacles[i].x,\r\n            this.obstacles[i].y,\r\n            this.obstacles[i].width,\r\n            this.obstacles[i].height\r\n          );\r\n          this.walkableRect.push(\r\n            this.walkable.addRect(\r\n              this.obstacles[i].width,\r\n              this.obstacles[i].height,\r\n              this.obstacles[i].x,\r\n              this.obstacles[i].y\r\n            )\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { World } from \"bump-ts\";\r\nimport { Inject, System } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\nimport { Moveable } from \"../component/Movable\";\r\nimport { PathFinding } from \"../component/PathFinding\";\r\nimport { Spartial } from \"../component/Spartial\";\r\nimport { GameState } from \"../dto/gameState\";\r\nimport { LayerMapRender } from \"../ulis/layerMapRender\";\r\n\r\nexport class EnemyProcessingSystem extends System {\r\n  @Inject(\"gameState\") gameState: GameState;\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n  @Inject(\"layersMapRender\") layersMapRender: LayerMapRender;\r\n\r\n  spartialPlayer = new Vector2();\r\n  direction = new Vector2();\r\n  tempVec2 = new Vector2();\r\n  dcm = false;\r\n  spartialEnemy = new Vector2();\r\n\r\n  process(): void {\r\n    this.spartialPlayer.set(\r\n      this.bumpWorld.getRect(\"player\").x +\r\n        this.bumpWorld.getRect(\"player\").w / 2,\r\n      this.bumpWorld.getRect(\"player\").y +\r\n        this.bumpWorld.getRect(\"player\").h / 2\r\n    );\r\n\r\n    for (let i = 0; i < this.gameState.enemyIDs.length; i++) {\r\n      const spartialEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[i],\r\n        Spartial\r\n      );\r\n      const moveableEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[i],\r\n        Moveable\r\n      );\r\n\r\n      this.direction\r\n        .setVector(moveableEnemy.direction)\r\n        .subVector(spartialEnemy.pos)\r\n        .nor();\r\n\r\n      spartialEnemy.pos.add(this.direction.x, this.direction.y);\r\n    }\r\n  }\r\n}\r\n","import { World } from \"bump-ts\";\r\nimport { Inject, System } from \"flat-ecs\";\r\nimport { Color, ShapeRenderer } from \"gdxts\";\r\nimport { Health } from \"../component/Health\";\r\nimport { Spartial } from \"../component/Spartial\";\r\nimport { GameState } from \"../dto/gameState\";\r\n\r\nexport class EnemyRenderSystem extends System {\r\n  @Inject(\"shapeRenderer\") shapeRenderer: ShapeRenderer;\r\n  @Inject(\"gameState\") gameState: GameState;\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n\r\n  process(): void {\r\n    this.shapeRenderer.begin();\r\n    for (let i = 0; i < this.gameState.enemyIDs.length; i++) {\r\n      const spartialEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[i],\r\n        Spartial\r\n      );\r\n      const healthEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[i],\r\n        Health\r\n      );\r\n\r\n      this.shapeRenderer.circle(\r\n        true,\r\n        spartialEnemy.pos.x,\r\n        spartialEnemy.pos.y,\r\n        spartialEnemy.radius\r\n      );\r\n    }\r\n    this.shapeRenderer.end();\r\n  }\r\n}\r\n","import { World } from \"bump-ts\";\r\nimport { System, Inject, Archetype } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\nimport { Health } from \"../component/Health\";\r\nimport { Moveable } from \"../component/Movable\";\r\nimport { PathFinding } from \"../component/PathFinding\";\r\nimport { Pursuit } from \"../component/Pursuit\";\r\nimport { Spartial } from \"../component/Spartial\";\r\nimport { Constants } from \"../Constant\";\r\nimport { GameState } from \"../dto/gameState\";\r\nimport { LayerMapRender } from \"../ulis/layerMapRender\";\r\n\r\nfunction getRandomInt(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nexport class EnemySpawningSystem extends System {\r\n  @Inject(\"gameState\") gameState: GameState;\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n  @Inject(\"layersMapRender\") layersMapRender: LayerMapRender;\r\n\r\n  MAX_ENEMIES = 2;\r\n  remainingTimeSpawnEnemy = 0;\r\n  posSpawnEnemy = new Vector2();\r\n  tempVec2 = new Vector2();\r\n  tempboolean = false;\r\n  spartialPlayer = new Vector2();\r\n\r\n  process(): void {\r\n    this.remainingTimeSpawnEnemy += this.world.delta;\r\n\r\n    this.spartialPlayer.set(\r\n      this.bumpWorld.getRect(\"player\").x +\r\n        this.bumpWorld.getRect(\"player\").w / 2,\r\n      this.bumpWorld.getRect(\"player\").y +\r\n        this.bumpWorld.getRect(\"player\").h / 2\r\n    );\r\n    if (\r\n      this.remainingTimeSpawnEnemy > 1 &&\r\n      this.gameState.enemyIDs.length < this.MAX_ENEMIES\r\n    ) {\r\n      const enemyArchetype = new Archetype([\r\n        Spartial,\r\n        Health,\r\n        Moveable,\r\n        PathFinding,\r\n        Pursuit,\r\n      ]);\r\n      const enemy = this.world.createEntityByArchetype(enemyArchetype);\r\n\r\n      do {\r\n        this.posSpawnEnemy.set(\r\n          getRandomInt(0, Constants.MAP_WIDTH),\r\n          getRandomInt(20, Constants.MAP_HEIGHT)\r\n        );\r\n\r\n        this.tempboolean = false;\r\n        for (let i = 0; i < this.layersMapRender.obstacle.length; i++) {\r\n          if (this.layersMapRender.obstacle[i]) {\r\n            this.tempVec2.set(\r\n              this.bumpWorld.getRect(`obstacle${i}`).x +\r\n                this.bumpWorld.getRect(`obstacle${i}`).w / 2,\r\n              this.bumpWorld.getRect(`obstacle${i}`).y +\r\n                this.bumpWorld.getRect(`obstacle${i}`).h / 2\r\n            );\r\n          }\r\n          if (this.posSpawnEnemy.distance(this.tempVec2) < 15) {\r\n            this.tempboolean = true;\r\n          }\r\n        }\r\n      } while (this.tempboolean);\r\n\r\n      this.gameState.enemyIDs.push(enemy);\r\n      const spartialEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n        Spartial\r\n      );\r\n      spartialEnemy.pos.setVector(this.posSpawnEnemy);\r\n      spartialEnemy.setRadius(5);\r\n\r\n      const moveableEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n        Moveable\r\n      );\r\n      moveableEnemy.setSpeed(0.5);\r\n      const pursuit = this.world.getComponent(\r\n        this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n        Pursuit\r\n      );\r\n      pursuit.target = this.gameState.playerID as number;\r\n      pursuit.cooldownRequired = 0.025;\r\n\r\n      const healthEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n        Health\r\n      );\r\n      healthEnemy.setHp(100);\r\n      healthEnemy.setMaxHP(100);\r\n\r\n      const pathFinding = this.world.getComponent(\r\n        this.gameState.enemyIDs[this.gameState.enemyIDs.length - 1],\r\n        PathFinding\r\n      );\r\n      pathFinding.setTarget(this.spartialPlayer.x, this.spartialPlayer.y);\r\n\r\n      this.remainingTimeSpawnEnemy = 0;\r\n    }\r\n  }\r\n}\r\n","import { Inject, System } from \"flat-ecs\";\r\nimport { PolygonBatch, ShapeRenderer, TextureRegion } from \"gdxts\";\r\nimport { Constants } from \"./Constant\";\r\nimport { LayerMapRender } from \"./ulis/layerMapRender\";\r\n\r\nexport class MapRenderingSystem extends System {\r\n  @Inject(\"shapeRenderer\") shapeRenderer: ShapeRenderer;\r\n  @Inject(\"batch\") batch: PolygonBatch;\r\n  @Inject(\"tileSetsRegions\") tileSetsRegions: TextureRegion[];\r\n  @Inject(\"layersMapRender\") layersMapRender: LayerMapRender;\r\n  @Inject(\"rects\") rects: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  }[];\r\n\r\n  initialized(): void {\r\n    for (let i = 0; i < Constants.MAP_GRID_COLS; i++) {\r\n      for (let j = 0; j < Constants.MAP_GRID_ROWS; j++) {\r\n        this.rects.push({\r\n          x: Constants.CELL_WIDTH * j,\r\n          y:\r\n            Constants.CELL_HEIGHT * Constants.MAP_GRID_ROWS -\r\n            Constants.CELL_HEIGHT * i,\r\n          width: Constants.CELL_WIDTH,\r\n          height: Constants.CELL_HEIGHT,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  process(): void {\r\n    this.batch.begin();\r\n\r\n    this.layersMapRender.walls.forEach((regionId: number, index: number) => {\r\n      const region = this.tileSetsRegions[regionId - 1];\r\n      const rect = this.rects[index];\r\n      region.draw(this.batch, rect.x, rect.y, rect.width, rect.height);\r\n    });\r\n\r\n    this.layersMapRender.layer1.forEach((regionId: number, index: number) => {\r\n      if (regionId) {\r\n        const region = this.tileSetsRegions[regionId - 1];\r\n        const rect = this.rects[index];\r\n        region.draw(this.batch, rect.x, rect.y, rect.width, rect.height);\r\n      }\r\n    });\r\n\r\n    this.layersMapRender.layer2.forEach((regionId: number, index: number) => {\r\n      if (regionId) {\r\n        const region = this.tileSetsRegions[regionId - 1];\r\n        const rect = this.rects[index];\r\n        region.draw(this.batch, rect.x, rect.y, rect.width, rect.height);\r\n      }\r\n    });\r\n    // this.layersMapRender.obstacle.forEach((regionId: number, index: number) => {\r\n    //   if (regionId) {\r\n    //     const region = this.tileSetsRegions[regionId - 1];\r\n    //     const rect = this.rects[index];\r\n    //     region.draw(this.batch, rect.x, rect.y, rect.width, rect.height);\r\n    //   }\r\n    // });\r\n\r\n    this.batch.end();\r\n  }\r\n}\r\n","import { EntityIteratingSystem, InjectMapper, ComponentMapper } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\nimport { Moveable } from \"./component/Movable\";\r\nimport { Spartial } from \"./component/Spartial\";\r\n\r\nexport default class MovementSystem extends EntityIteratingSystem {\r\n  @InjectMapper(Moveable)\r\n  movableMapper: ComponentMapper<Moveable>;\r\n  @InjectMapper(Spartial)\r\n  spartialMapper: ComponentMapper<Spartial>;\r\n  constructor() {\r\n    super([Spartial, Moveable]);\r\n  }\r\n  tmp: Vector2 = new Vector2(0, 0);\r\n  processEntity(entityId: number): void {\r\n    const { movableMapper, spartialMapper, tmp } = this;\r\n    const movable = movableMapper.get(entityId);\r\n    const spartial = spartialMapper.get(entityId);\r\n    const delta = this.world.delta;\r\n    const { pos } = spartial;\r\n\r\n    const { direction, speed } = movable;\r\n\r\n    tmp.setVector(direction).subVector(pos);\r\n\r\n    if (tmp.len() >= speed * delta) {\r\n      tmp.nor().scale(speed);\r\n    } else {\r\n      tmp.scale(delta);\r\n      movable.setActive(false);\r\n    }\r\n  }\r\n}\r\n","import { IRect, World } from \"bump-ts\";\r\nimport { Inject, System } from \"flat-ecs\";\r\nimport { Color, ShapeRenderer } from \"gdxts\";\r\nimport Walkable, { PathObject } from \"walkable\";\r\nimport { LayerMapRender } from \"./ulis/layerMapRender\";\r\nimport { mapData } from \"./ulis/mapData\";\r\n\r\nexport class ObstaclesSystem extends System {\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n  @Inject(\"mapData\") mapData: mapData;\r\n  @Inject(\"obstacles\") obstacles: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  }[];\r\n  @Inject(\"layersMapRender\") layersMapRender: LayerMapRender;\r\n  @Inject(\"walkable\") walkable: Walkable;\r\n  temp: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  }[];\r\n  @Inject(\"shapeRenderer\") shapeRenderer: ShapeRenderer;\r\n  @Inject(\"walkableRect\") walkableRect: PathObject[];\r\n\r\n  initialized(): void {\r\n    for (let i = 0; i < this.layersMapRender.obstacle.length; i++) {\r\n      if (this.layersMapRender.obstacle[i]) {\r\n        this.bumpWorld.add(\r\n          `obstacle${i}`,\r\n          this.obstacles[i].x,\r\n          this.obstacles[i].y,\r\n          this.obstacles[i].width,\r\n          this.obstacles[i].height\r\n        );\r\n\r\n        this.walkableRect.push(\r\n          this.walkable.addRect(\r\n            this.obstacles[i].width,\r\n            this.obstacles[i].height,\r\n            this.obstacles[i].x,\r\n            this.obstacles[i].y\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  process(): void {\r\n    // for (let i = 0; i < this.layersMapRender.obstacle.length; i++) {\r\n    //   if (this.layersMapRender.obstacle[i]) {\r\n    //     getRectObs.push(this.bumpWorld.getRect(`obstacle${i}`));\r\n    //   }\r\n    // }\r\n  }\r\n}\r\n","import { EntityIteratingSystem, Inject } from \"flat-ecs\";\r\nimport { Color, ShapeRenderer } from \"gdxts\";\r\nimport Walkable from \"walkable\";\r\nimport { Moveable } from \"./component/Movable\";\r\nimport { PathFinding } from \"./component/PathFinding\";\r\nimport { Spartial } from \"./component/Spartial\";\r\n\r\nexport default class PathFindingSystem extends EntityIteratingSystem {\r\n  @Inject(\"walkable\")\r\n  walkable: Walkable;\r\n  constructor() {\r\n    super([PathFinding, Moveable, Spartial]);\r\n  }\r\n\r\n  @Inject(\"shapeRenderer\") shapeRenderer: ShapeRenderer;\r\n  processEntity(entityId: number): void {\r\n    const { world, walkable } = this;\r\n    const pathFinding = world.getComponent(entityId, PathFinding);\r\n    const movable = world.getComponent(entityId, Moveable);\r\n    const spartial = world.getComponent(entityId, Spartial);\r\n\r\n    if (pathFinding.active) {\r\n      if (pathFinding.path.length === 0) {\r\n        try {\r\n          walkable.findPath(\r\n            spartial.pos.x,\r\n            spartial.pos.y,\r\n            pathFinding.target.x + spartial.radius,\r\n            pathFinding.target.y + spartial.radius,\r\n            spartial.radius / 2,\r\n            pathFinding.path\r\n          );\r\n        } catch (e) {\r\n          console.log(\"pathfinding issue\");\r\n        }\r\n      }\r\n\r\n      if (pathFinding.path.length > 0) {\r\n        if (pathFinding.index < pathFinding.path.length / 2 - 1) {\r\n          pathFinding.index++;\r\n          movable.setDirection(\r\n            pathFinding.path[pathFinding.index * 2],\r\n            pathFinding.path[pathFinding.index * 2 + 1]\r\n          );\r\n        } else {\r\n          pathFinding.index = -1;\r\n          pathFinding.path.length = 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component } from \"flat-ecs\";\r\n\r\nexport class Damage extends Component {\r\n  private damage: number;\r\n\r\n  setDmg(dmg: number) {\r\n    this.damage = dmg;\r\n  }\r\n}\r\n","import { IRect, World } from \"bump-ts\";\r\nimport { Archetype, Inject, System } from \"flat-ecs\";\r\nimport { ViewportInputHandler, Vector2 } from \"gdxts\";\r\nimport { Damage } from \"../component/Damage\";\r\nimport { Health } from \"../component/Health\";\r\nimport { Moveable } from \"../component/Movable\";\r\nimport { Spartial } from \"../component/Spartial\";\r\nimport { GameState } from \"../dto/gameState\";\r\nexport interface JoyStick {\r\n  origin: Vector2;\r\n  thumbPos: Vector2;\r\n  direction: Vector2;\r\n\r\n  touched: boolean;\r\n  move: boolean;\r\n  dragging: boolean;\r\n}\r\n\r\nfunction movePlayer(\r\n  inputHandler: ViewportInputHandler,\r\n  joyStick: JoyStick,\r\n  playerRect: IRect\r\n) {\r\n  if (inputHandler.isTouched()) {\r\n    joyStick.origin.set(playerRect.x, playerRect.y);\r\n    joyStick.thumbPos.setVector(inputHandler.getTouchedWorldCoord());\r\n    joyStick.direction\r\n      .setVector(joyStick.thumbPos)\r\n      .subVector(joyStick.origin)\r\n      .nor();\r\n  } else {\r\n    joyStick.direction.set(0, 0);\r\n  }\r\n  return joyStick.direction;\r\n}\r\n\r\nexport class PlayerMovementSystem extends System {\r\n  @Inject(\"inputHandler\") inputHandler: ViewportInputHandler;\r\n  @Inject(\"joyStick\") joyStick: JoyStick;\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n  @Inject(\"gameState\") gameState: GameState;\r\n\r\n  initialized(): void {\r\n    const playerArchetype = new Archetype([Spartial, Health, Damage]);\r\n    const player = this.world.createEntityByArchetype(playerArchetype);\r\n    this.gameState.playerID = player;\r\n\r\n    const spartialPlayer = this.world.getComponent(\r\n      this.gameState.playerID,\r\n      Spartial\r\n    );\r\n    spartialPlayer.setPos(\r\n      this.bumpWorld.getRect(\"player\").x,\r\n      this.bumpWorld.getRect(\"player\").y\r\n    );\r\n\r\n    // const moveablePlayer = this.world.getComponent(\r\n    //   this.gameState.playerID,\r\n    //   Moveable\r\n    // );\r\n    // moveablePlayer.setSpeed(5);\r\n    const healthPlayer = this.world.getComponent(\r\n      this.gameState.playerID,\r\n      Health\r\n    );\r\n    healthPlayer.setHp(100);\r\n    healthPlayer.setMaxHP(100);\r\n    const damagePlayer = this.world.getComponent(\r\n      this.gameState.playerID,\r\n      Damage\r\n    );\r\n    damagePlayer.setDmg(3);\r\n  }\r\n\r\n  process(): void {\r\n    let playerRect = this.bumpWorld.getRect(\"player\");\r\n    const tempVec2 = movePlayer(this.inputHandler, this.joyStick, playerRect);\r\n\r\n    const spartialPlayer = this.world.getComponent(\r\n      this.gameState.playerID,\r\n      Spartial\r\n    );\r\n\r\n    this.bumpWorld.move(\r\n      \"player\",\r\n      playerRect.x + tempVec2.x,\r\n      playerRect.y + tempVec2.y\r\n    );\r\n\r\n    spartialPlayer.setPos(\r\n      this.bumpWorld.getRect(\"player\").x,\r\n      this.bumpWorld.getRect(\"player\").y\r\n    );\r\n  }\r\n}\r\n","import { World } from \"bump-ts\";\r\nimport { Inject, System } from \"flat-ecs\";\r\nimport { Color, ShapeRenderer } from \"gdxts\";\r\nimport { Spartial } from \"../component/Spartial\";\r\nimport { GameState } from \"../dto/gameState\";\r\nimport { LayerMapRender } from \"../ulis/layerMapRender\";\r\nimport { Port } from \"../ulis/port\";\r\n\r\nexport class PlayerRenderSystem extends System {\r\n  @Inject(\"shapeRenderer\") shapeRenderer: ShapeRenderer;\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n  @Inject(\"currentMapData\") currentMapData: any;\r\n  @Inject(\"port\") port: Port;\r\n  @Inject(\"gameState\") gameState: GameState;\r\n  @Inject(\"obstacles\") obstacles: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  }[];\r\n  @Inject(\"layersMapRender\") layersMapRender: LayerMapRender;\r\n  checkWall = false;\r\n\r\n  process(): void {\r\n    let playerRect = this.bumpWorld.getRect(\"player\");\r\n\r\n    const spartialPlayer = this.world.getComponent(\r\n      this.gameState.playerID,\r\n      Spartial\r\n    );\r\n\r\n    this.shapeRenderer.begin();\r\n\r\n    this.shapeRenderer.rect(\r\n      true,\r\n      spartialPlayer.pos.x,\r\n      spartialPlayer.pos.y,\r\n      playerRect.w,\r\n      playerRect.h,\r\n      Color.GREEN\r\n    );\r\n\r\n    this.shapeRenderer.end();\r\n  }\r\n}\r\n","import { World } from \"bump-ts\";\r\nimport { Inject, System } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\nimport { Damage } from \"../../component/Damage\";\r\nimport { Moveable } from \"../../component/Movable\";\r\nimport { Spartial } from \"../../component/Spartial\";\r\nimport { GameState } from \"../../dto/gameState\";\r\nimport { LayerMapRender } from \"../../ulis/layerMapRender\";\r\n\r\nexport class BulletProcessingSystem extends System {\r\n  @Inject(\"gameState\") gameState: GameState;\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n  @Inject(\"layersMapRender\") layersMapRender: LayerMapRender;\r\n  @Inject(\"obstacles\") obstacles: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  }[];\r\n\r\n  tempVec2Obstacle = new Vector2();\r\n\r\n  process(): void {\r\n    for (let i = this.gameState.bulletIDs.length - 1; i >= 0; i--) {\r\n      const spartialBullet = this.world.getComponent(\r\n        this.gameState.bulletIDs[i],\r\n        Spartial\r\n      );\r\n      const moveAbleBullet = this.world.getComponent(\r\n        this.gameState.bulletIDs[i],\r\n        Moveable\r\n      );\r\n      const damageBullet = this.world.getComponent(\r\n        this.gameState.bulletIDs[i],\r\n        Damage\r\n      );\r\n      spartialBullet.pos.add(\r\n        moveAbleBullet.direction.x * moveAbleBullet.speed,\r\n        moveAbleBullet.direction.y * moveAbleBullet.speed\r\n      );\r\n\r\n      //checkCollisionWithObstacle\r\n      for (let j = 0; j < this.layersMapRender.obstacle.length; j++) {\r\n        if (this.layersMapRender.obstacle[j]) {\r\n          this.tempVec2Obstacle.set(\r\n            this.bumpWorld.getRect(`obstacle${j}`).x +\r\n              this.bumpWorld.getRect(`obstacle${j}`).w / 2,\r\n            this.bumpWorld.getRect(`obstacle${j}`).y +\r\n              this.bumpWorld.getRect(`obstacle${j}`).h / 2\r\n          );\r\n          if (\r\n            spartialBullet.pos.distance(this.tempVec2Obstacle) <\r\n            this.bumpWorld.getRect(`obstacle${j}`).w / 2\r\n          ) {\r\n            this.world.deleteEntity(this.gameState.bulletIDs[i]);\r\n            this.gameState.bulletIDs.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      for (let j = this.gameState.enemyIDs.length - 1; j >= 0; j--) {\r\n        const spartialEnemy = this.world.getComponent(\r\n          this.gameState.enemyIDs[j],\r\n          Spartial\r\n        );\r\n\r\n        if (spartialEnemy.pos.distance(spartialBullet.pos) < 5) {\r\n          this.world.deleteEntity(this.gameState.enemyIDs[j]);\r\n          this.gameState.enemyIDs.splice(j, 1);\r\n          this.world.deleteEntity(this.gameState.bulletIDs[i]);\r\n          this.gameState.bulletIDs.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Inject, System } from \"flat-ecs\";\r\nimport { ShapeRenderer } from \"gdxts\";\r\nimport { Spartial } from \"../../component/Spartial\";\r\nimport { GameState } from \"../../dto/gameState\";\r\n\r\nexport class BulletRenderSystem extends System {\r\n  @Inject(\"shapeRenderer\") shapeRenderer: ShapeRenderer;\r\n  @Inject(\"gameState\") gameState: GameState;\r\n\r\n  process(): void {\r\n    this.shapeRenderer.begin();\r\n    for (let i = 0; i < this.gameState.bulletIDs.length; i++) {\r\n      const spartialBullet = this.world.getComponent(\r\n        this.gameState.bulletIDs[i],\r\n        Spartial\r\n      );\r\n      this.shapeRenderer.circle(\r\n        true,\r\n        spartialBullet.pos.x,\r\n        spartialBullet.pos.y,\r\n        spartialBullet.radius\r\n      );\r\n    }\r\n    this.shapeRenderer.end();\r\n  }\r\n}\r\n","import { World } from \"bump-ts\";\r\nimport { Archetype, Inject, System } from \"flat-ecs\";\r\nimport { Vector2 } from \"gdxts\";\r\nimport { Damage } from \"../../component/Damage\";\r\nimport { Moveable } from \"../../component/Movable\";\r\nimport { PathFinding } from \"../../component/PathFinding\";\r\nimport { Spartial } from \"../../component/Spartial\";\r\nimport { GameState } from \"../../dto/gameState\";\r\n\r\nexport class BulletSpawningSystem extends System {\r\n  @Inject(\"gameState\") gameState: GameState;\r\n  @Inject(\"bumpWorld\") bumpWorld: World;\r\n\r\n  attackSpeed = 1;\r\n  time = 0;\r\n  tempDistance = 0;\r\n  spartialPlayer = new Vector2();\r\n\r\n  tempVec2 = new Vector2();\r\n  offsetW = 0;\r\n  offsetH = 0;\r\n  checkEnemy = false;\r\n\r\n  initialized(): void {\r\n    this.offsetW = this.bumpWorld.getRect(\"player\").w;\r\n    this.offsetH = this.bumpWorld.getRect(\"player\").h;\r\n  }\r\n\r\n  process(): void {\r\n    this.time += this.world.delta;\r\n\r\n    this.spartialPlayer.set(\r\n      this.bumpWorld.getRect(\"player\").x +\r\n        this.bumpWorld.getRect(\"player\").w / 2,\r\n      this.bumpWorld.getRect(\"player\").y +\r\n        this.bumpWorld.getRect(\"player\").h / 2\r\n    );\r\n\r\n    for (let i = 0; i < this.gameState.enemyIDs.length; i++) {\r\n      const pathFinding = this.world.getComponent(\r\n        this.gameState.enemyIDs[i],\r\n        PathFinding\r\n      );\r\n\r\n      if (pathFinding.path.length === 4) {\r\n        this.checkEnemy = true;\r\n        break;\r\n      } else {\r\n        this.checkEnemy = false;\r\n      }\r\n    }\r\n\r\n    if (this.time >= this.attackSpeed && this.checkEnemy) {\r\n      const bulletArchetype = new Archetype([Spartial, Moveable, Damage]);\r\n      const bullet = this.world.createEntityByArchetype(bulletArchetype);\r\n      this.gameState.bulletIDs.push(bullet);\r\n      const spartialBullet = this.world.getComponent(\r\n        this.gameState.bulletIDs[this.gameState.bulletIDs.length - 1],\r\n        Spartial\r\n      );\r\n      const moveAbleBullet = this.world.getComponent(\r\n        this.gameState.bulletIDs[this.gameState.bulletIDs.length - 1],\r\n        Moveable\r\n      );\r\n      const damageBullet = this.world.getComponent(\r\n        this.gameState.bulletIDs[this.gameState.bulletIDs.length - 1],\r\n        Damage\r\n      );\r\n      damageBullet.setDmg(5);\r\n\r\n      const spartialEnemy = this.world.getComponent(\r\n        this.gameState.enemyIDs[0],\r\n        Spartial\r\n      );\r\n      this.tempDistance = spartialEnemy.pos.distance(this.spartialPlayer);\r\n      this.tempVec2\r\n        .setVector(spartialEnemy.pos)\r\n        .subVector(this.spartialPlayer)\r\n        .nor();\r\n      for (let i = 0; i < this.gameState.enemyIDs.length; i++) {\r\n        const spartialEnemy = this.world.getComponent(\r\n          this.gameState.enemyIDs[i],\r\n          Spartial\r\n        );\r\n        if (\r\n          this.tempDistance >= spartialEnemy.pos.distance(this.spartialPlayer)\r\n        ) {\r\n          this.tempDistance = spartialEnemy.pos.distance(this.spartialPlayer);\r\n          this.tempVec2\r\n            .setVector(spartialEnemy.pos)\r\n            .subVector(this.spartialPlayer)\r\n            .nor();\r\n        }\r\n      }\r\n      spartialBullet.setPos(this.spartialPlayer.x, this.spartialPlayer.y);\r\n      spartialBullet.setRadius(3);\r\n\r\n      moveAbleBullet.setDirection(this.tempVec2.x, this.tempVec2.y);\r\n      moveAbleBullet.speed = 5;\r\n      this.time = 0;\r\n    }\r\n  }\r\n}\r\n","import { EntityIteratingSystem } from \"flat-ecs\";\r\nimport { PathFinding } from \"./component/PathFinding\";\r\nimport { Pursuit } from \"./component/Pursuit\";\r\nimport { Spartial } from \"./component/Spartial\";\r\n\r\nexport default class PursuitSystem extends EntityIteratingSystem {\r\n  constructor() {\r\n    super([Pursuit, PathFinding]);\r\n  }\r\n  processEntity(entityId: number): void {\r\n    const pursuit = this.world.getComponent(entityId, Pursuit);\r\n    const pathfinding = this.world.getComponent(entityId, PathFinding);\r\n\r\n    if (pursuit.cooldownLeft > 0) {\r\n      pursuit.cooldownLeft -= this.world.delta;\r\n      return;\r\n    }\r\n\r\n    const targetPos = this.world.getComponent(pursuit.target, Spartial).pos;\r\n    pathfinding.setTarget(targetPos.x, targetPos.y);\r\n    pursuit.cooldownLeft = pursuit.cooldownRequired;\r\n  }\r\n}\r\n","import Bump from \"bump-ts\";\r\nimport { Archetype, World } from \"flat-ecs\";\r\nimport {\r\n  createGameLoop,\r\n  createStage,\r\n  createViewport,\r\n  PolygonBatch,\r\n  ShapeRenderer,\r\n  Texture,\r\n  TextureRegion,\r\n  ViewportInputHandler,\r\n} from \"gdxts\";\r\nimport { Vector2 } from \"gdxts/dist/lib/Vector2\";\r\nimport Walkable, { PathObject } from \"walkable\";\r\nimport { ChangeMapSystem } from \"./ChangeMapSystem\";\r\nimport { Constants } from \"./Constant\";\r\nimport { GameState } from \"./dto/gameState\";\r\nimport { EnemyProcessingSystem } from \"./enemy/EnemyProcessingSystem\";\r\nimport { EnemyRenderSystem } from \"./enemy/EnemyRenderSystem\";\r\nimport { EnemySpawningSystem } from \"./enemy/EnemySpawningSystem\";\r\nimport { MapRenderingSystem } from \"./MapRenderingSystem\";\r\nimport MovementSystem from \"./MovementSystem\";\r\nimport { ObstaclesSystem } from \"./ObstaclesSystem\";\r\nimport PathFindingSystem from \"./PathFindingSystem\";\r\nimport { JoyStick, PlayerMovementSystem } from \"./player/PlayerMovementSystem\";\r\nimport { PlayerRenderSystem } from \"./player/PlayerRenderSystem\";\r\nimport { BulletProcessingSystem } from \"./player/skill/BulletProcessingSystem\";\r\nimport { BulletRenderSystem } from \"./player/skill/BulletRenderSystem\";\r\nimport { BulletSpawningSystem } from \"./player/skill/BulletSpawningSystem\";\r\nimport PursuitSystem from \"./PursuitSystem\";\r\nimport { GameConfig } from \"./ulis/currentMap\";\r\nimport { LayerMapRender } from \"./ulis/layerMapRender\";\r\nimport { mapData } from \"./ulis/mapData\";\r\nimport { Port } from \"./ulis/port\";\r\nimport { TempEnemyPos } from \"./ulis/tempEnemyPos\";\r\n\r\nexport const init = async () => {\r\n  const stage = createStage();\r\n  const canvas = stage.getCanvas();\r\n  const viewport = createViewport(\r\n    canvas,\r\n    Constants.MAP_WIDTH,\r\n    Constants.MAP_HEIGHT + 20\r\n  );\r\n  const gl = viewport.getContext();\r\n\r\n  const batch = new PolygonBatch(gl);\r\n  const shapeRenderer = new ShapeRenderer(gl);\r\n  const camera = viewport.getCamera();\r\n  const world = new World();\r\n\r\n  const tileSets = await Texture.load(gl, \"./tiles_dungeon_v1.1.png\");\r\n  const tileSetsRegions = TextureRegion.splitTexture(tileSets, 20, 24);\r\n\r\n  gl.clearColor(0, 0, 0, 1);\r\n\r\n  const inputHandler = new ViewportInputHandler(viewport);\r\n\r\n  const gameConfig: GameConfig = {\r\n    mapNumber: 1,\r\n    changePreMap: false,\r\n    changeCurrentMap: true,\r\n    changeNextMap: false,\r\n  };\r\n\r\n  const port: Port = {\r\n    preMap: null,\r\n    spawn: null,\r\n    nextMap: null,\r\n  };\r\n  const mapData: mapData = {\r\n    map1: await fetch(`./01.tmj`).then((res) => res.json()),\r\n    map2: await fetch(`./02.tmj`).then((res) => res.json()),\r\n    map3: await fetch(`./03.tmj`).then((res) => res.json()),\r\n    map4: await fetch(`./04.tmj`).then((res) => res.json()),\r\n  };\r\n\r\n  port.spawn = mapData.map1.layers\r\n    .find((d: any) => d.name === \"data\")\r\n    .objects.find((s: any) => s.name === \"spawn\");\r\n\r\n  port.preMap = mapData.map1.layers\r\n    .find((d: any) => d.name === \"data\")\r\n    .objects.find((s: any) => s.name === \"previousMap\");\r\n\r\n  port.nextMap = mapData.map1.layers\r\n    .find((d: any) => d.name === \"data\")\r\n    .objects.find((s: any) => s.name === \"nextMap\");\r\n\r\n  const joyStick: JoyStick = {\r\n    origin: new Vector2(),\r\n    direction: new Vector2(),\r\n    thumbPos: new Vector2(),\r\n\r\n    touched: false,\r\n    move: false,\r\n    dragging: false,\r\n  };\r\n\r\n  const layersMapRender: LayerMapRender = {\r\n    walls: mapData.map1.layers.find((w: any) => w.name === \"walls\").data,\r\n    layer1: mapData.map1.layers.find((w: any) => w.name === \"layer1\").data,\r\n    layer2: mapData.map1.layers.find((w: any) => w.name === \"layer2\").data,\r\n    obstacle: mapData.map1.layers.find((w: any) => w.name === \"obstacles\").data,\r\n  };\r\n  const rects: { x: number; y: number; width: number; height: number }[] = [];\r\n  const obstacles: { x: number; y: number; width: number; height: number }[] =\r\n    [];\r\n\r\n  for (let i = 0; i < Constants.MAP_GRID_COLS; i++) {\r\n    for (let j = 0; j < Constants.MAP_GRID_ROWS; j++) {\r\n      obstacles.push({\r\n        x: Constants.CELL_WIDTH * j,\r\n        y:\r\n          Constants.CELL_HEIGHT * Constants.MAP_GRID_ROWS -\r\n          Constants.CELL_HEIGHT * i,\r\n        width: Constants.CELL_WIDTH,\r\n        height: Constants.CELL_HEIGHT,\r\n      });\r\n    }\r\n  }\r\n  const OFFSET_TILE_MAP = 10;\r\n\r\n  const bumpWorld = Bump.newWorld(Constants.CELL_WIDTH);\r\n  const walkable = new Walkable(Constants.MAP_WIDTH, Constants.MAP_HEIGHT);\r\n\r\n  bumpWorld.add(\r\n    \"player\",\r\n    port.spawn.x - OFFSET_TILE_MAP / 2,\r\n    Constants.MAP_HEIGHT - port.spawn.y + OFFSET_TILE_MAP,\r\n    10,\r\n    10\r\n  );\r\n  const gameState: GameState = {\r\n    playerID: 0,\r\n    enemyIDs: [],\r\n    bulletIDs: [],\r\n  };\r\n\r\n  const tempEnemyPos: TempEnemyPos = {\r\n    map1: [],\r\n    map2: [],\r\n    map3: [],\r\n    map4: [],\r\n  };\r\n\r\n  const walkableRect: PathObject[] = [];\r\n\r\n  world.register(\"bumpWorld\", bumpWorld);\r\n  world.register(\"walkable\", walkable);\r\n  world.register(\"gameState\", gameState);\r\n  world.register(\"inputHandler\", inputHandler);\r\n  world.register(\"joyStick\", joyStick);\r\n  world.register(\"shapeRenderer\", shapeRenderer);\r\n  world.register(\"batch\", batch);\r\n  world.register(\"rects\", rects);\r\n  world.register(\"obstacles\", obstacles);\r\n  world.register(\"tileSetsRegions\", tileSetsRegions);\r\n  world.register(\"gameConfig\", gameConfig);\r\n  world.register(\"port\", port);\r\n  world.register(\"walkableRect\", walkableRect);\r\n  world.register(\"tempEnemyPos\", tempEnemyPos);\r\n  world.register(\"layersMapRender\", layersMapRender);\r\n  world.register(\"mapData\", mapData);\r\n\r\n  world.addSystem(new ObstaclesSystem(), true);\r\n  world.addSystem(new PlayerMovementSystem(), true);\r\n  world.addSystem(new ChangeMapSystem(), true);\r\n  world.addSystem(new PathFindingSystem(), true);\r\n  world.addSystem(new EnemySpawningSystem(), true);\r\n  world.addSystem(new EnemyProcessingSystem(), true);\r\n  world.addSystem(new PursuitSystem(), true);\r\n  world.addSystem(new MovementSystem(), true);\r\n  world.addSystem(new BulletSpawningSystem(), true);\r\n  world.addSystem(new BulletProcessingSystem(), true);\r\n\r\n  world.addSystem(new MapRenderingSystem(), false);\r\n  world.addSystem(new PlayerRenderSystem(), false);\r\n  world.addSystem(new EnemyRenderSystem(), false);\r\n  world.addSystem(new BulletRenderSystem(), false);\r\n\r\n  createGameLoop((delta: number) => {\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n    batch.setProjection(camera.combined);\r\n    shapeRenderer.setProjection(camera.combined);\r\n    world.setDelta(delta);\r\n\r\n    world.processActiveSystem();\r\n    world.processPassiveSystem();\r\n  });\r\n};\r\ninit();\r\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","FastBitSet","iterable","words","obj","Symbol","iterator","add","resize","flip","clear","remove","isEmpty","c","has","checkedAdd","word","newword","trim","nl","hammingWeight","v","hammingWeight4","v1","v2","v3","v4","size","answer","array","pos","k","t","forEach","fnc","clone","intersects","otherbitmap","newcount","Math","min","intersection","intersection_size","new_intersection","equals","mcount","difference","difference_size","toString","join","union","new_union","max","c2","new_difference","union_size","__importDefault","mod","__esModule","Archetype","fastbitset_1","require","componentTypes","componentBits","default","componentBitsInitialized","Component","ComponentMapper","data","entityId","component","EntityIteratingSystem","System_1","types","world","getComponentIndex","begin","getEntities","processEntity","end","System","EntitySystem","entities","processEntities","Inject","propName","targetType","constructor","hasOwnProperty","__inject__","InjectMapper","__injectMapper__","ComponentMapper_1","World","mappers","componentBitsMap","componentIndices","Map","currentComponentIndex","activeSystems","passiveSystems","injectionRegistry","delta","getNewId","typeIndex","getMapperByIndex","archetype","id","addComponent","updateComponentBits","mapper","getComponentBits","getMapper","entityComponentBits","system","active","setWorld","injectMapper","inject","initialized","injectPoints","injectKey","componentType","object","injectName","dispose","process","World_1","Archetype_1","Component_1","EntityIteratingSystem_1","EntitySystem_1","InjectMapper_1","Inject_1","PlayMode","Animation","keyFrames","frameDurations","totalDuration","isArray","lastDuration","fD","stateTimeRemainder","reverse","fN","stateTime","mode","runIndex","floor","frameNumber","NORMAL","getFrameNumber","LOOP","LOOP_PINGPONG","REVERSED","LOOP_REVERSED","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","result","done","then","AssetManager","BitmapFont_1","Texture_1","TextureAtlas_1","gl","promises","atlases","textures","jsonData","binaryData","fonts","getTotal","path","promise","TextureAtlas","load","atlas","reportDone","fetch","res","json","arrayBuffer","buffer","BitmapFont","font","Texture","texture","all","_a","getRegions","destroy","delete","BitmapFontCache_1","BitmapFontData_1","Utils_1","regions","integer","glyphValues","values","glyphs","page","j","glyph","setGlyphRegion","missingGlyph","draw","batch","str","x","y","targetWidth","halign","Align","left","wrap","start","truncate","cache","addText","getColor","getScaleX","scaleX","getScaleY","scaleY","getRegion","getLineHeight","lineHeight","getSpaceXadvance","spaceXadvance","getXHeight","xHeight","getCapHeight","capHeight","getAscent","ascent","getDescent","descent","isFlipped","flipped","ownsTexture","setFixedWidthGlyphs","maxAdvance","g","getGlyph","charAt","xadvance","xoffset","kerning","fixedWidth","setUseIntegerPositions","usesIntegerPositions","getCache","getData","getOwnsTexture","setOwnsTexture","newFontCache","BitmapFontCache","log","fontFile","interger","fontData","BitmapFontData","loadFont","GlyphLayout_1","NumberUtils_1","tempColor","Color","drawingTexts","layouts","pooledLayouts","color","setPosition","translate","xAmount","yAmount","round","pageVertices","vertices","ii","nn","idx","setColors","r","b","a","intBits","NumberUtil","intToFloatColor","setColor","Pools","freeAll","pageGlyphIndices","requireGlyphs","layout","requirePageGlyphs","glyphCount","tempGlyphCount","runs","glyphItems","vertexCount","newVertices","Utils","arrayCopy","setPageCount","pageCount","newPageVertices","fill","newIdx","newPageGlyphIndices","pageGlyphIndicesLength","addToCache","runCount","colors","colorsIndex","nextColorGlyphIndex","glyphIndex","lastColorFloatBits","run","xAdvances","gx","gy","addGlyph","currentTint","yoffset","width","height","u","u2","x2","y2","setText","setTextToCache","addTextToCache","obtain","getX","getY","getFont","use","getVertices","getVertexCount","getLayouts","GlyphLayout","WHITE","offset","region","find","item","Glyph_1","TextureRegion_1","concatAndResolveUrl","url","url1","split","url2","url3","l","CHARACTER_MAX_VALUE","blankLineScale","xChars","capChars","imagePaths","text","fileContent","lines","map","s","line","substring","indexOf","padding","padTop","parseInt","padRight","padBottom","padLeft","padY","common","startsWith","baseLine","p","idMatches","match","RegExp","fileMatches","fileName","Glyph","tokens","StringTokenizer","nextToken","ch","srcX","srcY","hasMoreTokens","_c","setGlyph","first","second","amount","setKerning","hasMetricsOverride","overrideAscent","overrideDescent","overrideDown","overrideCapHeight","overrideLineHeight","overrideSpaceXAdvance","overrideXHeight","parseFloat","spaceGlyph","xadvanceGlyph","getFirstGlyph","xGlyph","capGlyph","down","regionsData","top","pageId","pages","invTexWidth","invTexHeight","regionData","TextureRegion","originalWidth","originalHeight","offsetX","offsetY","setLineHeight","PAGE_SIZE","hasGlyph","charCodeAt","getGlyphs","lastGlyph","markupEnabled","getKerning","lastGlyphWidth","getWrapIndex","glyphsItems","isWhitespace","isBreakChar","breakChars","character","fromCharCode","getImagePath","getImagePaths","setScale","scale","scaleXY","delimitter","strArray","currentIndex","strings","st","BoundingBox","Vector3_1","Vector3","cnt","dim","clr","out","setFrom","z","bounds","minimum","maximum","update","sub","points","inf","l_point","extPoint","Infinity","point","a_bounds","center","radius","transform","tmpVector","multiply","x0","y0","z0","x1","y1","z1","isValid","lx","abs","sumx","ly","sumy","lz","sumz","OrthoCamera","Matrix4_1","viewportWidth","viewportHeight","screenWidth","screenHeight","direction","up","near","far","zoom","projectionView","Matrix4","inverseProjectionView","projection","view","tmp3","yDown","cameraX","cameraY","ortho","lookAt","invert","combined","screenCoords","project","worldCoords","worldCoord","screenCoord","screenToWorld","Game","screen","currentScreen","shared","PAGES","LOG2_PAGE_SIZE","Uint32Array","ArrayBuffer","GlyphRun_1","hAlign","epsilon","glyphRunPool","GlyphRun","colorStack","reset","wrapOrTruncate","currentColor","toIntBits","nextColor","isLastRun","lineRun","runStart","runEnd","newline","runEnded","free","appendRun","setLastGlyphXAdvance","runWidth","getGlyphWidth","wrapIndex","calculateWidths","alignRuns","runsItems","glyphWidth","truncateRun","truncateWidth","splice","droppedGlyphCount","last","getLineOffset","glyphs2","xAdvances2","firstEnd","secondStart","glyphs1","xAdvances1","firstGlyphCount","secondGlyphCount","reductionThreshold","colorChangeIndex","lastColor","InputHandler","InputEvent","events_1","Vector2_1","canvas","Vector2","lastX","lastY","touched","mouseDownHandler","evt","handleMove","mouseUpHandler","mouseMoveHandler","touchStartHandler","preventDefault","touch","touches","dispatchEvent","MouseEvent","clientX","clientY","touchEndHandler","touchMoveHandler","event","rect","getBoundingClientRect","camera","unprojectVector2","M33","M32","M31","M30","M23","M22","M21","M20","M13","M12","M11","M10","M03","M02","M01","M00","temp","Float32Array","l_det","inv_det","fovy","aspectRatio","identity","l_fd","tan","PI","l_a1","l_a2","right","bottom","x_orth","y_orth","z_orth","tx","ty","tz","matrix","initTemps","xAxis","yAxis","zAxis","normalize","cross","val","tmpMatrix","Color2Attribute","ColorAttribute","TexCoordAttribute","Position3Attribute","Position2Attribute","VertexAttribute","VertexAttributeType","Mesh","Shader_1","attributes","maxVertices","maxIndices","verticesLength","dirtyVertices","indicesLength","dirtyIndices","elementsPerVertex","numElements","indices","Uint16Array","shader","primitiveType","drawWithOffset","drawElements","UNSIGNED_SHORT","drawArrays","unbind","bindBuffer","ARRAY_BUFFER","verticesBuffer","attrib","location","getAttributeLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","ELEMENT_ARRAY_BUFFER","indicesBuffer","disableVertexAttribArray","createBuffer","bufferData","subarray","DYNAMIC_DRAW","deleteBuffer","Shader","POSITION","Float","unit","TEXCOORDS","COLOR","COLOR2","int8","Int8Array","int32","Int32Array","float32","f","intBitsToFloat","bits","PolygonBatch","Mesh_1","quad","twoColorTint","isDrawing","lastTexture","projectionValues","mesh","newTwoColoredTextured","srcColorBlend","SRC_ALPHA","srcAlphaBlend","ONE","dstBlend","ONE_MINUS_SRC_ALPHA","drawCalls","setUniform4x4f","MVP_MATRIX","setUniformi","enable","BLEND","blendFuncSeparate","flush","drawVertices","QUAD_TRIANGLES","getIndices","indexStart","numVertices","setVerticesLength","indicesArray","setIndicesLength","TRIANGLES","totalDrawCalls","disable","originX","originY","rotation","ou1","ov1","ou2","ov2","rotate","tmpV1","x3","x4","y3","y4","cos","sin","rotatedX1","rotatedY1","rotatedX2","rotatedY2","rotatedX3","rotatedY3","rotatedX4","rotatedY4","u1","u3","u4","vertexShader","fragmentShader","vs","fs","program","tmp2x2","tmp3x3","tmp4x4","vsSource","fsSource","compile","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","compileProgram","source","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","isContextLost","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","useProgram","uniform","uniform1i","getUniformLocation","uniform1f","value2","uniform2f","value3","uniform3f","value4","uniform4f","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","attribute","getAttribLocation","SAMPLER","ShapeRenderer","ShapeType","shapeType","Filled","vertexIndex","tmp","newColored","setFromColor","check","Point","vertex","Line","filled","color2","color3","color4","nor","polygonVertices","firstX","firstY","segments","MathUtils","cbrt","angle","cx","cy","cx1","cy1","cx2","cy2","subdiv_step","subdiv_step2","subdiv_step3","pre1","pre2","pre4","pre5","tmp1x","tmp1y","tmp2x","tmp2y","fx","fy","dfx","dfy","ddfx","ddfy","dddfx","dddfy","Sprite","dirty","origin","setSize","setOrigin","sprite","setVector","setX","setY","tint","rad","rotated","xRatio","yRatio","drawWidth","drawHeight","drawX","minx","miny","maxx","maxy","alphaModulation","oldAlpha","setAlpha","TextureFilter","TextureWrap","image","useMipMaps","boundUnit","_image","restore","minFilter","magFilter","texParameteri","TEXTURE_2D","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","validateMagFilter","uWrap","vWrap","TEXTURE_WRAP_S","TEXTURE_WRAP_T","createTexture","DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","LINEAR","LINEAR_MIPMAP_LINEAR","CLAMP_TO_EDGE","generateMipmap","activeTexture","TEXTURE0","bindTexture","deleteTexture","useMipmaps","Image","onload","src","MipMap","MipMapLinearLinear","MipMapLinearNearest","MipMapNearestLinear","MipMapNearestNearest","Linear","filter","sort","packFileUrl","textureOptions","packFileContent","pageData","pageImage","file","tuple","format","repeatX","ClampToEdge","repeatY","Repeat","mipMaps","splits","pads","tex","extraData","regionX","regionY","regionWidth","regionHeight","drawY","cols","rows","copyArray","createStage","pointInRect","resizeCanvas","createGameLoop","WindowedMean","TimeKeeper","Pool","PowOut","Pow","Interpolation","StringSet","IntSet","align","topLeft","topRight","bottomLeft","bottomRight","contains","entries","oldSize","clamp","hex","setFromString","RED","GREEN","BLUE","MAGENTA","degrees","degRad","ceil","pow","randomTriangularWith","random","d","sqrt","PI2","radiansToDegrees","radDeg","degreesToRadians","applyInternal","power","sourceStart","dest","destStart","fromIndex","toIndex","setArraySize","defaultValue","SUPPORTS_TYPED_ARRAYS","Int16Array","fround","element","toUpperCase","instantiator","items","pools","objects","pool","maxDelta","framesPerSecond","totalTime","lastTime","Date","now","frameCount","frameTime","windowSize","addedValues","lastValue","mean","hasEnoughData","requestId","lastUpdate","fps","running","frameInLastSecond","elapsed","loop","requestAnimationFrame","isRunning","stop","cancelAnimationFrame","getFps","deviceRatio","devicePixelRatio","window","displayWidth","clientWidth","displayHeight","clientHeight","pX","pY","options","assign","hidden","info","wrapper","document","createElement","setAttribute","wrapperClassName","className","style","display","appendChild","body","getCanvas","getInfo","show","hide","cleanup","removeChild","targetOffset","srcOffset","scalar","deltaX","deltaY","distanceSqr","atan2","len2","newX","newY","rotateRad","l_mat","l_w","output","invMatrix","viewX","viewY","viewWidth","viewHeight","createViewport","Camera_1","contextOption","defaultOptions","autoUpdate","pixelRatio","crop","disablePremultipliedAlpha","premultipliedAlpha","resizeHandler","getContext","additionalCameras","viewportInfo","worldWidth","worldHeight","vWidth","vHeight","viewportObject","getViewportInfo","getCamera","addCamera","ratio","vRatio","displayX","displayY","viewport","cameraWidth","cameraHeight","cleanUp","ViewportInputHandler","InputHandler_1","inputHandler","isTouched","vX","vY","__createBinding","o","k2","desc","getOwnPropertyDescriptor","writable","configurable","__exportStar","$hx_exports","$global","$estr","js_Boot","__string_rec","HxOverrides","__name__","cca","substr","Std","string","StringTools","digits","haxe_IMap","haxe_ds_ObjectMap","h","__keys__","__interfaces__","__id__","__class__","haxe_ds_StringMap","setReserved","rh","getReserved","haxe_io_Bytes","byteLength","Uint8Array","bufferValue","hxBytes","bytes","blit","srcpos","js__$Boot_HaxeError","haxe_io_Error","OutsideBounds","__ename__","__constructs__","Blocked","__enum__","Overflow","Custom","$x","hxDaedalus_ai_AStar","iterEdge","hxDaedalus_iterators_FromFaceToInnerEdges","_mesh","closedFaces","sortedOpenedFaces","openedFaces","entryEdges","entryX","entryY","scoreF","scoreG","scoreH","predecessor","get_radius","_radius","set_radius","radiusSquared","diameter","diameterSquared","set_mesh","findPath","fromX","fromY","toX","toY","resultListFaces","resultListEdges","loc","locEdge","locVertex","hxDaedalus_data_math_Geom2D","locatePosition","get_isConstrained","fromFace","get_leftFace","face","toFace","get_edge","face1","innerEdge","neighbourFace","dist","fillDatas","fromPoint","hxDaedalus_data_math_Point2D","entryPoint","distancePoint","curFace","set_fromFace","get_rightFace","isWalkableByRadius","get_originVertex","get_pos","get_destinationVertex","get_length","$bind","sortingFaces","fromEdge","throughFace","toEdge","adjEdge","vA","vB","vC","get_oppositeEdge","get_nextLeftEdge","get_prevLeftEdge","proj","projectOrthogonaly","distSquaredA","distSquaredB","currFace","faceFromEdge","currEdgeA","nextFaceA","currEdgeB","nextFaceB","vFaceToCheck","vFaceIsFromEdge","facesDone","distanceSquaredVertexToEdge","hxDaedalus_ai_EntityAI","dirNormX","dirNormY","buildApproximation","_approximateObject","hxDaedalus_data_Object","get_matrix","coordinates","set_coordinates","_g","get_approximateObject","get_radiusSquared","_radiusSquared","hxDaedalus_ai_Funnel","_currPoolPointsIndex","_poolPointsSize","_numSamplesCircle","_poolPoints","_g1","_sampleCircle","getPoint","__point","setXY","getCopyPoint","pointToCopy","_sampleCircleDistanceSquared","listFaces","listEdges","resultPath","distanceSquared","distance","p1","p2","p3","checkFace","startPoint","endPoint","currEdge","currVertex","isInFace","edge","funnelLeft","funnelRight","verticesDoneSide","pointsList","pointSides","pointSuccessor","prevPoint","newPointA","newPointB","relativPos","getRelativePosition2","fromVertex","fromFromVertex","_g2","currPos","pathPoints","pathSides","_g21","_g11","getDirection","_g4","_g3","_g41","_g31","blocked","_g22","_g12","_g23","_g13","adjustedPoints","newPath","adjustWithTangents","_g24","_g14","i3","pathLength","checkAdjustedPath","smoothPoints","smoothAngle","_g25","_g15","i4","applyRadiusToP1","applyRadiusToP2","tangentsResult","side1","side2","pTangent1","pTangent2","tangentsParalCircleToCircle","tangentsCrossCircleToCircle","tangentsPointToCircle","successor","distanceSquaredPointToSegment","point0","point0Side","point1","point1Side","point2","point2Side","pt1","pt2","pt3","needCheck","pointToSmooth","nextPoint","side","encirclePoints","angleType","pointInArea","xToCheck","yToCheck","hxDaedalus_ai_PathFinder","astar","funnel","get_mesh","entity","isCircleIntersectingAnyConstraint","hxDaedalus_ai_trajectory_LinearPathSampler","_samplingDistanceSquared","_samplingDistance","_preCompX","_preCompY","pythag","_path","get_x","_currentX","get_y","_currentY","get_hasPrev","_hasPrev","get_hasNext","_hasNext","get_count","_count","set_count","get_countMax","updateEntity","get_samplingDistance","set_samplingDistance","set_path","_preComputed","_iPrev","_iNext","preCompute","prev","remainingDist","pathPrev","pathPrev1","pathNext","pathNext1","hxDaedalus_ai_trajectory_PathIterator","get_entity","_entity","set_entity","_countMax","hxDaedalus_data_Constants","hxDaedalus_data_ConstraintSegment","_id","INC","_edges","get_id","addEdge","removeEdge","get_edges","fromShape","hxDaedalus_data_ConstraintShape","hxDaedalus_data_Edge","colorDebug","fromConstraintSegments","get_isReal","_isReal","_isConstrained","setDatas","originVertex","oppositeEdge","nextLeftEdge","leftFace","isReal","isConstrained","_originVertex","_oppositeEdge","_nextLeftEdge","_leftFace","addFromConstraintSegment","segment","removeFromConstraintSegment","set_originVertex","set_nextLeftEdge","set_leftFace","set_isConstrained","get_nextRightEdge","get_prevRightEdge","get_rotLeftEdge","get_rotRightEdge","hxDaedalus_data_Face","set_datas","_edge","hxDaedalus_data_Mesh","__objectsUpdateInProgress","__edgesToCheck","__centerVertex","_objects","_constraintShapes","_faces","_vertices","_clipping","_height","_width","get_height","get_width","get_clipping","set_clipping","get___constraintShapes","buildFromRecord","rec","positions","insertConstraintSegment","insertObject","get_constraintShape","deleteObject","transfx1","transfy1","transfx2","transfy2","shape","get_coordinates","updateMatrixFromValues","transformX","transformY","set_constraintShape","deleteConstraintShape","updateObjects","get_hasChanged","set_hasChanged","insertConstraintShape","deleteConstraintSegment","p1pos","findPositionFromBounds","p2pos","newX1","newY1","newX2","newY2","intersectPoint","intersections2segments","firstDone","secondDone","vertexDown","insertVertex","vertexUp","iterVertexToOutEdges","hxDaedalus_iterators_FromVertexToOutgoingEdges","tempEdgeDownUp","tempSdgeUpDown","currObjet","edgeLeft","newEdgeDownUp","newEdgeUpDown","intersectedEdges","leftBoundingEdges","rightBoundingEdges","pIntersect","hxDaedalus_data_math_Intersection","EVertex","set_fromVertex","intersections2edges","splitEdge","EEdge","insertNewConstrainedEdge","fromSegment","edgeDownUp","untriangulate","triangulate","vertexToDelete","i1","i2","deleteVertex","inObject","newVertex","splitFace","restoreAsDelaunay","flipEdge","eBot_Top","eTop_Bot","eLeft_Right","eRight_Left","eTop_Left","eLeft_Bot","eBot_Right","eRight_Top","vBot","vTop","vLeft","vRight","fLeft","fRight","fBot","fTop","vCenter","hxDaedalus_data_Vertex","eTop_Center","eCenter_Top","eBot_Center","eCenter_Bot","eLeft_Center","eCenter_Left","eRight_Center","eCenter_Right","fTopLeft","fBotLeft","fBotRight","fTopRight","edges","fromSegments","set_fromConstraintSegments","isDelaunay","freeOfConstraint","iterEdges","realEdgesOnly","faceToDelete","outgoingEdges","bound","realA","realB","boundA","boundB","get_fromConstraintSegments","constrainedEdgeA","constrainedEdgeB","edgeA","edgeB","index2","set_edge","edgesList","verticesCleaned","key1","vertexC","vertexCheck","baseEdge","vertexA","vertexB","circumcenter","getCircumcenter","edgeBopp","boundM","edgeAopp","debug","getVerticesAndEdges","incomingEdge","iterVertices","hxDaedalus_iterators_FromMeshToVertices","set_fromMesh","hxDaedalus_iterators_FromVertexToIncomingEdges","dictVerticesDone","vertexIsInsideAABB","_pivotX","_pivotY","_matrix","hxDaedalus_data_math_Matrix2D","_scaleX","_scaleY","_rotation","_x","_y","_coordinates","_hasChanged","_constraintShape","updateValuesFromMatrix","get_pivotX","set_pivotX","get_pivotY","set_pivotY","get_scaleX","set_scaleX","get_scaleY","set_scaleY","get_rotation","set_rotation","set_x","set_y","set_matrix","seg","_pos","_fromConstraintSegments","hxDaedalus_data_graph_Graph","get_node","_node","deleteNode","insertNode","node","hxDaedalus_data_graph_GraphNode","set_next","set_prev","get_outgoingEdge","deleteEdge","otherNode","get_successorNodes","get_next","get_prev","insertEdge","fromNode","toNode","hxDaedalus_data_graph_GraphEdge","set_sourceNode","set_destinationNode","set_rotPrevEdge","set_rotNextEdge","set_outgoingEdge","set_oppositeEdge","get_sourceNode","get_rotNextEdge","get_rotPrevEdge","_prev","_next","_rotPrevEdge","_rotNextEdge","_sourceNode","get_destinationNode","_destinationNode","get_data","_data","set_data","_successorNodes","_outgoingEdge","set_successorNodes","hxDaedalus_data_math_EdgeData","ENull","x_","y_","tranform","substract","norm","distanceTo","diffX","diffY","_randGen","hxDaedalus_data_math_RandGenerator","set_seed","__samples","numSamples","rangeMin","rangeMax","currVertexPos","distSquared","_rnd","minDistSquared","closedVertex","iterFace","hxDaedalus_iterators_FromVertexToHoldingFaces","faceVisited","objectContainer","numIter","getRelativePosition","edge1","pos1","pos2","edgesToCheck","checkedEdges","intersectionsSegmentCircle","tmp2","tmp5","dot","getDirection2","distanceSquaredPointToLine","eUp","polygon","e1_2","e2_3","e3_1","dot_v_v1v2","dot_v_v2v3","dot_v_v3v1","closeTo_e2_3","closeTo_e3_1","EFace","clipSegmentByTriangle","s1x","s1y","s2x","s2y","t1x","t1y","t2x","t2y","t3x","t3y","pResult1","pResult2","side1_1","side1_2","side2_1","side2_2","side3_1","side3_2","isSegmentIntersectingTriangle","vCorner","vOpposite","__circumcenter","squaredRadius","m1","m2","t1","s1p1x","s1p1y","s1p2x","s1p2y","s2p1x","s2p1y","s2p2x","s2p2y","posIntersection","paramIntersection","infiniteLineMode","t2","divisor","edge2","isConvex","eLeft","vertexPos","intersections2Circles","r1","r2","distRadiusSQRD","transcendPart","xFirstPart","yFirstPart","xFactor","yFactor","p0x","p0y","p1x","p1y","deltaSQRT","t0","p0xSQD","p0ySQD","intersecting","f1","f2","intersectionsLineCircle","px","py","c2x","c2y","c1x","c1y","centerX","centerY","midX","midY","tproj","t4x","t4y","ax","ay","bx","by","dotProduct","a_b_squaredLength","nextX","nextY","sumDistance","a_","b_","c_","d_","e_","f_","sx","sy","hxDaedalus_data_math_NodeData","hxDaedalus_data_math_Potrace","buildShapes","bmpData","debugBmp","debugShape","shapes","dictPixelsDone","row","col","hxPixels__$Pixels_Pixels_$Impl_$","getPixel","__map_reserved","buildShape","fromPixelRow","fromPixelCol","newPixelRow","newPixelCol","curDir","newDir","setPixel32","graphics","lineStyle","moveTo","lineTo","buildGraph","node1","node2","subNode","distSqrd","sumDistSqrd","edgeData","graph","shape1","shape2","maxDistance","sumDistancesSquared","nodesCount","buildPolygon","currNode","score","higherScore","minNodeIndex","lowerScoreEdge","seed","rangeMin_","rangeMax_","_originalSeed","_currSeed","_numIter","get_seed","_floatSeed","_tempString","nextInRange","shuffle","currIdx","rndIdx","hxDaedalus_data_math_ShapeSimplifier","simplify","coords","firstPointX","firstPointY","lastPointX","lastPointY","currDist","l1","l2","hxDaedalus_data_math_Tools","extractMeshFromBitmap","pixels","triangles","extractMeshFromShapes","invertWinding","graphs","polygons","hxDaedalus_factories_RectMesh","buildRectangle","indicesDict","openFacesList","_g5","key2","hxDaedalus_debug_Debug","assertTrue","cond","assertFalse","assertEquals","expected","actual","trace","hxDaedalus_factories_BitmapMesh","buildFromBmpData","hxDaedalus_factories_BitmapObject","simplificationEpsilon","vTL","vTR","vBR","vBL","eTL_TR","eTR_TL","eTR_BR","eBR_TR","eBR_BL","eBL_BR","eBL_TL","eTL_BL","eTR_BL","eBL_TR","eTL_BR","eBR_TL","fTL_BL_TR","fTR_BL_BR","fTL_BR_BL","fTL_TR_BR","boundShape","segTop","segRight","segBot","segLeft","f3","securityRect","f4","_g6","f5","_g7","_g16","f6","_g8","_g17","f7","hxDaedalus_iterators_FromEdgeToRotatedEdges","_fromFace","_nextEdge","_resultEdge","hxDaedalus_iterators_FromFaceToInnerVertices","_resultVertex","hxDaedalus_iterators_FromFaceToNeighbourFaces","_resultFace","hxDaedalus_iterators_FromMeshToFaces","_fromMesh","_currIndex","_fromVertex","hxDaedalus_iterators_FromVertexToNeighbourVertices","hxDaedalus_view_SimpleView","targetCanvas","faceToEdgeIter","faceAlpha","faceWidth","faceColor","entitiesAlpha","entitiesWidth","entitiesColor","pathsAlpha","pathsWidth","pathsColor","verticesAlpha","verticesRadius","verticesColor","constraintsAlpha","constraintsWidth","constraintsColor","edgesAlpha","edgesWidth","edgesColor","wings_jsCanvas_SimpleDrawingContext","drawVertex","beginFill","_this","drawCircle","endFill","drawFace","_this1","drawEdge","_this2","_this3","drawMesh","cleanBefore","drawEntity","drawEntities","vEntities","drawPath","_new","alloc","hxPixels__$Pixels_PixelsData","getByte","this1","channelMap","ch1","ch2","ch3","getPixel32","ch0","setByte","setPixel","fillRect","stridePixels","stride","fromBytes","hxPixels_PixelFormat","ARGB","convertTo","convert","toFormat","inPlace","BGRA","i5","b1","fromImageData","get_A","get_R","get_G","get_B","hxPixels__$Pixels_Pixel_$Impl_$","set_A","set_R","set_G","set_B","captureStackTrace","__super__","from","fields","Inherit","proto","$extend","getClass","cl","__nativeClassName","__resolveNativeClass","str1","tostr","s2","str2","hasp","__interfLoop","cc","intf","__instanceof","Bool","Dynamic","Int","__isNativeObj","Class","Enum","__toStr","js_html_compat_ArrayBuffer","sliceImpl","js_html_compat_Uint8Array","arg1","byteOffset","_subarray","_set","a1","wings_core_ISimpleDrawingContext","wings_jsCanvas_BasicCanvas","dom","surface","header","wings_jsCanvas_CanvasHeader","paddingLeft","paddingTop","backgroundColor","bgColor","fillStyle","innerHTML","getElementsByTagName","animation","frameRate","tim","onEnterFrame","clearRect","beginPath","arc","stroke","closePath","drawRect","drawTri","wid","alpha","lineWidth","strokeStyle","quadTo","quadraticCurveTo","canvasHeader","toHashColor","wings_jsCanvas_CanvasPixelMatrix","data_","w_","h_","lookup","createCanvasPixelMatrixFromContext","dataIn","getImageData","wings_jsCanvas_ImageLoader","imageNames","loaded_","images","loaded","img","imgStyle","store","a2","thickness","drawEquilaterialTri","third","$fid","hx__closures__","method","scope","Boolean","NUM_SEGMENTS","EPSILON","EPSILON_SQUARED","MAX_INT","CHANNEL_MASK","BYTES_PER_PIXEL","BYTES_PER_ELEMENT","__meta__","global","self","hxDaedalus","RectMesh","factories","EntityAI","ai","PathFinder","DaedalusObject","Walkable","pathFinder","addRect","addPolygon","prevX","prevY","currX","currY","addPolyline","deleteObstacle","arr2","arrayLikeToArray","ReferenceError","instance","Constructor","_defineProperties","props","descriptor","protoProps","staticProps","unsupportedIterableToArray","allowArrayLike","it","F","_e","normalCompletion","didErr","_e2","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","construct","superPropBase","_get","property","base","_getPrototypeOf","setPrototypeOf","__proto__","subClass","superClass","sham","Proxy","valueOf","iter","_i","_s","_arr","_n","_d","_typeof","assertThisInitialized","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_setPrototypeOf","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","test","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","globalThis","prop","asyncGeneratorStep","gen","_throw","assertIsPositiveNumber","DELTA","nearest","rect_getNearestCorner","rect_getSegmentIntersectionIndices","ti1","ti2","nx","ny","q","_ti1","_ti2","dx","dy","nx1","ny1","nx2","ny2","rect_getDiff","w1","h1","w2","h2","rect_containsPoint","rect_isIntersecting","rect_getSquareDistance","rect_detectCollision","goalX","goalY","overlaps","ti","MAX_SAFE_INTEGER","sign","move","normal","itemRect","otherRect","grid_toCell","cellSize","grid_traverse_initStep","ct","grid_toCellRect","assertType","desiredType","assertIsRect","_world","column","_w","_h","_goalX","_goalY","_filter","collisions","slide","tch","bounce","collision","bnx","bny","sortByTiAndDistance","ir","ar","br","defaultFilter","sortByWeight","weight","getCellsTouchedBySegment","cells","visited","traverseFunction","stepX","stepY","grid_traverse","cell","ID","getInfoAboutItemsTouchedBySegment","itemInfo","itemID","arr1","tii0","tii1","input","responses","rects","nonEmptyCells","_proto","addResponse","response","getResponseByName","tl","tt","tw","th","cw","dictItemsInCellRect","getDictItemsInCellRect","other","responseName","hasItem","getRect","countCells","getItems","rectID","countItems","addItemToCell","items_dict","removeItemFromCell","_row$cx","toWorld","grid_toWorld","toCell","queryRect","queryPoint","querySegment","itemsInfo","querySegmentWithCoords","JSON","parse","stringify","cl1","ct1","cw1","cl2","ct2","cw2","cyOut","cr1","cb1","cr2","cb2","checkFilter","visitedFilter","itm","detectedCollisions","projectedCollisions","collisionsCounter","bump","newWorld","getNearestCorner","getSegmentIntersectionIndices","getDiff","containsPoint","isIntersecting","getSquareDistance","detectCollision","freeze","_initializerDefineProperty","initializer","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_createSuper","_applyDecoratedDescriptor","decorators","reduce","decorator","Health","hp","maxHP","Moveable","speed","PathFinding","Pursuit","cooldownRequired","cooldownLeft","Spartial","Constants","MAP_WIDTH","MAP_HEIGHT","MAP_GRID_COLS","MAP_GRID_ROWS","CELL_WIDTH","CELL_HEIGHT","MAX_COUNT_MAP","ChangeMapSystem","reload","realNextMapPosY","realPreMapPosY","offsetTileMap","spartialPlayer","tempVec2","tempboolean","playerRect","bumpWorld","gameConfig","mapNumber","port","preMap","layersMapRender","obstacle","walkableRect","walkable","tempEnemyPos","map2","gameState","enemyIDs","spartialEnemy","getComponent","deleteEntity","map1","enemyArchetype","enemy","createEntityByArchetype","setRadius","setSpeed","pursuit","playerID","healthEnemy","setHp","setMaxHP","setTarget","nextMap","mapData","layers","walls","layer1","layer2","map3","map4","obstacles","spawn","EnemyProcessingSystem","dcm","moveableEnemy","subVector","EnemyRenderSystem","shapeRenderer","circle","getRandomInt","EnemySpawningSystem","MAX_ENEMIES","remainingTimeSpawnEnemy","posSpawnEnemy","MapRenderingSystem","regionId","tileSetsRegions","MovementSystem","movableMapper","spartialMapper","movable","spartial","setActive","ObstaclesSystem","PathFindingSystem","pathFinding","setDirection","Damage","damage","dmg","PlayerMovementSystem","playerArchetype","player","setPos","healthPlayer","setDmg","joyStick","thumbPos","getTouchedWorldCoord","movePlayer","PlayerRenderSystem","checkWall","BulletProcessingSystem","tempVec2Obstacle","bulletIDs","spartialBullet","moveAbleBullet","BulletRenderSystem","BulletSpawningSystem","attackSpeed","time","tempDistance","offsetW","offsetH","checkEnemy","bulletArchetype","bullet","PursuitSystem","pathfinding","targetPos","stage","tileSets","clearColor","changePreMap","changeCurrentMap","changeNextMap","dragging","Bump","OFFSET_TILE_MAP","register","addSystem","COLOR_BUFFER_BIT","setProjection","setDelta","processActiveSystem","processPassiveSystem"],"sourceRoot":""}